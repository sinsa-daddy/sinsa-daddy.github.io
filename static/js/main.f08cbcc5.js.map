{"version":3,"file":"static/js/main.f08cbcc5.js","sources":["webpack://@sinsa/web/../../packages/schema/dist/es/schema/aurorian.js","webpack://@sinsa/web/../../packages/schema/dist/es/schema/copilot-next.js","webpack://@sinsa/web/../../packages/schema/dist/es/schema/feishu-copilot.js","webpack://@sinsa/web/../../packages/schema/dist/es/schema/term.js","webpack://@sinsa/web/../../packages/schema/dist/es/utils/to-feishu-copilot.js","webpack://@sinsa/web/./src/assets/wrench.svg","webpack://@sinsa/web/./src/components/AdaptiveAurorianCard/constants.ts","webpack://@sinsa/web/./src/components/DarkModeButton/index.tsx","webpack://@sinsa/web/./src/components/ErrorBoundary/index.tsx","webpack://@sinsa/web/./src/components/ServiceWorkerUpdateBanner/index.tsx","webpack://@sinsa/web/./src/components/XFeatureBanner/constants.ts","webpack://@sinsa/web/./src/components/XFeatureBanner/index.tsx","webpack://@sinsa/web/./src/config/domain.ts","webpack://@sinsa/web/./src/globalTheme.ts","webpack://@sinsa/web/./src/index.tsx","webpack://@sinsa/web/./src/models/aurorians.ts","webpack://@sinsa/web/./src/models/dark.ts","webpack://@sinsa/web/./src/models/terms/helpers/get-latest-term.ts","webpack://@sinsa/web/./src/models/terms/index.ts","webpack://@sinsa/web/./src/plugins/apm.ts","webpack://@sinsa/web/./src/plugins/dayjs.ts","webpack://@sinsa/web/./src/plugins/framer-motion.tsx","webpack://@sinsa/web/./src/plugins/icon-park.tsx","webpack://@sinsa/web/./src/routes/layout.data.ts","webpack://@sinsa/web/./src/routes/layout.tsx","webpack://@sinsa/web/./src/routes/providers.tsx","webpack://@sinsa/web/./src/schemas/bilibili-video-detail.ts","webpack://@sinsa/web/./src/schemas/feishu-access-token.ts","webpack://@sinsa/web/./src/schemas/feishu-profile.ts","webpack://@sinsa/web/./src/services/dark-mode.ts","webpack://@sinsa/web/./src/services/feishu-oauth.ts","webpack://@sinsa/web/./src/services/http.ts","webpack://@sinsa/web/./src/services/service-worker/index.tsx","webpack://@sinsa/web/./src/services/service-worker/use-actual-latest-term.ts","webpack://@sinsa/web/./src/views/GlobalLayout/constants.tsx","webpack://@sinsa/web/./src/views/GlobalLayout/index.tsx","webpack://@sinsa/web/./src/views/UploadView/LarkLoginCard/constants.ts","webpack://@sinsa/web/"],"sourcesContent":["import { z } from \"zod\";\nvar AurorianAttributeType = /* @__PURE__ */ ((AurorianAttributeType2) => {\n  AurorianAttributeType2[\"Forest\"] = \"Forest\";\n  AurorianAttributeType2[\"Water\"] = \"Water\";\n  AurorianAttributeType2[\"Fire\"] = \"Fire\";\n  AurorianAttributeType2[\"Thunder\"] = \"Thunder\";\n  return AurorianAttributeType2;\n})(AurorianAttributeType || {});\nvar AurorianClassType = /* @__PURE__ */ ((AurorianClassType2) => {\n  AurorianClassType2[\"Detonator\"] = \"Detonator\";\n  AurorianClassType2[\"Sniper\"] = \"Sniper\";\n  AurorianClassType2[\"Converter\"] = \"Converter\";\n  AurorianClassType2[\"Supporter\"] = \"Supporter\";\n  return AurorianClassType2;\n})(AurorianClassType || {});\nvar AurorianRarityType = /* @__PURE__ */ ((AurorianRarityType2) => {\n  AurorianRarityType2[\"Star6\"] = \"6\";\n  AurorianRarityType2[\"Star5\"] = \"5\";\n  AurorianRarityType2[\"Star4\"] = \"4\";\n  AurorianRarityType2[\"Star3\"] = \"3\";\n  AurorianRarityType2[\"Star2\"] = \"2\";\n  AurorianRarityType2[\"Star1\"] = \"1\";\n  return AurorianRarityType2;\n})(AurorianRarityType || {});\nconst AurorianNextSchema = z.object({\n  aurorian_id: z.string(),\n  name: z.string(),\n  cn_name: z.string(),\n  primary_element: z.nativeEnum(AurorianAttributeType),\n  secondary_element: z.optional(z.nativeEnum(AurorianAttributeType)),\n  profession: z.nativeEnum(AurorianClassType),\n  rarity: z.number().min(1).max(6)\n});\nexport {\n  AurorianAttributeType,\n  AurorianClassType,\n  AurorianNextSchema,\n  AurorianRarityType\n};\n","import { z } from \"zod\";\nconst AurorianRequirementLevelSchema = z.object({\n  asc: z.number().min(0).max(3),\n  lv: z.number().min(1).max(80),\n  eq: z.number().min(0).max(10).describe(\"装备等级, 0 = 无要求\"),\n  rfn: z.number().min(0).max(3).describe(\"精炼等级, 0 = 无要求\"),\n  aff: z.number().min(0).max(10).describe(\"好感等级, 0 = 无要求\")\n});\nconst AurorianRequirementReplaceSchema = z.object({\n  type: z.literal(\"aurorians\"),\n  aurorians: z.array(\n    z.object({\n      aurorian_id: z.string(),\n      breakthrough: z.number()\n    })\n  )\n}).or(\n  z.object({\n    type: z.literal(\"any\"),\n    any: z.enum([\"All\", \"DPS\", \"TP\", \"Heal\"])\n  })\n);\nconst AurorianRequirementRemarkSchema = z.object({\n  level: z.optional(AurorianRequirementLevelSchema).describe(\"觉醒、等级、装备技能、精炼、好感\"),\n  replace: z.optional(AurorianRequirementReplaceSchema).describe(\"可替换对象\")\n});\nconst AurorianRequirementSchema = z.object({\n  aurorian_id: z.string(),\n  breakthrough: z.number().min(0).max(6).describe(\"光灵突破数（黄色星星数量）\"),\n  remark: z.optional(AurorianRequirementRemarkSchema)\n});\nconst UNKNOWN_AUTHOR_ID = \"$UNKNOWN$\";\nvar CopilotSourceType = /* @__PURE__ */ ((CopilotSourceType2) => {\n  CopilotSourceType2[\"Bilibili\"] = \"Bilibili\";\n  CopilotSourceType2[\"Youtube\"] = \"Youtube\";\n  return CopilotSourceType2;\n})(CopilotSourceType || {});\nvar CopilotUserProviderType = /* @__PURE__ */ ((CopilotUserProviderType2) => {\n  CopilotUserProviderType2[\"Feishu\"] = \"Feishu\";\n  return CopilotUserProviderType2;\n})(CopilotUserProviderType || {});\nconst CopilotNextAuthorSchema = z.object({\n  author_id: z.literal(UNKNOWN_AUTHOR_ID).or(z.string()).describe(\"作者唯一标识\"),\n  name: z.string()\n});\nconst CopilotNextUserSchema = z.object({\n  user_id: z.string(),\n  provider_type: z.nativeEnum(CopilotUserProviderType),\n  name: z.string()\n});\nconst CopilotNextAssetSchema = z.object({\n  type: z.literal(\"script33\"),\n  script33: z.object({\n    link: z.string().startsWith(\"https://\")\n  })\n});\nconst CopilotNextSchema = z.object({\n  copilot_id: z.string().describe(\"作业唯一标识\"),\n  source_type: z.nativeEnum(CopilotSourceType),\n  href: z.string().describe(\"BVxxx?p=x 或者 watch?v=xxx\"),\n  term_id: z.string().describe(\"期数唯一标识\"),\n  title: z.string(),\n  score: z.number(),\n  author_id: z.string().or(z.literal(UNKNOWN_AUTHOR_ID)),\n  author_name: z.string(),\n  description: z.optional(z.string()),\n  upload_time: z.coerce.date(),\n  created_by: CopilotNextUserSchema,\n  created_time: z.coerce.date(),\n  aurorian_requirements: z.tuple([\n    AurorianRequirementSchema,\n    AurorianRequirementSchema,\n    AurorianRequirementSchema,\n    AurorianRequirementSchema,\n    AurorianRequirementSchema\n  ]),\n  assets: z.optional(z.array(CopilotNextAssetSchema))\n});\nexport {\n  AurorianRequirementLevelSchema,\n  AurorianRequirementRemarkSchema,\n  AurorianRequirementReplaceSchema,\n  AurorianRequirementSchema,\n  CopilotNextAssetSchema,\n  CopilotNextAuthorSchema,\n  CopilotNextSchema,\n  CopilotNextUserSchema,\n  CopilotSourceType,\n  CopilotUserProviderType,\n  UNKNOWN_AUTHOR_ID\n};\n","import { z } from \"zod\";\nimport {\n  CopilotSourceType,\n  UNKNOWN_AUTHOR_ID,\n  CopilotNextUserSchema,\n  AurorianRequirementRemarkSchema,\n  CopilotNextAssetSchema\n} from \"./copilot-next\";\nconst FeishuCopilotSchema = z.object({\n  copilot_id: z.string(),\n  source_type: z.nativeEnum(CopilotSourceType),\n  href: z.string(),\n  term_id: z.string(),\n  title: z.string(),\n  score: z.coerce.number(),\n  author_id: z.string().or(z.literal(UNKNOWN_AUTHOR_ID)),\n  author_name: z.string(),\n  description: z.optional(z.string()),\n  upload_time: z.coerce.date().transform((val) => val.valueOf()),\n  created_by: CopilotNextUserSchema.transform((user) => JSON.stringify(user)),\n  created_time: z.coerce.date().transform((val) => val.valueOf()),\n  aurorian_1_id: z.string(),\n  aurorian_1_breakthrough: z.coerce.number(),\n  aurorian_1_remark: z.optional(\n    z.preprocess(\n      (val) => typeof val === \"string\" ? JSON.parse(val) : val,\n      AurorianRequirementRemarkSchema\n    ).transform((remark) => JSON.stringify(remark))\n  ),\n  aurorian_2_id: z.string(),\n  aurorian_2_breakthrough: z.coerce.number(),\n  aurorian_2_remark: z.optional(\n    z.preprocess(\n      (val) => typeof val === \"string\" ? JSON.parse(val) : val,\n      AurorianRequirementRemarkSchema\n    ).transform((remark) => JSON.stringify(remark))\n  ),\n  aurorian_3_id: z.string(),\n  aurorian_3_breakthrough: z.coerce.number(),\n  aurorian_3_remark: z.optional(\n    z.preprocess(\n      (val) => typeof val === \"string\" ? JSON.parse(val) : val,\n      AurorianRequirementRemarkSchema\n    ).transform((remark) => JSON.stringify(remark))\n  ),\n  aurorian_4_id: z.string(),\n  aurorian_4_breakthrough: z.coerce.number(),\n  aurorian_4_remark: z.optional(\n    z.preprocess(\n      (val) => typeof val === \"string\" ? JSON.parse(val) : val,\n      AurorianRequirementRemarkSchema\n    ).transform((remark) => JSON.stringify(remark))\n  ),\n  aurorian_5_id: z.string(),\n  aurorian_5_breakthrough: z.coerce.number(),\n  aurorian_5_remark: z.optional(\n    z.preprocess(\n      (val) => typeof val === \"string\" ? JSON.parse(val) : val,\n      AurorianRequirementRemarkSchema\n    ).transform((remark) => JSON.stringify(remark))\n  ),\n  assets: z.optional(\n    z.preprocess(\n      (val) => typeof val === \"string\" ? JSON.parse(val) : val,\n      z.array(CopilotNextAssetSchema)\n    ).transform((asset) => JSON.stringify(asset))\n  )\n});\nexport {\n  FeishuCopilotSchema\n};\n","import { z } from \"zod\";\nimport { AurorianAttributeType } from \"./aurorian\";\nconst TERM_ID_REGEXP = /^cn-\\d+$/;\nconst TermNextSchema = z.object({\n  term_id: z.string().regex(TERM_ID_REGEXP),\n  order: z.coerce.number().int().describe(\"荒典期数\"),\n  boss_name: z.string(),\n  boss_element: z.nativeEnum(AurorianAttributeType).describe(\"BOSS属性\"),\n  start_time: z.coerce.date(),\n  end_time: z.coerce.date(),\n  features: z.string(),\n  reruns: z.optional(z.array(z.string().regex(TERM_ID_REGEXP)))\n});\nexport {\n  TermNextSchema\n};\n","var __defProp = Object.defineProperty;\nvar __defProps = Object.defineProperties;\nvar __getOwnPropDescs = Object.getOwnPropertyDescriptors;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp.call(b, prop))\n      __defNormalProp(a, prop, b[prop]);\n  if (__getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(b)) {\n      if (__propIsEnum.call(b, prop))\n        __defNormalProp(a, prop, b[prop]);\n    }\n  return a;\n};\nvar __spreadProps = (a, b) => __defProps(a, __getOwnPropDescs(b));\nimport { FeishuCopilotSchema } from \"../schema/feishu-copilot\";\nfunction toFeishuCopilot(c) {\n  const val = __spreadProps(__spreadValues({}, c), {\n    aurorian_1_id: c.aurorian_requirements[0].aurorian_id,\n    aurorian_1_breakthrough: c.aurorian_requirements[0].breakthrough,\n    aurorian_1_remark: c.aurorian_requirements[0].remark,\n    aurorian_2_id: c.aurorian_requirements[1].aurorian_id,\n    aurorian_2_breakthrough: c.aurorian_requirements[1].breakthrough,\n    aurorian_2_remark: c.aurorian_requirements[1].remark,\n    aurorian_3_id: c.aurorian_requirements[2].aurorian_id,\n    aurorian_3_breakthrough: c.aurorian_requirements[2].breakthrough,\n    aurorian_3_remark: c.aurorian_requirements[2].remark,\n    aurorian_4_id: c.aurorian_requirements[3].aurorian_id,\n    aurorian_4_breakthrough: c.aurorian_requirements[3].breakthrough,\n    aurorian_4_remark: c.aurorian_requirements[3].remark,\n    aurorian_5_id: c.aurorian_requirements[4].aurorian_id,\n    aurorian_5_breakthrough: c.aurorian_requirements[4].breakthrough,\n    aurorian_5_remark: c.aurorian_requirements[4].remark,\n    description: c.description,\n    assets: c.assets\n  });\n  return FeishuCopilotSchema.parse(val);\n}\nfunction toFeishuCopilotWithoutCreatedInfo(c) {\n  const val = __spreadProps(__spreadValues({}, c), {\n    aurorian_1_id: c.aurorian_requirements[0].aurorian_id,\n    aurorian_1_breakthrough: c.aurorian_requirements[0].breakthrough,\n    aurorian_1_remark: c.aurorian_requirements[0].remark,\n    aurorian_2_id: c.aurorian_requirements[1].aurorian_id,\n    aurorian_2_breakthrough: c.aurorian_requirements[1].breakthrough,\n    aurorian_2_remark: c.aurorian_requirements[1].remark,\n    aurorian_3_id: c.aurorian_requirements[2].aurorian_id,\n    aurorian_3_breakthrough: c.aurorian_requirements[2].breakthrough,\n    aurorian_3_remark: c.aurorian_requirements[2].remark,\n    aurorian_4_id: c.aurorian_requirements[3].aurorian_id,\n    aurorian_4_breakthrough: c.aurorian_requirements[3].breakthrough,\n    aurorian_4_remark: c.aurorian_requirements[3].remark,\n    aurorian_5_id: c.aurorian_requirements[4].aurorian_id,\n    aurorian_5_breakthrough: c.aurorian_requirements[4].breakthrough,\n    aurorian_5_remark: c.aurorian_requirements[4].remark,\n    description: c.description,\n    assets: c.assets\n  });\n  return FeishuCopilotSchema.omit({\n    created_by: true,\n    created_time: true\n  }).parse(val);\n}\nexport {\n  toFeishuCopilot,\n  toFeishuCopilotWithoutCreatedInfo\n};\n","import * as React from \"react\";\nconst SvgWrench = props => <svg xmlns=\"http://www.w3.org/2000/svg\" width={24} height={24} className=\"wrench_svg__icon\" viewBox=\"0 0 1024 1024\" {...props}><path fill=\"#dc5950\" d=\"M512 0a512 512 0 1 1 0 1024A512 512 0 0 1 512 0\" /><path fill=\"#dc5950\" d=\"M757.5 392a19 19 0 0 0-17 5.2L594.7 545.7c-14.7 14.7-64 4-97.3-9-13-33.2-23.7-82.6-9-97.2l149.2-145a18.7 18.7 0 0 0 5.1-17 18.9 18.9 0 0 0-11.5-13.7 250.2 250.2 0 0 0-269.5 55.5 249.1 249.1 0 0 0-67.2 231.4c-2.4 40.3-39 87.6-58 106.9L90.8 803a514.5 514.5 0 0 0 139.6 136.5L369.2 801c19.5-19.2 72-55.4 112-59.5 6.1.4 18.6 1.2 21.4 1.8v-.2a250 250 0 0 0 213-70.2 249.8 249.8 0 0 0 55.6-269.3 18.8 18.8 0 0 0-13.7-11.5z\" /><path fill=\"#EDEDED\" d=\"M757.5 381.8a19 19 0 0 0-17 5.2L594.7 535.5c-14.7 14.7-64 4-97.3-9-13-33.2-23.7-82.6-9-97.3l149.2-145a18.7 18.7 0 0 0 5.1-17 18.9 18.9 0 0 0-11.5-13.7 250.2 250.2 0 0 0-269.5 55.6 249.1 249.1 0 0 0-67.2 231.4c-2.4 40.3-39 87.6-58 106.9L86.6 797a514.7 514.7 0 0 0 137.6 138.5l145-144.8c19.4-19.2 72-55.3 112-59.5 6.1.4 18.6 1.2 21.4 1.9v-.3a250 250 0 0 0 213-70.2 249.8 249.8 0 0 0 55.6-269.3 18.8 18.8 0 0 0-13.7-11.5\" /><path fill=\"#E1E1E1\" d=\"M787 456.3c1.4 11 2 22.2 1.8 33.3a249.7 249.7 0 0 0-17.6-86 18.8 18.8 0 0 0-30.8-6.4L594.8 545.7c-14.7 14.7-64 4-97.3-9l-3.3-9-345.3 345.2a514 514 0 0 0 75.3 62.6l145-144.8c19.5-19.2 72-55.3 112-59.5 6.1.4 18.6 1.2 21.4 1.9v-.3a250 250 0 0 0 213-70.2 249.6 249.6 0 0 0 71.5-206.3zm-8.8-42.9-1.5-4.7zm5 19.6-1.8-7.7z\" /><path fill=\"#F4F4F4\" d=\"M361.8 319.3a250.2 250.2 0 0 1 269.5-55.5c5.5 2.2 9.6 6.8 11.1 12.5.9-3 1-6 .4-9.1a18.9 18.9 0 0 0-11.5-13.7 250.2 250.2 0 0 0-269.5 55.6 249 249 0 0 0-73.2 179.3 249 249 0 0 1 73.2-169.1m-125.2 328L86.6 797l4.2 6 145.8-145.4c19-19.3 55.6-66.6 58-106.9l-.8-3.7c-5.5 38.8-39.3 82.1-57.2 100.4z\" /><path fill=\"#CCD0D2\" d=\"M294 693.4 132.1 855.3a515 515 0 0 0 36.3 36.2l161.9-161.8a25.6 25.6 0 1 0-36.3-36.3\" /><path fill=\"#B8BCBE\" d=\"M294 693.4 132.1 855.3l5 5.3 156.9-157a25.6 25.6 0 0 1 43.2 13 25.6 25.6 0 0 0-43.2-23.2\" /></svg>;\nexport { SvgWrench as ReactComponent };\nexport default \"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgY2xhc3M9Imljb24iIHZpZXdCb3g9IjAgMCAxMDI0IDEwMjQiPgogICAgPHBhdGggZmlsbD0iI2RjNTk1MCIgZD0iTTUxMiAwYTUxMiA1MTIgMCAxIDEgMCAxMDI0QTUxMiA1MTIgMCAwIDEgNTEyIDB6IiAvPgogICAgPHBhdGggZmlsbD0iI2RjNTk1MCIKICAgICAgICBkPSJNNzU3LjUgMzkyYTE5IDE5IDAgMCAwLTE3IDUuMkw1OTQuNyA1NDUuN2MtMTQuNyAxNC43LTY0IDQtOTcuMy05LTEzLTMzLjItMjMuNy04Mi42LTktOTcuMmwxNDkuMi0xNDVhMTguNyAxOC43IDAgMCAwIDUuMS0xNyAxOC45IDE4LjkgMCAwIDAtMTEuNS0xMy43IDI1MC4yIDI1MC4yIDAgMCAwLTI2OS41IDU1LjUgMjQ5LjEgMjQ5LjEgMCAwIDAtNjcuMiAyMzEuNGMtMi40IDQwLjMtMzkgODcuNi01OCAxMDYuOUw5MC44IDgwM2E1MTQuNSA1MTQuNSAwIDAgMCAxMzkuNiAxMzYuNUwzNjkuMiA4MDFjMTkuNS0xOS4yIDcyLTU1LjQgMTEyLTU5LjUgNi4xLjQgMTguNiAxLjIgMjEuNCAxLjh2LS4yYTI1MCAyNTAgMCAwIDAgMjEzLTcwLjIgMjQ5LjggMjQ5LjggMCAwIDAgNTUuNi0yNjkuMyAxOC44IDE4LjggMCAwIDAtMTMuNy0xMS41eiIgLz4KICAgIDxwYXRoIGZpbGw9IiNFREVERUQiCiAgICAgICAgZD0iTTc1Ny41IDM4MS44YTE5IDE5IDAgMCAwLTE3IDUuMkw1OTQuNyA1MzUuNWMtMTQuNyAxNC43LTY0IDQtOTcuMy05LTEzLTMzLjItMjMuNy04Mi42LTktOTcuM2wxNDkuMi0xNDVhMTguNyAxOC43IDAgMCAwIDUuMS0xNyAxOC45IDE4LjkgMCAwIDAtMTEuNS0xMy43IDI1MC4yIDI1MC4yIDAgMCAwLTI2OS41IDU1LjYgMjQ5LjEgMjQ5LjEgMCAwIDAtNjcuMiAyMzEuNGMtMi40IDQwLjMtMzkgODcuNi01OCAxMDYuOUw4Ni42IDc5N2E1MTQuNyA1MTQuNyAwIDAgMCAxMzcuNiAxMzguNWwxNDUtMTQ0LjhjMTkuNC0xOS4yIDcyLTU1LjMgMTEyLTU5LjUgNi4xLjQgMTguNiAxLjIgMjEuNCAxLjl2LS4zYTI1MCAyNTAgMCAwIDAgMjEzLTcwLjIgMjQ5LjggMjQ5LjggMCAwIDAgNTUuNi0yNjkuMyAxOC44IDE4LjggMCAwIDAtMTMuNy0xMS41eiIgLz4KICAgIDxwYXRoIGZpbGw9IiNFMUUxRTEiCiAgICAgICAgZD0iTTc4NyA0NTYuM2MxLjQgMTEgMiAyMi4yIDEuOCAzMy4zYTI0OS43IDI0OS43IDAgMCAwLTE3LjYtODYgMTguOCAxOC44IDAgMCAwLTMwLjgtNi40TDU5NC44IDU0NS43Yy0xNC43IDE0LjctNjQgNC05Ny4zLTlsLTMuMy05LTM0NS4zIDM0NS4yYTUxMy44IDUxMy44IDAgMCAwIDc1LjMgNjIuNmwxNDUtMTQ0LjhjMTkuNS0xOS4yIDcyLTU1LjMgMTEyLTU5LjUgNi4xLjQgMTguNiAxLjIgMjEuNCAxLjl2LS4zYTI1MCAyNTAgMCAwIDAgMjEzLTcwLjIgMjQ5LjYgMjQ5LjYgMCAwIDAgNzEuNS0yMDYuM3ptLTguOC00Mi45LTEuNS00LjcgMS41IDQuN3ptOC4zIDM4LjJ6bS0zLjMtMTguNi0xLjgtNy43IDEuOCA3Ljd6IiAvPgogICAgPHBhdGggZmlsbD0iI0Y0RjRGNCIKICAgICAgICBkPSJNMzYxLjggMzE5LjNhMjUwLjIgMjUwLjIgMCAwIDEgMjY5LjUtNTUuNWM1LjUgMi4yIDkuNiA2LjggMTEuMSAxMi41LjktMyAxLTYgLjQtOS4xYTE4LjkgMTguOSAwIDAgMC0xMS41LTEzLjcgMjUwLjIgMjUwLjIgMCAwIDAtMjY5LjUgNTUuNiAyNDkgMjQ5IDAgMCAwLTczLjIgMTc5LjMgMjQ5IDI0OSAwIDAgMSA3My4yLTE2OS4xem0tMTI1LjIgMzI4TDg2LjYgNzk3bDQuMiA2IDE0NS44LTE0NS40YzE5LTE5LjMgNTUuNi02Ni42IDU4LTEwNi45bC0uOC0zLjdjLTUuNSAzOC44LTM5LjMgODIuMS01Ny4yIDEwMC40eiIgLz4KICAgIDxwYXRoIGZpbGw9IiNDQ0QwRDIiCiAgICAgICAgZD0iTTI5NCA2OTMuNCAxMzIuMSA4NTUuM2E1MTUuNCA1MTUuNCAwIDAgMCAzNi4zIDM2LjJsMTYxLjktMTYxLjhhMjUuNiAyNS42IDAgMSAwLTM2LjMtMzYuM3oiIC8+CiAgICA8cGF0aCBmaWxsPSIjQjhCQ0JFIgogICAgICAgIGQ9Ik0yOTQgNjkzLjQgMTMyLjEgODU1LjNsNSA1LjMgMTU2LjktMTU3YTI1LjYgMjUuNiAwIDAgMSA0My4yIDEzIDI1LjYgMjUuNiAwIDAgMC00My4yLTIzLjJ6IiAvPgo8L3N2Zz4K\";","import { AurorianAttributeType, AurorianClassType } from '@sinsa/schema';\nimport E1 from '@/assets/elements/1.webp';\nimport E2 from '@/assets/elements/2.webp';\nimport E3 from '@/assets/elements/3.webp';\nimport E4 from '@/assets/elements/4.webp';\nimport C1 from '@/assets/classes/2001.webp';\nimport C2 from '@/assets/classes/2002.webp';\nimport C3 from '@/assets/classes/2003.webp';\nimport C4 from '@/assets/classes/2004.webp';\n\nexport const ElementURLMapper = {\n  [AurorianAttributeType.Water]: E1,\n  [AurorianAttributeType.Fire]: E2,\n  [AurorianAttributeType.Forest]: E3,\n  [AurorianAttributeType.Thunder]: E4,\n};\n\nexport const ElementTextMapper = {\n  [AurorianAttributeType.Water]: '水',\n  [AurorianAttributeType.Fire]: '火',\n  [AurorianAttributeType.Forest]: '森',\n  [AurorianAttributeType.Thunder]: '雷',\n};\n\nexport const ClassURLMapper = {\n  [AurorianClassType.Converter]: C1,\n  [AurorianClassType.Sniper]: C2,\n  [AurorianClassType.Detonator]: C3,\n  [AurorianClassType.Supporter]: C4,\n};\n\nexport enum AdaptiveAurorianCardMenuKey {\n  IgnoreAurorian = 'IgnoreAurorian',\n  IgnoreBreakthrough = 'IgnoreBreakthrough',\n  ReplaceAurorian = 'ReplaceAurorian',\n}\n\nexport const RefineTextMapper = {\n  '1': 'Ⅰ',\n  '2': 'Ⅱ',\n  '3': 'Ⅲ',\n};\n","import { DarkModeSwitch } from 'react-toggle-dark-mode';\nimport { useModel } from '@modern-js/runtime/model';\nimport { Button } from 'antd';\nimport styles from './styles.module.less';\nimport { DarkModel } from '@/models/dark';\n\nexport const DarkModeButton: React.FC = () => {\n  const [{ mode }, { setMode }] = useModel(DarkModel);\n\n  const toggleDarkMode = (isDark: boolean) => {\n    setMode(isDark ? 'dark' : 'system');\n  };\n\n  return (\n    <Button\n      className={styles.Switch}\n      onClick={e => {\n        e.stopPropagation();\n        toggleDarkMode(mode !== 'dark');\n      }}\n      icon={\n        <DarkModeSwitch\n          size={14}\n          checked={mode === 'dark'}\n          onChange={() => {\n            // ignore\n          }}\n        />\n      }\n    />\n  );\n};\n","import { Button, Result } from 'antd';\nimport type { ErrorInfo } from 'react';\nimport React from 'react';\n\ninterface ErrorBoundaryState {\n  hasError: boolean;\n  errorInfo: string;\n}\n\nexport class ErrorBoundary extends React.Component<\n  { children?: React.ReactNode },\n  ErrorBoundaryState\n> {\n  static getDerivedStateFromError(error: Error) {\n    return { hasError: true, errorInfo: error.message };\n  }\n\n  state: ErrorBoundaryState = { hasError: false, errorInfo: '' };\n\n  componentDidCatch(error: any, errorInfo: ErrorInfo) {\n    // You can also log the error to an error reporting service\n\n    console.log(error, errorInfo);\n  }\n\n  render() {\n    if (this.state.hasError) {\n      // You can render any custom fallback UI\n      return (\n        <Result\n          status=\"error\"\n          title=\"页面发生了错误\"\n          subTitle={`醒山小狗报错: ${this.state.errorInfo}`}\n          extra={[\n            <Button\n              type=\"primary\"\n              key=\"refresh\"\n              onClick={e => {\n                e.stopPropagation();\n                window.location.reload();\n              }}\n            >\n              刷新页面\n            </Button>,\n          ]}\n        />\n      );\n    }\n    return this.props.children;\n  }\n}\n","import { useModel } from '@modern-js/runtime/model';\nimport type React from 'react';\nimport { useEffect, useState } from 'react';\nimport type { TermNextType } from '@sinsa/schema';\nimport { Alert, Button, Typography } from 'antd';\nimport { Tips } from '@icon-park/react';\nimport styles from './styles.module.less';\nimport { TermsModel } from '@/models/terms';\nimport { useActualLatestTerm } from '@/services/service-worker/use-actual-latest-term';\n\nexport const ServiceWorkerUpdateBanner: React.FC = () => {\n  const [terms] = useModel(TermsModel);\n  const actualLatestTerm = useActualLatestTerm();\n  const [alertTerm, setAlertTerm] = useState<TermNextType>();\n\n  useEffect(() => {\n    if (\n      typeof terms.latestTerm?.order === 'number' &&\n      typeof actualLatestTerm?.order === 'number'\n    ) {\n      if (actualLatestTerm.order > terms.latestTerm.order) {\n        setAlertTerm(actualLatestTerm);\n      }\n    }\n  }, [terms.latestTerm?.order, actualLatestTerm?.order]);\n\n  if (alertTerm) {\n    return (\n      <Alert\n        className={styles.Alert}\n        type=\"error\"\n        icon={<Tips />}\n        banner\n        message={`荒典已经更新至 ${alertTerm.order} 期，刷新页面后可选择`}\n        action={\n          <Typography.Link\n            onClick={e => {\n              e.stopPropagation();\n              window.location.reload();\n            }}\n          >\n            <Button size=\"small\" type=\"primary\">\n              立即刷新\n            </Button>\n          </Typography.Link>\n        }\n      />\n    );\n  }\n  return null;\n};\n","export const X_FEATURE_FIELD = 'x-feature';\n","import type React from 'react';\nimport { Alert } from 'antd';\nimport { useLocation } from '@modern-js/runtime/router';\nimport styles from './styles.module.less';\nimport { X_FEATURE_FIELD } from './constants';\n\nexport const XFeatureBanner: React.FC = () => {\n  const location = useLocation();\n\n  if (location.search.includes(X_FEATURE_FIELD)) {\n    return (\n      <Alert\n        className={styles.Alert}\n        type=\"error\"\n        showIcon={false}\n        banner\n        message={`您正在使用内测版本的红油扳手作业站，当前版本包含实验性功能，未来可能进入正式版或被移除`}\n      />\n    );\n  }\n  return null;\n};\n","export type DomainKey = 'cn' | 'i18n' | 'local' | 'backup' | 'unknown';\n\nexport const DOMAIN_ORIGIN: Record<DomainKey, string> = {\n  cn: 'sinsa.top',\n  i18n: 'sinsa.dad',\n  local: 'localhost:8080',\n  backup: 'sinsa-daddy.com',\n  unknown: '',\n};\n\nexport const DOMAIN_TEXT: Record<DomainKey, string> = {\n  cn: '国内站点',\n  i18n: '国际备用站点',\n  local: '本地开发站点',\n  backup: '备用站点',\n  unknown: '未知站点',\n};\n\nexport const DOMAIN_KEYS = Object.keys(DOMAIN_ORIGIN);\n\nexport const DOMAIN_VALUES = Object.values(DOMAIN_ORIGIN);\n\nexport function getCurrentDomainKey(): DomainKey {\n  const currentHost = window.location.host;\n\n  switch (currentHost) {\n    case DOMAIN_ORIGIN.cn:\n      return 'cn';\n    case DOMAIN_ORIGIN.i18n:\n      return 'i18n';\n    case DOMAIN_ORIGIN.backup:\n      return 'backup';\n    case DOMAIN_ORIGIN.local:\n      return 'local';\n    default:\n      return 'unknown';\n  }\n}\n","import dayjs from 'dayjs';\n\nexport interface InnerTheme {\n  primaryColor: string;\n  primaryColorLight: string;\n  primaryBackgroundColor: string;\n}\n\nconst BaseTheme: InnerTheme = {\n  primaryColor: '#DC5950',\n  primaryColorLight: '#E3776B',\n  primaryBackgroundColor: '#FFF',\n};\n\nconst GreenTheme: InnerTheme = {\n  primaryColor: '#06a17e',\n  primaryColorLight: '#b8e986',\n  primaryBackgroundColor: '#FFF',\n};\n\nconst NOW = dayjs();\n\nexport const IS_FOOL = NOW.date() === 1 && NOW.month() === 3;\n\nexport const GLOBAL_THEME: InnerTheme = IS_FOOL ? GreenTheme : BaseTheme;\n","import type React from 'react';\nimport '@/plugins/dayjs';\nimport { applyApmPlus } from './plugins/apm';\nimport { serviceWorker } from '@/services/service-worker';\nimport '@icon-park/react/styles/index.less';\n\nexport default async function bootstrap(\n  _: React.ComponentType,\n  innerBootStrap: () => void,\n) {\n  applyApmPlus();\n  innerBootStrap();\n  serviceWorker.register();\n}\n","import { model } from '@modern-js/runtime/model';\nimport type {\n  AurorianAttributeType,\n  AurorianNextType,\n  AurorianRequirementType,\n} from '@sinsa/schema';\nimport { groupBy, mapValues } from 'lodash-es';\nimport { match } from 'pinyin-pro';\nimport type React from 'react';\nimport { ElementTextMapper } from '@/components/AdaptiveAurorianCard/constants';\n\nexport interface AuroriansState {\n  auroriansMap: Record<AurorianNextType['aurorian_id'], AurorianNextType>;\n}\n\nexport interface AuroriansOption {\n  label?: React.ReactNode;\n  options?: { label: string; value: string; options?: unknown[] }[];\n}\n\nexport function filterAuroriansOption(\n  inputValue: string,\n  option?: AuroriansOption,\n) {\n  if (Array.isArray(option?.options)) {\n    return false;\n  }\n\n  if (typeof option?.label === 'string') {\n    return match(option?.label, inputValue, {\n      precision: 'start',\n    });\n  }\n\n  return false;\n}\n\nexport const AuroriansModel = model<AuroriansState>('aurorians').define({\n  state: {\n    auroriansMap: {},\n  },\n  computed: {\n    WHOLE_BOX: (\n      state,\n    ): Record<\n      AurorianRequirementType['aurorian_id'],\n      AurorianRequirementType\n    > => {\n      return mapValues(state.auroriansMap, ({ aurorian_id }) => {\n        return {\n          aurorian_id,\n          breakthrough: Infinity, // 假设突破无穷大\n        } as AurorianRequirementType;\n      });\n    },\n    auroriansOptions: state => {\n      return Object.entries(groupBy(state.auroriansMap, 'primary_element')).map(\n        ([attribute, aurorians]) => {\n          return {\n            label: ElementTextMapper[attribute as AurorianAttributeType],\n            options: aurorians.map(a => {\n              return {\n                label: a.cn_name,\n                value: a.aurorian_id,\n              };\n            }),\n          } as AuroriansOption;\n        },\n      );\n    },\n  },\n  actions: {},\n});\n","import { model } from '@modern-js/runtime/model';\nimport { DARK_MODE_KEY } from '@/services/dark-mode';\n\ninterface DarkState {\n  mode: 'dark' | 'system' | 'light';\n}\n\nexport const DarkModel = model<DarkState>('dark').define({\n  state: {\n    mode: localStorage.getItem(DARK_MODE_KEY) ?? 'light',\n  },\n  actions: {},\n});\n","import type { TermNextType } from '@sinsa/schema';\nimport { minBy } from 'lodash-es';\n\nconst NOW = Date.now();\n\n/**\n * 这期荒典是否正在进行中\n * @param term\n */\nexport function isRunning(term: TermNextType) {\n  return term.start_time.valueOf() < NOW && NOW < term.end_time.valueOf();\n}\n\n/**\n * 获取最近的期数\n * @param terms\n * @returns\n */\nexport function getLatestTerm(terms: TermNextType[]) {\n  // 1. 是否有进行中的\n  const runningTerm = terms.find(t => isRunning(t));\n  if (runningTerm) {\n    return runningTerm;\n  }\n\n  // 2. 找刚刚结束的\n  const endLatest = minBy(terms, t => Math.abs(t.end_time.valueOf() - NOW));\n\n  if (endLatest) {\n    return endLatest;\n  }\n\n  return undefined;\n}\n","import { model } from '@modern-js/runtime/model';\nimport type { TermNextType } from '@sinsa/schema';\nimport { getLatestTerm } from './helpers/get-latest-term';\n\nexport interface TermsState {\n  terms: TermNextType[];\n}\n\nexport const TermsModel = model<TermsState>('terms').define({\n  state: {\n    terms: [],\n  },\n  computed: {\n    latestTerm: state => getLatestTerm(state.terms),\n    termsOptions: state =>\n      state.terms.map(t => {\n        return {\n          label: `荒典第 ${t.order} 期`,\n          value: t.term_id,\n          extra: t,\n        };\n      }),\n    termsMap: state => {\n      const result: Record<TermNextType['term_id'], TermNextType> = {};\n      for (const t of state.terms) {\n        result[t.term_id] = t;\n      }\n      return result;\n    },\n  },\n  actions: {},\n});\n","import { SPALoadPlugin, actionPlugin } from '@apmplus/integrations';\nimport type { BrowserClient } from '@apmplus/web';\nimport { getCurrentDomainKey } from '@/config/domain';\n\ndeclare global {\n  interface Window {\n    browserClient: BrowserClient;\n  }\n}\n\nexport function applyApmPlus() {\n  window.browserClient.init?.({\n    aid: 609949,\n    token: 'ea57d64cf1ef44ed9423215eadb7f5a2',\n\n    // 其他配置\n    env: window.location.host,\n    release: `${__COMMIT_TIME__}_${__COMMIT_HASH__}`,\n\n    plugins: {\n      pageview: {\n        routeMode: 'hash',\n      },\n      resource: false,\n      blankScreen: {\n        rootSelector: '#root',\n      },\n    },\n    integrations: [SPALoadPlugin(), actionPlugin()],\n  });\n\n  if (getCurrentDomainKey() !== 'local') {\n    window.browserClient.start?.();\n  }\n}\n","import dayjs from 'dayjs';\nimport relativeTime from 'dayjs/plugin/relativeTime';\n\ndayjs.extend(relativeTime, {\n  thresholds: [\n    { l: 's', r: 1 },\n    { l: 'm', r: 1 },\n    { l: 'mm', r: 59, d: 'minute' },\n    { l: 'h', r: 1 },\n    { l: 'hh', r: 23, d: 'hour' },\n    { l: 'd', r: 1 },\n    { l: 'dd', r: 29, d: 'day' },\n    { l: 'M', r: 1 },\n    { l: 'MM', r: 11, d: 'month' },\n    { l: 'y', r: 1 },\n    { l: 'yy', d: 'year' },\n  ],\n});\n","import { LazyMotion, domAnimation } from 'framer-motion';\n\nexport const ReducedLazyMotion: React.FC<React.PropsWithChildren> = ({\n  children,\n}) => {\n  return <LazyMotion features={domAnimation}>{children}</LazyMotion>;\n};\n","import { GLOBAL_THEME } from '@/globalTheme';\nimport { IconProvider, DEFAULT_ICON_CONFIGS } from '@icon-park/react';\nimport type { IIconConfig } from '@icon-park/react/lib/runtime';\nimport type React from 'react';\n\nconst ICON_CONFIG: IIconConfig = {\n  ...DEFAULT_ICON_CONFIGS,\n  theme: 'multi-color',\n  colors: {\n    outline: {\n      fill: 'currentColor',\n      background: 'transparent',\n    },\n    filled: {\n      fill: 'currentColor',\n      background: GLOBAL_THEME.primaryBackgroundColor,\n    },\n    twoTone: {\n      fill: 'currentColor',\n      twoTone: GLOBAL_THEME.primaryColor,\n    },\n    multiColor: {\n      outStrokeColor: 'currentColor',\n      outFillColor: GLOBAL_THEME.primaryColor,\n      innerStrokeColor: GLOBAL_THEME.primaryBackgroundColor,\n      innerFillColor: GLOBAL_THEME.primaryColorLight,\n    },\n  },\n};\n\nexport const IconParkProvider: React.FC<React.PropsWithChildren> = ({\n  children,\n}) => {\n  return <IconProvider value={ICON_CONFIG}>{children}</IconProvider>;\n};\n","import type { AurorianNextType, TermNextType } from '@sinsa/schema';\nimport { getAurorians, getTerms } from '@/services/http';\n\nexport interface LayoutLoaderData {\n  terms: TermNextType[];\n  auroriansMap: Record<AurorianNextType['aurorian_id'], AurorianNextType>;\n}\n\nexport async function loader(): Promise<LayoutLoaderData> {\n  const [terms, auroriansMap] = await Promise.all([getTerms(), getAurorians()]);\n  return {\n    terms,\n    auroriansMap,\n  };\n}\n","import { Outlet, useLoaderData } from '@modern-js/runtime/router';\nimport { useModel } from '@modern-js/runtime/model';\nimport { isEmpty } from 'lodash-es';\nimport { useEffect } from 'react';\nimport type { LayoutLoaderData } from './layout.data';\nimport { Providers } from './providers';\nimport { TermsModel } from '@/models/terms';\nimport { AuroriansModel } from '@/models/aurorians';\nimport { GlobalLayout } from '@/views/GlobalLayout';\nimport { ServiceWorkerUpdateBanner } from '@/components/ServiceWorkerUpdateBanner';\nimport { XFeatureBanner } from '@/components/XFeatureBanner';\nimport { redirectToUploadPageWhenGettingCode } from '@/services/feishu-oauth';\n\nconst Layout: React.FC = () => {\n  const { terms: termsFromRemote, auroriansMap: auroriansMapFromRemote } =\n    useLoaderData() as LayoutLoaderData;\n\n  const [terms, termsActions] = useModel(TermsModel);\n  const [aurorians, auroriansActions] = useModel(AuroriansModel);\n\n  useEffect(() => {\n    if (terms.terms.length === 0) {\n      termsActions.setTerms(termsFromRemote);\n    }\n\n    if (isEmpty(aurorians.auroriansMap)) {\n      auroriansActions.setAuroriansMap(auroriansMapFromRemote);\n    }\n\n    redirectToUploadPageWhenGettingCode();\n  }, []);\n\n  return (\n    <Providers>\n      <GlobalLayout>\n        <ServiceWorkerUpdateBanner />\n        <XFeatureBanner />\n        <Outlet />\n      </GlobalLayout>\n    </Providers>\n  );\n};\n\nexport default Layout;\n","import { useModel } from '@modern-js/runtime/model';\nimport type { ThemeConfig } from 'antd';\nimport { ConfigProvider, theme as antDesignTheme } from 'antd';\nimport type React from 'react';\nimport { useEffect, useMemo } from 'react';\nimport { DarkModel } from '@/models/dark';\nimport { DARK_MODE_KEY } from '@/services/dark-mode';\nimport { IconParkProvider } from '@/plugins/icon-park';\nimport { GLOBAL_THEME } from '@/globalTheme';\n\nconst ANTD_PREFIX_CLASSNAME = 'sinsa' as const;\nconst COLOR_PRIMARY = GLOBAL_THEME.primaryColor;\n\nfunction useAntDesignTheme() {\n  const [{ mode }] = useModel(DarkModel);\n\n  useEffect(() => {\n    localStorage.setItem(DARK_MODE_KEY, mode);\n  }, [mode]);\n\n  const theme = useMemo<ThemeConfig>(() => {\n    let algorithm = antDesignTheme.defaultAlgorithm;\n    if (mode === 'dark') {\n      algorithm = antDesignTheme.darkAlgorithm;\n    }\n    return {\n      token: {\n        colorPrimary: COLOR_PRIMARY,\n        colorLink: COLOR_PRIMARY,\n      },\n      algorithm,\n    };\n  }, [mode]);\n\n  return {\n    theme,\n  };\n}\n\nexport const Providers: React.FC<React.PropsWithChildren> = ({ children }) => {\n  const { theme } = useAntDesignTheme();\n  return (\n    <ConfigProvider prefixCls={ANTD_PREFIX_CLASSNAME} theme={theme}>\n      <IconParkProvider>{children}</IconParkProvider>\n    </ConfigProvider>\n  );\n};\n","import { z } from '@sinsa/schema';\n\nexport const BilibiliVideoDetailSchema = z.object({\n  bvid: z.string().startsWith('BV'),\n  aid: z.number(),\n  pic: z.string(),\n  pubdate: z.coerce.date(),\n  duration: z.number(),\n  desc: z.string(),\n  owner: z.object({\n    name: z.string(),\n    mid: z.number(),\n    face: z.string(),\n  }),\n  title: z.string(),\n});\n\nexport type BilibiliVideoDetailType = z.infer<typeof BilibiliVideoDetailSchema>;\n","import { z } from '@sinsa/schema';\n\n// const a = {\n//   access_token: 'u-4ArQf_ljZ5lQ02e9b',\n//   refresh_token: 'ur-4Y5.YoG0g4Q02b9b',\n//   token_type: 'Bearer',\n//   expires_in: 7200,\n//   refresh_expires_in: 2592000,\n//   scope: 'auth:user.id:read bitable:app',\n// };\n\nexport const FeishuAccessTokenSchema = z.object({\n  access_token: z.string(),\n  refresh_token: z.string(),\n  token_type: z.string(),\n  expires_in: z.number(),\n  refresh_expires_in: z.number(),\n  scope: z.string(),\n  startTime: z.number(),\n});\n\nexport interface FeishuAccessTokenType\n  extends z.infer<typeof FeishuAccessTokenSchema> {}\n","import { z } from '@sinsa/schema';\n\nexport const FeishuProfileSchema = z.object({\n  avatar_url: z.string(),\n  en_name: z.string(),\n  name: z.string(),\n  open_id: z.string(),\n  tenant_key: z.string(),\n  union_id: z.string(),\n});\n\nexport interface FeishuProfileType\n  extends z.infer<typeof FeishuProfileSchema> {}\n","import { useLocalStorageState } from 'ahooks';\n\ntype DarkModeType = 'system' | 'light' | 'dark';\n\nexport const DARK_MODE_KEY = 'SINSA_DADDY_THEME_DARK_MODE';\n\nexport function useDarkMode() {\n  const [darkMode, setDarkMode] = useLocalStorageState<DarkModeType>(\n    'SINSA_DADDY_THEME_DARK_MODE',\n    {\n      defaultValue: 'system',\n    },\n  );\n\n  return {\n    darkMode,\n    setDarkMode,\n  };\n}\n","import { RoutePath } from '@/views/GlobalLayout/constants';\n\nexport function redirectToUploadPageWhenGettingCode() {\n  const currentURL = new URL(window.location.href);\n  if (\n    currentURL.searchParams.has('code') &&\n    currentURL.searchParams.has('state')\n  ) {\n    window.location.href = `${window.location.origin}/#${RoutePath.Upload}${currentURL.search}`;\n  }\n}\n","import type {\n  CopilotNextType,\n  FeishuCopilotType,\n  TermNextType,\n} from '@sinsa/schema';\nimport {\n  AurorianNextSchema,\n  CopilotNextSchema,\n  TermNextSchema,\n} from '@sinsa/schema';\nimport { isPlainObject, mapValues, once } from 'lodash-es';\nimport axios from 'axios';\nimport { FeishuProfileSchema } from '@/schemas/feishu-profile';\nimport { BilibiliVideoDetailSchema } from '@/schemas/bilibili-video-detail';\nimport type { FeishuAccessTokenType } from '@/schemas/feishu-access-token';\nimport { FeishuAccessTokenSchema } from '@/schemas/feishu-access-token';\nimport { LOCAL_STORAGE_ACCESS_TOKEN } from '@/views/UploadView/LarkLoginCard/constants';\nimport type { getCopilotId } from '@/components/UploadForm/utils/get-copilot-id';\n\nconst http = axios.create({});\n\nconst httpWithToken = axios.create({});\n\nhttpWithToken.interceptors.request.use(\n  async config => {\n    const content = window.localStorage.getItem(LOCAL_STORAGE_ACCESS_TOKEN);\n    const tokenInfo = FeishuAccessTokenSchema.parse(\n      content ? JSON.parse(content) : null,\n    );\n    config.headers = {\n      Authorization: `${tokenInfo.token_type} ${tokenInfo.access_token}`,\n      'Content-Type': 'application/json',\n    } as any;\n    return config;\n  },\n  error => {\n    return Promise.reject(error);\n  },\n);\n// Response interceptor for API calls\nhttpWithToken.interceptors.response.use(\n  response => {\n    return response;\n  },\n  async function (error) {\n    const originalRequest = error.config;\n    const content = window.localStorage.getItem(LOCAL_STORAGE_ACCESS_TOKEN);\n    const tokenInfo = FeishuAccessTokenSchema.parse(\n      content ? JSON.parse(content) : null,\n    );\n    const now = Date.now();\n    if (now > tokenInfo.startTime + tokenInfo.refresh_expires_in * 1000) {\n      return Promise.reject(error);\n    }\n\n    if (now > tokenInfo.startTime + tokenInfo.expires_in * 1000) {\n      if (error.response.status !== 200 && !originalRequest._retry) {\n        originalRequest._retry = true;\n        const newTokenInfo = await refreshFeishuToken({\n          refresh_token: tokenInfo.refresh_token,\n        });\n        if (newTokenInfo) {\n          originalRequest.headers.Authorization = `${newTokenInfo.token_type} ${newTokenInfo.access_token}`;\n          return httpWithToken(originalRequest);\n        }\n      }\n    }\n\n    return Promise.reject(error);\n  },\n);\n\n/**\n * 获取荒典首领信息\n */\nexport async function getTerms() {\n  try {\n    const response = await http.get('/api/v2/terms.json');\n    if (Array.isArray(response.data)) {\n      return response.data.map(item =>\n        TermNextSchema.parse(item),\n      ) as TermNextType[];\n    }\n  } catch (error) {}\n  return [];\n}\n\n/**\n * 获取光灵信息\n */\nexport async function getAurorians() {\n  try {\n    const response = await http.get('/api/v2/aurorians.json');\n    if (isPlainObject(response.data)) {\n      return mapValues(response.data, v => AurorianNextSchema.parse(v));\n    }\n  } catch (error) {}\n  return {};\n}\n\n/**\n * 获取作业\n */\nexport async function getCopilots(\n  termId: TermNextType['term_id'],\n): Promise<Record<CopilotNextType['copilot_id'], CopilotNextType>> {\n  const response = await http.get(`/api/v2/copilots/${termId}.json`, {\n    headers: { 'Cache-Control': 'no-cache' },\n  });\n  if (isPlainObject(response.data)) {\n    return mapValues(response.data, v => CopilotNextSchema.parse(v));\n  }\n  return {};\n}\n\n/**\n * 授权回调\n */\nexport async function getFeishuAccessToken(body: {\n  code: string;\n}): Promise<FeishuAccessTokenType | undefined> {\n  const now = Date.now();\n  try {\n    const response = await http.post('/api-worker/feishu/access-token', body);\n    if (response.data?.code === 0) {\n      const result = FeishuAccessTokenSchema.parse({\n        ...response.data.data,\n        startTime: now,\n      });\n      window.localStorage.setItem(\n        LOCAL_STORAGE_ACCESS_TOKEN,\n        JSON.stringify(result),\n      );\n      return result;\n    }\n  } catch (error) {}\n  return undefined;\n}\n\n/**\n * 授权回调\n */\nexport async function refreshFeishuToken(body: {\n  refresh_token: string;\n}): Promise<FeishuAccessTokenType | undefined> {\n  const now = Date.now();\n  try {\n    const response = await http.post('/api-worker/feishu/refresh-token', body);\n    if (response.data?.code === 0) {\n      const result = FeishuAccessTokenSchema.parse({\n        ...response.data?.data,\n        startTime: now,\n      });\n      window.localStorage.setItem(\n        LOCAL_STORAGE_ACCESS_TOKEN,\n        JSON.stringify(result),\n      );\n      return result;\n    }\n  } catch (error) {}\n  return undefined;\n}\n\n/**\n * 获取当前登录的飞书用户状态信息\n */\nexport const getFeishuProfile = once(async function getFeishuProfile() {\n  try {\n    const response = await httpWithToken.get('/api-worker/feishu/profile');\n    if (response.data?.code === 0) {\n      return FeishuProfileSchema.parse(response.data?.data);\n    }\n  } catch (error) {}\n  return undefined;\n});\n\n/**\n * 获取 B 站视频信息\n * @param bv 视频 BV 号\n * @returns 视频信息\n */\nexport async function getVideoInfo(bv: string) {\n  try {\n    const response = await httpWithToken.get(\n      `/api-worker/bilibili/video/${bv}`,\n    );\n    console.log('raw', response);\n    if (response.data?.code === 0) {\n      return BilibiliVideoDetailSchema.parse({\n        ...response.data?.data,\n        pubdate: (response.data?.data?.pubdate ?? 0) * 1000,\n      });\n    }\n  } catch (error) {\n    console.log('error', error);\n  }\n  return undefined;\n}\n\n/**\n * 判断 B 站视频是否已经收录\n * @returns\n */\nexport async function checkVideoExist({\n  aurorian_requirements,\n  ...args\n}: Parameters<typeof getCopilotId>[0]) {\n  try {\n    const response = await httpWithToken.get(\n      `/api-worker/feishu/copilot/detail`,\n      {\n        params: args,\n      },\n    );\n    if (response.data?.code === 0) {\n      return response.data?.data;\n    }\n  } catch (error) {}\n  return undefined;\n}\n\n/**\n * 提交作业\n * @param remoteCopilot 远程作业适配类型\n * @returns 提交结果\n */\nexport async function postCopilot(\n  remoteCopilot: Omit<FeishuCopilotType, 'created_time' | 'created_by'>,\n  { triggerAction }: { triggerAction?: boolean },\n) {\n  try {\n    const response = await httpWithToken.post(\n      '/api-worker/feishu/copilot',\n      remoteCopilot,\n      {\n        params: { triggerAction },\n      },\n    );\n    if (response?.data?.code === 0) {\n      return response?.data?.data;\n    }\n  } catch (error) {}\n  return undefined;\n}\n\n/**\n * 获取最近的 B 站作业收录情况\n * @returns\n */\nexport async function getLatestVideo() {\n  try {\n    const response = await httpWithToken.get(\n      '/api-worker/bilibili/latest-videos',\n    );\n    if (\n      response.data?.code === 0 &&\n      Array.isArray(response.data?.data?.result)\n    ) {\n      return response.data?.data;\n    }\n  } catch (error) {}\n  return undefined;\n}\n\n/**\n * 获取最近的 数据库 作业收录情况\n * @param params.pageSize 读取飞书数据库中最近作业条目\n * @returns\n */\nexport async function getLatestCopilots(params: { pageSize: number }) {\n  try {\n    const response = await httpWithToken.get(\n      '/api-worker/feishu/latest-copilots',\n      {\n        params,\n      },\n    );\n    if (response.data?.code === 0 && Array.isArray(response.data?.data)) {\n      return response.data?.data;\n    }\n  } catch (error) {}\n  return undefined;\n}\n","import { Typography, notification } from 'antd';\n\nexport class ServiceWorkerService {\n  static SERVICE_WORKER_URL: string = '/sw.js';\n\n  private static instance: ServiceWorkerService | null = null;\n\n  public static getInstance(): ServiceWorkerService {\n    if (ServiceWorkerService.instance === null) {\n      ServiceWorkerService.instance = new ServiceWorkerService();\n    }\n    return ServiceWorkerService.instance;\n  }\n\n  protected constructor() {\n    // noop\n  }\n\n  /**\n   * 注册 Service Worker\n   */\n  async register() {\n    if (\n      'serviceWorker' in window.navigator &&\n      window.location.host !== 'localhost:8080'\n    ) {\n      const { Workbox } = await import(\n        /* webpackChunkName: \"lib-workbox-window\" */ 'workbox-window'\n      );\n\n      const wb = new Workbox(ServiceWorkerService.SERVICE_WORKER_URL);\n\n      wb.addEventListener('activated', event => {\n        if (!event.isUpdate) {\n          notification.success({\n            message: `缓存完成, 作业站可以离线本地使用了`,\n            duration: 3,\n            placement: 'bottom',\n          });\n        } else {\n          notification.success({\n            message: (\n              <span>\n                缓存已更新, 刷新页面后生效{' '}\n                <Typography.Link\n                  onClick={e => {\n                    e.stopPropagation();\n                    window.location.reload();\n                  }}\n                >\n                  立即刷新\n                </Typography.Link>\n              </span>\n            ),\n            duration: 3,\n            placement: 'bottom',\n          });\n        }\n      });\n\n      window.__TERMS_UPDATE_PROMISE__ = new Promise(resolve => {\n        wb.addEventListener('message', event => {\n          if (event.data.type === 'TERMS_UPDATE') {\n            resolve(event.data.payload);\n          }\n        });\n\n        wb.register();\n      });\n    } else {\n      console.log('[ServiceWorkerService] Cannot register service worker.');\n    }\n  }\n}\n\nexport const serviceWorker = ServiceWorkerService.getInstance();\n","import { useEffect, useState } from 'react';\nimport { TermNextSchema, type TermNextType } from '@sinsa/schema';\nimport { getLatestTerm } from '@/models/terms/helpers/get-latest-term';\n\nexport function useActualLatestTerm() {\n  const [actualLatestTerm, setActualLatestTerm] = useState<TermNextType>();\n\n  useEffect(() => {\n    const run = async () => {\n      if (window.__TERMS_UPDATE_PROMISE__ instanceof Promise) {\n        const payload = await window.__TERMS_UPDATE_PROMISE__;\n\n        if (Array.isArray(payload?.terms)) {\n          const actualLatestTerm = getLatestTerm(\n            payload.terms.map(mayBeTerm => TermNextSchema.parse(mayBeTerm)),\n          );\n\n          if (typeof actualLatestTerm?.term_id === 'string') {\n            setActualLatestTerm(actualLatestTerm);\n          }\n        }\n      }\n    };\n\n    run();\n  }, []);\n\n  return actualLatestTerm;\n}\n","import {\n  // Analysis,\n  Home,\n  LightHouse,\n  // LightHouse,\n  Search,\n  Toolkit,\n  // Toolkit,\n  ViewList,\n} from '@icon-park/react';\n\nexport const RoutePath = {\n  Home: '/',\n  Solutions: (termId: 'latest' | string | ':term' = ':term') =>\n    `/solutions/${termId}`,\n  Copilots: (termId: 'latest' | string | ':term' = ':term') =>\n    `/copilots/${termId}`,\n  Dashboard: '/dashboard',\n  Upload: '/upload',\n  Questions:\n    'https://fwf92qm5h53.feishu.cn/share/base/form/shrcnkfhNUEP1AHIktUV6gRMFKc',\n  Tools: '/tools',\n  TeamBuilder: '/tools/team-builder',\n  GachaAnalyse: '/tools/gacha-analyse',\n} as const;\n\nconst IS_LOCALHOST = window.location.hostname === 'localhost';\n\nexport const MY_ROUTE = {\n  routes: [\n    {\n      path: RoutePath.Home,\n      name: '首页',\n      icon: <Home size={16} />,\n    },\n    {\n      path: RoutePath.Solutions(),\n      name: '作业匹配',\n      icon: <Search size={16} />,\n    },\n    {\n      path: RoutePath.Copilots(),\n      name: '作业全览',\n      icon: <ViewList size={16} />,\n    },\n    IS_LOCALHOST\n      ? {\n          name: '扳手工具箱',\n          icon: <Toolkit size={16} />,\n          path: RoutePath.Tools,\n          routes: [\n            {\n              name: '编队分享',\n              path: RoutePath.TeamBuilder,\n              icon: <LightHouse size={16} />,\n            },\n            // {\n            //   name: '非洲极光',\n            //   path: RoutePath.GachaAnalyse,\n            //   icon: <LightHouse size={16} />,\n            // },\n          ],\n        }\n      : null,\n    // {\n    //   path: RoutePath.Dashboard,\n    //   name: '数据全览',\n    //   icon: <Analysis size={16} />,\n    // },\n    // {\n    //   path: RoutePath.Questions,\n    //   name: '问卷调查',\n    //   icon: <EmotionHappy size={16} />,\n    //   link: true,\n    // },\n  ].filter(Boolean),\n};\n","import { ProLayout } from '@ant-design/pro-components';\nimport { Link, useLocation, useNavigate } from '@modern-js/runtime/router';\nimport { cloneElement, useCallback, useEffect, useMemo, useState } from 'react';\nimport type { MenuDataItem } from '@ant-design/pro-components';\nimport { Flex, FloatButton, Modal, Typography } from 'antd';\nimport clsx from 'clsx';\nimport { Provider as NiceModalProvider } from '@ebay/nice-modal-react';\nimport { MY_ROUTE, RoutePath } from './constants';\nimport styles from './styels.module.less';\nimport { ErrorBoundary } from '@/components/ErrorBoundary';\nimport { ReactComponent as IconLogo } from '@/assets/wrench.svg';\nimport { ReducedLazyMotion } from '@/plugins/framer-motion';\nimport { DarkModeButton } from '@/components/DarkModeButton';\nimport { IS_FOOL } from '@/globalTheme';\nimport { getCurrentDomainKey, DOMAIN_ORIGIN } from '@/config/domain';\n// import ThemeProvider from '@/theme/geek/ThemeProvider';\n\nconst NOOP = <div />;\n\nexport const GlobalLayout: React.FC<React.PropsWithChildren> = ({\n  children,\n}) => {\n  const location = useLocation();\n  const navigate = useNavigate();\n\n  const renderMenuItem = useCallback(\n    (item: MenuDataItem, dom: React.ReactNode) => {\n      if (!item.path) {\n        return NOOP;\n      }\n      switch (item.path) {\n        case RoutePath.Copilots():\n          return <Link to={RoutePath.Copilots('latest')}>{dom}</Link>;\n        case RoutePath.Solutions():\n          return <Link to={RoutePath.Solutions('latest')}>{dom}</Link>;\n        default:\n          return (\n            <Link to={item.path} target={item.link ? '_blank' : undefined}>\n              {dom}\n            </Link>\n          );\n      }\n    },\n    [],\n  );\n\n  const handleClickLogo = useCallback(() => {\n    navigate('/');\n  }, []);\n\n  const isHome = location.pathname === RoutePath.Home;\n\n  const token = useMemo(() => {\n    return { pageContainer: { paddingInlinePageContainerContent: 12 } };\n  }, []);\n\n  const renderFooter = useCallback(() => {\n    return (\n      <footer className={styles.Footer}>\n        <Flex\n          style={{ marginLeft: '16px', marginRight: '16px' }}\n          gap={'0 16px'}\n          justify=\"center\"\n          wrap=\"wrap\"\n        >\n          <Link\n            className={styles.BeiAn}\n            to={`https://beian.miit.gov.cn/`}\n            target=\"_blank\"\n          >\n            粤ICP备2024248618号\n          </Link>\n          <Link\n            to=\"https://beian.mps.gov.cn/#/query/webSearch?code=44030002003554\"\n            rel=\"noreferrer\"\n            target=\"_blank\"\n          >\n            <img\n              width={16}\n              height={16}\n              style={{ verticalAlign: '-0.2em' }}\n              src=\"https://beian.mps.gov.cn/web/assets/logo01.6189a29f.png\"\n              alt=\"公安备案\"\n            />{' '}\n            粤公网安备44030002003554\n          </Link>\n        </Flex>\n        <div className={styles.BuildVersion}>\n          {__COMMIT_TIME__}_{__COMMIT_HASH__}\n        </div>\n      </footer>\n    );\n  }, []);\n\n  const headerRender = useCallback(\n    (_: any, dom: React.ReactElement) => {\n      if (isHome) {\n        return cloneElement(dom, {\n          className: clsx(dom.props.class, styles.HomeHeaderCenterContainer),\n        });\n      }\n      return dom;\n    },\n    [isHome],\n  );\n\n  const [domainKey] = useState(() => getCurrentDomainKey());\n\n  const [modal, contextHolder] = Modal.useModal();\n\n  useEffect(() => {\n    if (domainKey === 'unknown') {\n      modal.confirm({\n        title: '域名变更说明',\n        content: (\n          <div>\n            <p>\n              本站决定将国内访问地址更换到新域名:{' '}\n              <Typography.Text strong copyable>\n                sinsa.top\n              </Typography.Text>\n            </p>\n            <p>\n              之后红油扳手作业站将会统一有两个域名: <br />\n              <Typography.Text strong>\n                {DOMAIN_ORIGIN.cn} (国内访问)\n              </Typography.Text>{' '}\n              和{' '}\n              <Typography.Text strong>\n                {DOMAIN_ORIGIN.i18n} (国外访问)\n              </Typography.Text>\n            </p>\n            <p>\n              如果您已经将本站添加到屏幕, 请在重新添加一次,\n              并且可以把旧站点收藏夹或者书签删除\n            </p>\n            <p>感谢大家的支持</p>\n          </div>\n        ),\n        okText: `访问 ${DOMAIN_ORIGIN.cn}`,\n        cancelText: '以后再说',\n        onOk() {\n          window.browserClient.sendEvent?.({\n            name: 'react_to_new_site_modal',\n            categories: {\n              choice: 'ok',\n            },\n          });\n          window.location.host = DOMAIN_ORIGIN.cn;\n        },\n        onCancel() {\n          window.browserClient.sendEvent?.({\n            name: 'react_to_new_site_modal',\n            categories: {\n              choice: 'cancel',\n            },\n          });\n        },\n      });\n    }\n  }, [domainKey]);\n\n  return (\n    <>\n      <ProLayout\n        title={IS_FOOL ? '白蛙王子作业站' : '红油扳手作业站'}\n        logo={\n          IS_FOOL ? (\n            <img\n              src={`https://s2.loli.net/2024/04/27/syG7QYUrkiPlXbm.png`}\n              alt=\"baiwa_logo\"\n            />\n          ) : (\n            <IconLogo />\n          )\n        }\n        location={location}\n        fixSiderbar\n        route={MY_ROUTE}\n        menuItemRender={renderMenuItem}\n        onMenuHeaderClick={handleClickLogo}\n        siderWidth={200}\n        layout={isHome ? 'top' : 'side'}\n        token={token}\n        ErrorBoundary={ErrorBoundary}\n        headerContentRender={(_, dom) => (\n          <Flex justify=\"flex-end\" align=\"center\">\n            {dom}\n            <DarkModeButton />\n          </Flex>\n        )}\n        headerRender={headerRender as any}\n        footerRender={renderFooter}\n      >\n        <ReducedLazyMotion>\n          <NiceModalProvider>\n            {children}\n            {contextHolder}\n          </NiceModalProvider>\n        </ReducedLazyMotion>\n      </ProLayout>\n      <FloatButton.BackTop />\n    </>\n  );\n};\n","export const UPLOAD_APP_ID = 'cli_a5fd9725777a100b';\n\nexport const LARK_SCOPE = `bitable:app`;\n\nexport const LOCAL_STORAGE_ACCESS_TOKEN = 'SINSA_DADDY_ACCESS_TOKEN';\n","import \"core-js\";"],"names":["AurorianAttributeType2","AurorianClassType2","AurorianRarityType2","AurorianAttributeType","AurorianClassType","AurorianRarityType","AurorianNextSchema","z","aurorian_id","name","cn_name","primary_element","secondary_element","profession","rarity","min","max","CopilotSourceType2","CopilotUserProviderType2","AurorianRequirementLevelSchema","asc","lv","eq","describe","rfn","aff","AurorianRequirementReplaceSchema","type","aurorians","breakthrough","or","any","AurorianRequirementRemarkSchema","level","replace","AurorianRequirementSchema","remark","UNKNOWN_AUTHOR_ID","CopilotSourceType","CopilotUserProviderType","author_id","CopilotNextUserSchema","user_id","provider_type","CopilotNextAssetSchema","script33","link","startsWith","CopilotNextSchema","copilot_id","source_type","href","term_id","title","score","author_name","description","upload_time","created_by","created_time","aurorian_requirements","assets","FeishuCopilotSchema","transform","val","valueOf","user","JSON","stringify","aurorian_1_id","aurorian_1_breakthrough","aurorian_1_remark","parse","aurorian_2_id","aurorian_2_breakthrough","aurorian_2_remark","aurorian_3_id","aurorian_3_breakthrough","aurorian_3_remark","aurorian_4_id","aurorian_4_breakthrough","aurorian_4_remark","aurorian_5_id","aurorian_5_breakthrough","aurorian_5_remark","asset","TERM_ID_REGEXP","TermNextSchema","regex","order","int","boss_name","boss_element","start_time","end_time","features","reruns","__defProp","Object","defineProperty","__defProps","defineProperties","__getOwnPropDescs","getOwnPropertyDescriptors","__getOwnPropSymbols","getOwnPropertySymbols","__hasOwnProp","prototype","hasOwnProperty","__propIsEnum","propertyIsEnumerable","__defNormalProp","obj","key","value","enumerable","configurable","writable","__spreadValues","a","b","prop","call","__spreadProps","toFeishuCopilotWithoutCreatedInfo","c","SvgWrench","props","xmlns","width","height","className","viewBox","fill","d","AdaptiveAurorianCardMenuKey","ElementURLMapper","ElementTextMapper","ClassURLMapper","RefineTextMapper","DarkModeButton","mode","setMode","useModel","DarkModel","toggleDarkMode","isDark","Button","onClick","e","stopPropagation","icon","DarkModeSwitch","size","checked","onChange","ErrorBoundary","getDerivedStateFromError","error","hasError","errorInfo","message","componentDidCatch","console","log","render","state","Result","status","subTitle","extra","window","location","reload","children","ServiceWorkerUpdateBanner","terms","TermsModel","actualLatestTerm","useActualLatestTerm","alertTerm","setAlertTerm","useState","useEffect","latestTerm","Alert","Tips","banner","action","Typography","X_FEATURE_FIELD","XFeatureBanner","useLocation","search","includes","showIcon","DOMAIN_ORIGIN","cn","i18n","local","backup","unknown","DOMAIN_TEXT","getCurrentDomainKey","host","keys","values","NOW","IS_FOOL","date","month","GLOBAL_THEME","primaryColor","primaryColorLight","primaryBackgroundColor","bootstrap","_","innerBootStrap","applyApmPlus","serviceWorker","filterAuroriansOption","inputValue","option","Array","isArray","options","label","match","precision","AuroriansModel","model","define","auroriansMap","computed","WHOLE_BOX","mapValues","Infinity","auroriansOptions","entries","groupBy","map","attribute","actions","localStorage","getItem","DARK_MODE_KEY","Date","now","getLatestTerm","runningTerm","find","t","term","endLatest","minBy","Math","abs","termsOptions","termsMap","result","browserClient","init","aid","token","env","release","plugins","pageview","routeMode","resource","blankScreen","rootSelector","integrations","SPALoadPlugin","actionPlugin","start","thresholds","l","r","ReducedLazyMotion","LazyMotion","domAnimation","ICON_CONFIG","DEFAULT_ICON_CONFIGS","theme","colors","outline","background","filled","twoTone","multiColor","outStrokeColor","outFillColor","innerStrokeColor","innerFillColor","IconParkProvider","IconProvider","loader","Promise","all","getTerms","getAurorians","termsFromRemote","auroriansMapFromRemote","useLoaderData","termsActions","auroriansActions","length","setTerms","isEmpty","setAuroriansMap","redirectToUploadPageWhenGettingCode","Providers","GlobalLayout","Outlet","COLOR_PRIMARY","useAntDesignTheme","setItem","useMemo","algorithm","colorPrimary","colorLink","ConfigProvider","prefixCls","BilibiliVideoDetailSchema","bvid","pic","pubdate","duration","desc","owner","mid","face","FeishuAccessTokenSchema","access_token","refresh_token","token_type","expires_in","refresh_expires_in","scope","startTime","FeishuProfileSchema","avatar_url","en_name","open_id","tenant_key","union_id","currentURL","URL","searchParams","has","origin","RoutePath","http","httpWithToken","response","get","data","item","isPlainObject","v","getCopilots","termId","headers","getFeishuAccessToken","body","post","code","LOCAL_STORAGE_ACCESS_TOKEN","refreshFeishuToken","interceptors","request","use","config","content","tokenInfo","Authorization","reject","originalRequest","_retry","newTokenInfo","getFeishuProfile","once","getVideoInfo","bv","checkVideoExist","args","params","postCopilot","remoteCopilot","triggerAction","getLatestVideo","getLatestCopilots","ServiceWorkerService","getInstance","instance","register","navigator","Workbox","wb","SERVICE_WORKER_URL","addEventListener","event","isUpdate","notification","placement","__TERMS_UPDATE_PROMISE__","resolve","payload","setActualLatestTerm","run","mayBeTerm","Home","Solutions","Copilots","Dashboard","Upload","Questions","Tools","TeamBuilder","GachaAnalyse","IS_LOCALHOST","hostname","MY_ROUTE","routes","path","Search","ViewList","Toolkit","LightHouse","filter","Boolean","NOOP","navigate","useNavigate","renderMenuItem","useCallback","dom","Link","to","target","undefined","handleClickLogo","isHome","pathname","pageContainer","paddingInlinePageContainerContent","renderFooter","Flex","style","marginLeft","marginRight","gap","justify","wrap","rel","verticalAlign","src","alt","headerRender","cloneElement","class","domainKey","modal","contextHolder","Modal","confirm","strong","copyable","okText","cancelText","onOk","sendEvent","categories","choice","onCancel","ProLayout","logo","fixSiderbar","route","menuItemRender","onMenuHeaderClick","siderWidth","layout","headerContentRender","align","footerRender","FloatButton","UPLOAD_APP_ID","LARK_SCOPE"],"mappings":"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"}