{"version":3,"file":"static/js/main.aaee3b1a.js","sources":["../../node_modules/.pnpm/@svgr+webpack@8.0.1_typescript@5.3.3/node_modules/@svgr/webpack/dist/index.js??ruleSet[1].rules[4].oneOf[5].use[0]!../../node_modules/.pnpm/@modern-js+builder-shared@2.42.1_@babel+traverse@7.23.5_esbuild@0.17.19_react-dom@18.2.0_react@18.2.0_typescript@5.3.3/node_modules/@modern-js/builder-shared/compiled/url-loader/index.js??ruleSet[1].rules[4].oneOf[5].use[1]!./src/assets/wrench.svg","../../packages/schema/dist/es/index.js","data:text/javascript,window.__assetPrefix__ = '';","./src/components/DarkModeButton/index.tsx","./src/components/ErrorBoundary/index.tsx","./src/components/ServiceWorkerUpdateBanner/index.tsx","./src/components/XFeatureBanner/index.tsx","./src/index.tsx","./src/plugins/framer-motion.tsx","./src/plugins/icon-park.tsx","./src/routes/layout.tsx","./src/routes/providers.tsx","./src/views/GlobalLayout/constants.tsx","./src/views/GlobalLayout/index.tsx","./src/components/AurorianCard/constants.ts","./src/components/XFeatureBanner/constants.ts","./src/models/aurorians.ts","./src/models/dark.ts","./src/models/terms.ts","./src/plugins/dayjs.ts","./src/routes/layout.data.ts","./src/schemas/bilibili-video-detail.ts","./src/schemas/feishu-profile.ts","./src/services/dark-mode.ts","./src/services/feishu-oauth.ts","./src/services/http.ts","./src/services/service-worker/index.ts","./src/services/service-worker/use-actual-latest-term.ts"],"sourcesContent":["var _path, _path2, _path3, _path4, _path5, _path6, _path7;\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nimport * as React from \"react\";\nconst SvgWrench = props => /*#__PURE__*/React.createElement(\"svg\", _extends({\n  xmlns: \"http://www.w3.org/2000/svg\",\n  width: 24,\n  height: 24,\n  className: \"wrench_svg__icon\",\n  viewBox: \"0 0 1024 1024\"\n}, props), _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n  fill: \"#dc5950\",\n  d: \"M512 0a512 512 0 1 1 0 1024A512 512 0 0 1 512 0\"\n})), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n  fill: \"#dc5950\",\n  d: \"M757.5 392a19 19 0 0 0-17 5.2L594.7 545.7c-14.7 14.7-64 4-97.3-9-13-33.2-23.7-82.6-9-97.2l149.2-145a18.7 18.7 0 0 0 5.1-17 18.9 18.9 0 0 0-11.5-13.7 250.2 250.2 0 0 0-269.5 55.5 249.1 249.1 0 0 0-67.2 231.4c-2.4 40.3-39 87.6-58 106.9L90.8 803a514.5 514.5 0 0 0 139.6 136.5L369.2 801c19.5-19.2 72-55.4 112-59.5 6.1.4 18.6 1.2 21.4 1.8v-.2a250 250 0 0 0 213-70.2 249.8 249.8 0 0 0 55.6-269.3 18.8 18.8 0 0 0-13.7-11.5z\"\n})), _path3 || (_path3 = /*#__PURE__*/React.createElement(\"path\", {\n  fill: \"#EDEDED\",\n  d: \"M757.5 381.8a19 19 0 0 0-17 5.2L594.7 535.5c-14.7 14.7-64 4-97.3-9-13-33.2-23.7-82.6-9-97.3l149.2-145a18.7 18.7 0 0 0 5.1-17 18.9 18.9 0 0 0-11.5-13.7 250.2 250.2 0 0 0-269.5 55.6 249.1 249.1 0 0 0-67.2 231.4c-2.4 40.3-39 87.6-58 106.9L86.6 797a514.7 514.7 0 0 0 137.6 138.5l145-144.8c19.4-19.2 72-55.3 112-59.5 6.1.4 18.6 1.2 21.4 1.9v-.3a250 250 0 0 0 213-70.2 249.8 249.8 0 0 0 55.6-269.3 18.8 18.8 0 0 0-13.7-11.5\"\n})), _path4 || (_path4 = /*#__PURE__*/React.createElement(\"path\", {\n  fill: \"#E1E1E1\",\n  d: \"M787 456.3c1.4 11 2 22.2 1.8 33.3a249.7 249.7 0 0 0-17.6-86 18.8 18.8 0 0 0-30.8-6.4L594.8 545.7c-14.7 14.7-64 4-97.3-9l-3.3-9-345.3 345.2a513.8 513.8 0 0 0 75.3 62.6l145-144.8c19.5-19.2 72-55.3 112-59.5 6.1.4 18.6 1.2 21.4 1.9v-.3a250 250 0 0 0 213-70.2 249.6 249.6 0 0 0 71.5-206.3zm-8.8-42.9-1.5-4.7zM783.2 433l-1.8-7.7z\"\n})), _path5 || (_path5 = /*#__PURE__*/React.createElement(\"path\", {\n  fill: \"#F4F4F4\",\n  d: \"M361.8 319.3a250.2 250.2 0 0 1 269.5-55.5c5.5 2.2 9.6 6.8 11.1 12.5.9-3 1-6 .4-9.1a18.9 18.9 0 0 0-11.5-13.7 250.2 250.2 0 0 0-269.5 55.6 249 249 0 0 0-73.2 179.3 249 249 0 0 1 73.2-169.1m-125.2 328L86.6 797l4.2 6 145.8-145.4c19-19.3 55.6-66.6 58-106.9l-.8-3.7c-5.5 38.8-39.3 82.1-57.2 100.4z\"\n})), _path6 || (_path6 = /*#__PURE__*/React.createElement(\"path\", {\n  fill: \"#CCD0D2\",\n  d: \"M294 693.4 132.1 855.3a515.4 515.4 0 0 0 36.3 36.2l161.9-161.8a25.6 25.6 0 1 0-36.3-36.3\"\n})), _path7 || (_path7 = /*#__PURE__*/React.createElement(\"path\", {\n  fill: \"#B8BCBE\",\n  d: \"M294 693.4 132.1 855.3l5 5.3 156.9-157a25.6 25.6 0 0 1 43.2 13 25.6 25.6 0 0 0-43.2-23.2\"\n})));\nexport { SvgWrench as ReactComponent };\nexport default \"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgY2xhc3M9Imljb24iIHZpZXdCb3g9IjAgMCAxMDI0IDEwMjQiPgogICAgPHBhdGggZmlsbD0iI2RjNTk1MCIgZD0iTTUxMiAwYTUxMiA1MTIgMCAxIDEgMCAxMDI0QTUxMiA1MTIgMCAwIDEgNTEyIDB6IiAvPgogICAgPHBhdGggZmlsbD0iI2RjNTk1MCIKICAgICAgICBkPSJNNzU3LjUgMzkyYTE5IDE5IDAgMCAwLTE3IDUuMkw1OTQuNyA1NDUuN2MtMTQuNyAxNC43LTY0IDQtOTcuMy05LTEzLTMzLjItMjMuNy04Mi42LTktOTcuMmwxNDkuMi0xNDVhMTguNyAxOC43IDAgMCAwIDUuMS0xNyAxOC45IDE4LjkgMCAwIDAtMTEuNS0xMy43IDI1MC4yIDI1MC4yIDAgMCAwLTI2OS41IDU1LjUgMjQ5LjEgMjQ5LjEgMCAwIDAtNjcuMiAyMzEuNGMtMi40IDQwLjMtMzkgODcuNi01OCAxMDYuOUw5MC44IDgwM2E1MTQuNSA1MTQuNSAwIDAgMCAxMzkuNiAxMzYuNUwzNjkuMiA4MDFjMTkuNS0xOS4yIDcyLTU1LjQgMTEyLTU5LjUgNi4xLjQgMTguNiAxLjIgMjEuNCAxLjh2LS4yYTI1MCAyNTAgMCAwIDAgMjEzLTcwLjIgMjQ5LjggMjQ5LjggMCAwIDAgNTUuNi0yNjkuMyAxOC44IDE4LjggMCAwIDAtMTMuNy0xMS41eiIgLz4KICAgIDxwYXRoIGZpbGw9IiNFREVERUQiCiAgICAgICAgZD0iTTc1Ny41IDM4MS44YTE5IDE5IDAgMCAwLTE3IDUuMkw1OTQuNyA1MzUuNWMtMTQuNyAxNC43LTY0IDQtOTcuMy05LTEzLTMzLjItMjMuNy04Mi42LTktOTcuM2wxNDkuMi0xNDVhMTguNyAxOC43IDAgMCAwIDUuMS0xNyAxOC45IDE4LjkgMCAwIDAtMTEuNS0xMy43IDI1MC4yIDI1MC4yIDAgMCAwLTI2OS41IDU1LjYgMjQ5LjEgMjQ5LjEgMCAwIDAtNjcuMiAyMzEuNGMtMi40IDQwLjMtMzkgODcuNi01OCAxMDYuOUw4Ni42IDc5N2E1MTQuNyA1MTQuNyAwIDAgMCAxMzcuNiAxMzguNWwxNDUtMTQ0LjhjMTkuNC0xOS4yIDcyLTU1LjMgMTEyLTU5LjUgNi4xLjQgMTguNiAxLjIgMjEuNCAxLjl2LS4zYTI1MCAyNTAgMCAwIDAgMjEzLTcwLjIgMjQ5LjggMjQ5LjggMCAwIDAgNTUuNi0yNjkuMyAxOC44IDE4LjggMCAwIDAtMTMuNy0xMS41eiIgLz4KICAgIDxwYXRoIGZpbGw9IiNFMUUxRTEiCiAgICAgICAgZD0iTTc4NyA0NTYuM2MxLjQgMTEgMiAyMi4yIDEuOCAzMy4zYTI0OS43IDI0OS43IDAgMCAwLTE3LjYtODYgMTguOCAxOC44IDAgMCAwLTMwLjgtNi40TDU5NC44IDU0NS43Yy0xNC43IDE0LjctNjQgNC05Ny4zLTlsLTMuMy05LTM0NS4zIDM0NS4yYTUxMy44IDUxMy44IDAgMCAwIDc1LjMgNjIuNmwxNDUtMTQ0LjhjMTkuNS0xOS4yIDcyLTU1LjMgMTEyLTU5LjUgNi4xLjQgMTguNiAxLjIgMjEuNCAxLjl2LS4zYTI1MCAyNTAgMCAwIDAgMjEzLTcwLjIgMjQ5LjYgMjQ5LjYgMCAwIDAgNzEuNS0yMDYuM3ptLTguOC00Mi45LTEuNS00LjcgMS41IDQuN3ptOC4zIDM4LjJ6bS0zLjMtMTguNi0xLjgtNy43IDEuOCA3Ljd6IiAvPgogICAgPHBhdGggZmlsbD0iI0Y0RjRGNCIKICAgICAgICBkPSJNMzYxLjggMzE5LjNhMjUwLjIgMjUwLjIgMCAwIDEgMjY5LjUtNTUuNWM1LjUgMi4yIDkuNiA2LjggMTEuMSAxMi41LjktMyAxLTYgLjQtOS4xYTE4LjkgMTguOSAwIDAgMC0xMS41LTEzLjcgMjUwLjIgMjUwLjIgMCAwIDAtMjY5LjUgNTUuNiAyNDkgMjQ5IDAgMCAwLTczLjIgMTc5LjMgMjQ5IDI0OSAwIDAgMSA3My4yLTE2OS4xem0tMTI1LjIgMzI4TDg2LjYgNzk3bDQuMiA2IDE0NS44LTE0NS40YzE5LTE5LjMgNTUuNi02Ni42IDU4LTEwNi45bC0uOC0zLjdjLTUuNSAzOC44LTM5LjMgODIuMS01Ny4yIDEwMC40eiIgLz4KICAgIDxwYXRoIGZpbGw9IiNDQ0QwRDIiCiAgICAgICAgZD0iTTI5NCA2OTMuNCAxMzIuMSA4NTUuM2E1MTUuNCA1MTUuNCAwIDAgMCAzNi4zIDM2LjJsMTYxLjktMTYxLjhhMjUuNiAyNS42IDAgMSAwLTM2LjMtMzYuM3oiIC8+CiAgICA8cGF0aCBmaWxsPSIjQjhCQ0JFIgogICAgICAgIGQ9Ik0yOTQgNjkzLjQgMTMyLjEgODU1LjNsNSA1LjMgMTU2LjktMTU3YTI1LjYgMjUuNiAwIDAgMSA0My4yIDEzIDI1LjYgMjUuNiAwIDAgMC00My4yLTIzLjJ6IiAvPgo8L3N2Zz4K\";","// src/schema/aurorian.ts\nimport { z } from \"zod\";\nvar AurorianAttributeType = /* @__PURE__ */ ((AurorianAttributeType2) => {\n  AurorianAttributeType2[\"Forest\"] = \"Forest\";\n  AurorianAttributeType2[\"Water\"] = \"Water\";\n  AurorianAttributeType2[\"Fire\"] = \"Fire\";\n  AurorianAttributeType2[\"Thunder\"] = \"Thunder\";\n  return AurorianAttributeType2;\n})(AurorianAttributeType || {});\nvar AurorianClassType = /* @__PURE__ */ ((AurorianClassType2) => {\n  AurorianClassType2[\"Detonator\"] = \"Detonator\";\n  AurorianClassType2[\"Sniper\"] = \"Sniper\";\n  AurorianClassType2[\"Converter\"] = \"Converter\";\n  AurorianClassType2[\"Supporter\"] = \"Supporter\";\n  return AurorianClassType2;\n})(AurorianClassType || {});\nvar AurorianRarityType = /* @__PURE__ */ ((AurorianRarityType2) => {\n  AurorianRarityType2[\"Star6\"] = \"6\";\n  AurorianRarityType2[\"Star5\"] = \"5\";\n  AurorianRarityType2[\"Star4\"] = \"4\";\n  AurorianRarityType2[\"Star3\"] = \"3\";\n  AurorianRarityType2[\"Star2\"] = \"2\";\n  AurorianRarityType2[\"Star1\"] = \"1\";\n  return AurorianRarityType2;\n})(AurorianRarityType || {});\nvar AurorianSchema = z.object({\n  aurorian_name: z.string().describe(\"光灵英文名，以此作为唯一标识\"),\n  aurorian_cn_name: z.string().describe(\"光灵简体中文名\"),\n  attribute: z.nativeEnum(AurorianAttributeType).describe(\"光灵属性\"),\n  secondary_attribute: z.optional(z.nativeEnum(AurorianAttributeType)).describe(\"光灵副属性\"),\n  class: z.nativeEnum(AurorianClassType).describe(\"光灵职业类型\"),\n  rarity: z.nativeEnum(AurorianRarityType).describe(\"光灵稀有度（星级）\"),\n  server: z.enum([\"cn\", \"global\"]).array().describe(\"光灵所在服务器（国服、国际服）\"),\n  _record_id: z.string().startsWith(\"rec\")\n});\nvar AurorianNextSchema = z.object({\n  aurorian_id: z.string(),\n  name: z.string(),\n  cn_name: z.string(),\n  primary_element: z.nativeEnum(AurorianAttributeType),\n  secondary_element: z.optional(z.nativeEnum(AurorianAttributeType)),\n  profession: z.nativeEnum(AurorianClassType),\n  rarity: z.number().min(1).max(6)\n});\n\n// src/schema/copilot.ts\nimport { z as z3 } from \"zod\";\n\n// src/schema/my-box.ts\nimport { z as z2 } from \"zod\";\nvar AurorianSummarySchema = z2.object({\n  aurorian_name: z2.string().describe(\"光灵英文名，以此作为唯一标识\"),\n  breakthrough: z2.number().min(0).max(6).describe(\"光灵突破数（黄色星星数量）\")\n});\nvar MyBoxSchema = z2.object({\n  title: z2.string().describe(\"给该 Box 取一个名字\"),\n  create_time: z2.coerce.date().describe(\"此 Box 创建时间\"),\n  version: z2.literal(1).describe(\"该 Schema 版本\"),\n  aurorian_summaries: z2.record(AurorianSummarySchema).describe(\"拥有的光灵\")\n});\n\n// src/schema/copilot.ts\nvar AssetType = /* @__PURE__ */ ((AssetType2) => {\n  AssetType2[\"No33Scripts\"] = \"No33Scripts\";\n  return AssetType2;\n})(AssetType || {});\nvar RemoteCopilotSchema = z3.object({\n  bv: z3.string().startsWith(\"BV\"),\n  title: z3.string(),\n  description: z3.optional(z3.string()),\n  author: z3.string(),\n  insert_db_time: z3.optional(z3.coerce.date()),\n  upload_time: z3.coerce.date(),\n  score: z3.coerce.number(),\n  term: z3.tuple([\n    z3.object({\n      text_arr: z3.array(z3.string())\n    })\n  ]),\n  rerun_terms: z3.tuple([\n    z3.object({\n      text_arr: z3.array(z3.string())\n    })\n  ]),\n  replaceable_position: z3.optional(z3.string().array()),\n  aurorian_1: z3.tuple([\n    z3.object({\n      text: z3.string()\n    })\n  ]),\n  aurorian_1_breakthrough: z3.coerce.number().min(0).max(6),\n  aurorian_2: z3.tuple([\n    z3.object({\n      text: z3.string()\n    })\n  ]),\n  aurorian_2_breakthrough: z3.coerce.number().min(0).max(6),\n  aurorian_3: z3.tuple([\n    z3.object({\n      text: z3.string()\n    })\n  ]),\n  aurorian_3_breakthrough: z3.coerce.number().min(0).max(6),\n  aurorian_4: z3.tuple([\n    z3.object({\n      text: z3.string()\n    })\n  ]),\n  aurorian_4_breakthrough: z3.coerce.number().min(0).max(6),\n  aurorian_5: z3.tuple([\n    z3.object({\n      text: z3.string()\n    })\n  ]),\n  aurorian_5_breakthrough: z3.coerce.number().min(0).max(6),\n  asset_type: z3.optional(z3.nativeEnum(AssetType)),\n  asset_link: z3.optional(z3.string().startsWith(\"https://\"))\n});\nvar CopilotAurorianSummarySchema = AurorianSummarySchema.extend({\n  is_replaceable: z3.boolean()\n});\nvar CopilotSchema = z3.object({\n  bv: z3.string().startsWith(\"BV\"),\n  title: z3.string(),\n  description: z3.optional(z3.string()),\n  author: z3.string(),\n  insert_db_time: z3.optional(z3.coerce.date()),\n  upload_time: z3.coerce.date(),\n  score: z3.coerce.number(),\n  term: z3.coerce.number().int(),\n  rerun_terms: z3.optional(z3.array(z3.coerce.number().int())),\n  aurorian_summaries: z3.tuple([\n    CopilotAurorianSummarySchema,\n    CopilotAurorianSummarySchema,\n    CopilotAurorianSummarySchema,\n    CopilotAurorianSummarySchema,\n    CopilotAurorianSummarySchema\n  ]),\n  asset_type: z3.optional(z3.nativeEnum(AssetType)),\n  asset_link: z3.optional(z3.string().startsWith(\"https://\"))\n});\n\n// src/schema/table-summary.ts\nimport { z as z4 } from \"zod\";\nvar TableSummarySchema = z4.object({\n  name: z4.string(),\n  revision: z4.number(),\n  table_id: z4.string().startsWith(\"tbl\")\n});\n\n// src/schema/term.ts\nimport { z as z5 } from \"zod\";\nvar TermSchema = z5.object({\n  term: z5.coerce.number().int().describe(\"荒典期数\"),\n  boss_name: z5.string(),\n  boss_attribute: z5.nativeEnum(AurorianAttributeType).describe(\"BOSS属性\"),\n  start_time: z5.coerce.date(),\n  end_time: z5.coerce.date(),\n  features: z5.string(),\n  _record_id: z5.string()\n});\nvar TERM_ID_REGEXP = /^cn-\\d+$/;\nvar TermNextSchema = z5.object({\n  term_id: z5.string().regex(TERM_ID_REGEXP),\n  order: z5.coerce.number().int().describe(\"荒典期数\"),\n  boss_name: z5.string(),\n  boss_attribute: z5.nativeEnum(AurorianAttributeType).describe(\"BOSS属性\"),\n  start_time: z5.coerce.date(),\n  end_time: z5.coerce.date(),\n  features: z5.string(),\n  reruns: z5.optional(z5.array(z5.string().regex(TERM_ID_REGEXP)))\n});\n\n// src/schema/copilot-next.ts\nimport { z as z6 } from \"zod\";\nvar AurorianRequirementLevelSchema = z6.object({\n  asc: z6.number().min(0).max(3),\n  lv: z6.number().min(1).max(80),\n  eq: z6.number().min(0).max(10).describe(\"装备等级, 0 = 无要求\"),\n  rfn: z6.number().min(0).max(3).describe(\"精炼等级, 0 = 无要求\"),\n  aff: z6.number().min(0).max(10).describe(\"好感等级, 0 = 无要求\")\n});\nvar AurorianRequirementReplaceSchema = z6.object({\n  type: z6.literal(\"aurorians\"),\n  aurorians: z6.array(z6.string())\n}).or(\n  z6.object({\n    type: z6.literal(\"any\"),\n    any: z6.enum([\"All\", \"DPS\"])\n  })\n);\nvar AurorianRequirementRemarkSchema = z6.object({\n  level: z6.optional(AurorianRequirementLevelSchema).describe(\"觉醒、等级、装备技能、精炼、好感\"),\n  replace: z6.optional(AurorianRequirementReplaceSchema).describe(\"可替换对象\")\n});\nvar AurorianRequirementSchema = z6.object({\n  aurorian_id: z6.string(),\n  breakthrough: z6.number().min(0).max(6).describe(\"光灵突破数（黄色星星数量）\"),\n  remark: z6.optional(AurorianRequirementRemarkSchema)\n});\nvar UNKNOWN_AUTHOR_ID = \"$UNKNOWN$\";\nvar CopilotSourceType = /* @__PURE__ */ ((CopilotSourceType2) => {\n  CopilotSourceType2[\"Bilibili\"] = \"Bilibili\";\n  CopilotSourceType2[\"Youtube\"] = \"Youtube\";\n  return CopilotSourceType2;\n})(CopilotSourceType || {});\nvar CopilotUserProviderType = /* @__PURE__ */ ((CopilotUserProviderType2) => {\n  CopilotUserProviderType2[\"Feishu\"] = \"Feishu\";\n  return CopilotUserProviderType2;\n})(CopilotUserProviderType || {});\nvar CopilotNextAuthorSchema = z6.object({\n  author_id: z6.literal(UNKNOWN_AUTHOR_ID).or(z6.string()).describe(\"作者唯一标识\"),\n  name: z6.string()\n});\nvar CopilotNextUserSchema = z6.object({\n  user_id: z6.string(),\n  provider_type: z6.nativeEnum(CopilotUserProviderType),\n  name: z6.string()\n});\nvar CopilotNextAssetSchema = z6.object({\n  type: z6.literal(\"script33\"),\n  script33: z6.object({\n    link: z6.string().startsWith(\"https://\")\n  })\n});\nvar CopilotNextSchema = z6.object({\n  copilot_id: z6.string().describe(\"作业唯一标识\"),\n  source_type: z6.nativeEnum(CopilotSourceType),\n  href: z6.string().describe(\"BVxxx?p=x 或者 watch?v=xxx\"),\n  term_id: z6.string().describe(\"期数唯一标识\"),\n  title: z6.string(),\n  score: z6.number(),\n  author_id: z6.string().or(z6.literal(UNKNOWN_AUTHOR_ID)),\n  author_name: z6.string(),\n  description: z6.optional(z6.string()),\n  upload_time: z6.coerce.date(),\n  created_by: CopilotNextUserSchema,\n  created_time: z6.coerce.date(),\n  aurorian_requirements: z6.tuple([\n    AurorianRequirementSchema,\n    AurorianRequirementSchema,\n    AurorianRequirementSchema,\n    AurorianRequirementSchema,\n    AurorianRequirementSchema\n  ]),\n  assets: z6.optional(z6.array(CopilotNextAssetSchema))\n});\n\n// src/utils/to-copilot.ts\nvar POSITION_ARRAY = [\"1\", \"2\", \"3\", \"4\", \"5\"];\nfunction toCopilot(r) {\n  const rerurnTerms = r.rerun_terms[0].text_arr.map(\n    (termStr) => Number.parseInt(termStr, 10)\n  );\n  return {\n    bv: r.bv,\n    title: r.title,\n    description: r.description,\n    author: r.author,\n    insert_db_time: r.insert_db_time,\n    upload_time: r.upload_time,\n    score: r.score,\n    term: Number.parseInt(r.term[0].text_arr[0], 10),\n    rerun_terms: rerurnTerms.length ? rerurnTerms : void 0,\n    aurorian_summaries: POSITION_ARRAY.map((pos) => {\n      var _a, _b;\n      return {\n        aurorian_name: r[`aurorian_${pos}`][0].text,\n        breakthrough: r[`aurorian_${pos}_breakthrough`],\n        is_replaceable: (_b = (_a = r.replaceable_position) == null ? void 0 : _a.includes(pos)) != null ? _b : false\n      };\n    }),\n    asset_link: r.asset_link,\n    asset_type: r.asset_type\n  };\n}\n\n// src/index.ts\nexport * from \"zod\";\nexport {\n  AssetType,\n  AurorianAttributeType,\n  AurorianClassType,\n  AurorianNextSchema,\n  AurorianRarityType,\n  AurorianRequirementLevelSchema,\n  AurorianRequirementRemarkSchema,\n  AurorianRequirementReplaceSchema,\n  AurorianRequirementSchema,\n  AurorianSchema,\n  AurorianSummarySchema,\n  CopilotAurorianSummarySchema,\n  CopilotNextAssetSchema,\n  CopilotNextAuthorSchema,\n  CopilotNextSchema,\n  CopilotNextUserSchema,\n  CopilotSchema,\n  CopilotSourceType,\n  CopilotUserProviderType,\n  MyBoxSchema,\n  RemoteCopilotSchema,\n  TableSummarySchema,\n  TermNextSchema,\n  TermSchema,\n  UNKNOWN_AUTHOR_ID,\n  toCopilot\n};\n","window.__assetPrefix__ = '';","import { DarkModeSwitch } from 'react-toggle-dark-mode';\nimport { useModel } from '@modern-js/runtime/model';\nimport { Button } from 'antd';\nimport styles from './styles.module.less';\nimport { DarkModel } from '@/models/dark';\n\nexport const DarkModeButton: React.FC = () => {\n  const [{ mode }, { setMode }] = useModel(DarkModel);\n\n  const toggleDarkMode = (isDark: boolean) => {\n    setMode(isDark ? 'dark' : 'system');\n  };\n\n  return (\n    <Button\n      className={styles.Switch}\n      onClick={e => {\n        e.stopPropagation();\n        toggleDarkMode(mode !== 'dark');\n      }}\n      icon={\n        <DarkModeSwitch\n          size={14}\n          checked={mode === 'dark'}\n          onChange={() => {\n            // ignore\n          }}\n        />\n      }\n    />\n  );\n};\n","import { Button, Result } from 'antd';\nimport type { ErrorInfo } from 'react';\nimport React from 'react';\n\ninterface ErrorBoundaryState {\n  hasError: boolean;\n  errorInfo: string;\n}\n\nexport class ErrorBoundary extends React.Component<\n  { children?: React.ReactNode },\n  ErrorBoundaryState\n> {\n  static getDerivedStateFromError(error: Error) {\n    return { hasError: true, errorInfo: error.message };\n  }\n\n  state: ErrorBoundaryState = { hasError: false, errorInfo: '' };\n\n  componentDidCatch(error: any, errorInfo: ErrorInfo) {\n    // You can also log the error to an error reporting service\n\n    console.log(error, errorInfo);\n  }\n\n  render() {\n    if (this.state.hasError) {\n      // You can render any custom fallback UI\n      return (\n        <Result\n          status=\"error\"\n          title=\"页面发生了错误\"\n          subTitle={`醒山小狗报错: ${this.state.errorInfo}`}\n          extra={[\n            <Button\n              type=\"primary\"\n              key=\"refresh\"\n              onClick={e => {\n                e.stopPropagation();\n                window.location.reload();\n              }}\n            >\n              刷新页面\n            </Button>,\n          ]}\n        />\n      );\n    }\n    return this.props.children;\n  }\n}\n","import { useModel } from '@modern-js/runtime/model';\nimport type React from 'react';\nimport { useEffect, useState } from 'react';\nimport type { TermType } from '@sinsa/schema';\nimport { Alert, Button, Typography } from 'antd';\nimport { Tips } from '@icon-park/react';\nimport styles from './styles.module.less';\nimport { TermsModel } from '@/models/terms';\nimport { useActualLatestTerm } from '@/services/service-worker/use-actual-latest-term';\n\nexport const ServiceWorkerUpdateBanner: React.FC = () => {\n  const [terms] = useModel(TermsModel);\n  const actualLatestTerm = useActualLatestTerm();\n  const [alertTerm, setAlertTerm] = useState<TermType>();\n\n  useEffect(() => {\n    if (\n      typeof terms.latestTerm?.term === 'number' &&\n      typeof actualLatestTerm?.term === 'number'\n    ) {\n      if (actualLatestTerm.term > terms.latestTerm.term) {\n        setAlertTerm(actualLatestTerm);\n      }\n    }\n  }, [terms.latestTerm?.term, actualLatestTerm?.term]);\n\n  if (alertTerm) {\n    return (\n      <Alert\n        className={styles.Alert}\n        type=\"error\"\n        icon={<Tips />}\n        banner\n        message={`荒典已经更新至 ${alertTerm.term} 期，刷新页面后可选择`}\n        action={\n          <Typography.Link\n            onClick={e => {\n              e.stopPropagation();\n              window.location.reload();\n            }}\n          >\n            <Button size=\"small\" type=\"primary\">\n              立即刷新\n            </Button>\n          </Typography.Link>\n        }\n      />\n    );\n  }\n  return null;\n};\n","import type React from 'react';\nimport { Alert } from 'antd';\nimport { useLocation } from '@modern-js/runtime/router';\nimport styles from './styles.module.less';\nimport { X_FEATURE_FIELD } from './constants';\n\nexport const XFeatureBanner: React.FC = () => {\n  const location = useLocation();\n\n  if (location.search.includes(X_FEATURE_FIELD)) {\n    return (\n      <Alert\n        className={styles.Alert}\n        type=\"error\"\n        showIcon={false}\n        banner\n        message={`您正在使用内测版本的红油扳手作业站，当前版本包含实验性功能，未来可能进入正式版或被移除`}\n      />\n    );\n  }\n  return null;\n};\n","import type React from 'react';\nimport '@/plugins/dayjs';\nimport { serviceWorker } from '@/services/service-worker';\nimport '@icon-park/react/styles/index.less';\n\nexport default async function bootstrap(\n  _: React.ComponentType,\n  innerBootStrap: () => void,\n) {\n  innerBootStrap();\n\n  serviceWorker.register();\n}\n","import { LazyMotion, domAnimation } from 'framer-motion';\n\nexport const ReducedLazyMotion: React.FC<React.PropsWithChildren> = ({\n  children,\n}) => {\n  return <LazyMotion features={domAnimation}>{children}</LazyMotion>;\n};\n","import { IconProvider, DEFAULT_ICON_CONFIGS } from '@icon-park/react';\nimport type { IIconConfig } from '@icon-park/react/lib/runtime';\nimport type React from 'react';\n\nconst ICON_CONFIG: IIconConfig = {\n  ...DEFAULT_ICON_CONFIGS,\n  theme: 'multi-color',\n  colors: {\n    outline: {\n      fill: 'currentColor',\n      background: 'transparent',\n    },\n    filled: {\n      fill: 'currentColor',\n      background: '#FFF',\n    },\n    twoTone: {\n      fill: 'currentColor',\n      twoTone: '#DC5950',\n    },\n    multiColor: {\n      outStrokeColor: 'currentColor',\n      outFillColor: '#DC5950',\n      innerStrokeColor: '#FFF',\n      innerFillColor: '#E3776B',\n    },\n  },\n};\n\nexport const IconParkProvider: React.FC<React.PropsWithChildren> = ({\n  children,\n}) => {\n  return <IconProvider value={ICON_CONFIG}>{children}</IconProvider>;\n};\n","import { Outlet, useLoaderData } from '@modern-js/runtime/router';\nimport { useModel } from '@modern-js/runtime/model';\nimport { isEmpty } from 'lodash-es';\nimport { TermSchema } from '@sinsa/schema';\nimport { useEffect } from 'react';\nimport type { LayoutLoaderData } from './layout.data';\nimport { Providers } from './providers';\nimport { TermsModel } from '@/models/terms';\nimport { AuroriansModel } from '@/models/aurorians';\nimport { GlobalLayout } from '@/views/GlobalLayout';\nimport { ServiceWorkerUpdateBanner } from '@/components/ServiceWorkerUpdateBanner';\nimport { XFeatureBanner } from '@/components/XFeatureBanner';\nimport { redirectToUploadPageWhenGettingCode } from '@/services/feishu-oauth';\n\nconst Layout: React.FC = () => {\n  const { terms: termsFromRemote, auroriansMap: auroriansMapFromRemote } =\n    useLoaderData() as LayoutLoaderData;\n\n  useEffect(() => {\n    redirectToUploadPageWhenGettingCode();\n  }, []);\n\n  const [terms, termsActions] = useModel(TermsModel);\n  const [aurorians, auroriansActions] = useModel(AuroriansModel);\n\n  useEffect(() => {\n    if (terms.terms.length === 0) {\n      termsActions.setTerms(termsFromRemote.map(t => TermSchema.parse(t)));\n    }\n\n    if (isEmpty(aurorians.auroriansMap)) {\n      auroriansActions.setAuroriansMap(auroriansMapFromRemote);\n    }\n  }, []);\n\n  return (\n    <Providers>\n      <GlobalLayout>\n        <ServiceWorkerUpdateBanner />\n        <XFeatureBanner />\n        <Outlet />\n      </GlobalLayout>\n    </Providers>\n  );\n};\n\nexport default Layout;\n","import { useModel } from '@modern-js/runtime/model';\nimport type { ThemeConfig } from 'antd';\nimport { ConfigProvider, theme as antDesignTheme } from 'antd';\nimport type React from 'react';\nimport { useEffect, useMemo } from 'react';\nimport { DarkModel } from '@/models/dark';\nimport { DARK_MODE_KEY } from '@/services/dark-mode';\nimport { IconParkProvider } from '@/plugins/icon-park';\n\nconst ANTD_PREFIX_CLASSNAME = 'sinsa' as const;\nconst COLOR_PRIMARY = 'rgb(220, 89, 80)';\n\nfunction useAntDesignTheme() {\n  const [{ mode }] = useModel(DarkModel);\n\n  useEffect(() => {\n    localStorage.setItem(DARK_MODE_KEY, mode);\n  }, [mode]);\n\n  const theme = useMemo<ThemeConfig>(() => {\n    let algorithm = antDesignTheme.defaultAlgorithm;\n    if (mode === 'dark') {\n      algorithm = antDesignTheme.darkAlgorithm;\n    }\n    return {\n      token: {\n        colorPrimary: COLOR_PRIMARY,\n        colorLink: COLOR_PRIMARY,\n      },\n      algorithm,\n    };\n  }, [mode]);\n\n  return {\n    theme,\n  };\n}\n\nexport const Providers: React.FC<React.PropsWithChildren> = ({ children }) => {\n  const { theme } = useAntDesignTheme();\n  return (\n    <ConfigProvider prefixCls={ANTD_PREFIX_CLASSNAME} theme={theme}>\n      <IconParkProvider>{children}</IconParkProvider>\n    </ConfigProvider>\n  );\n};\n","import {\n  // Analysis,\n  EmotionHappy,\n  Home,\n  Search,\n  ViewList,\n} from '@icon-park/react';\n\nexport const RoutePath = {\n  Home: '/',\n  Solutions: (term: 'latest' | `${number}` | ':term' | number = ':term') =>\n    `/solutions/${term}`,\n  Copilots: (term: 'latest' | `${number}` | ':term' | number = ':term') =>\n    `/copilots/${term}`,\n  Dashboard: '/dashboard',\n  Upload: '/upload',\n  Questions:\n    'https://fwf92qm5h53.feishu.cn/share/base/form/shrcnkfhNUEP1AHIktUV6gRMFKc',\n} as const;\n\nexport const MY_ROUTE = {\n  routes: [\n    {\n      path: RoutePath.Home,\n      name: '首页',\n      icon: <Home size={16} />,\n    },\n    {\n      path: RoutePath.Solutions(),\n      name: '作业匹配',\n      icon: <Search size={16} />,\n    },\n    {\n      path: RoutePath.Copilots(),\n      name: '作业全览',\n      icon: <ViewList size={16} />,\n    },\n    // {\n    //   path: RoutePath.Dashboard,\n    //   name: '数据全览',\n    //   icon: <Analysis size={16} />,\n    // },\n    {\n      path: RoutePath.Questions,\n      name: '问卷调查',\n      icon: <EmotionHappy size={16} />,\n      link: true,\n    },\n  ],\n};\n","import { ProLayout } from '@ant-design/pro-components';\nimport { Link, useLocation, useNavigate } from '@modern-js/runtime/router';\nimport { useCallback, useMemo } from 'react';\nimport type { MenuDataItem } from '@ant-design/pro-components';\nimport { Flex, FloatButton } from 'antd';\nimport { MY_ROUTE, RoutePath } from './constants';\nimport { ErrorBoundary } from '@/components/ErrorBoundary';\nimport { ReactComponent as IconLogo } from '@/assets/wrench.svg';\nimport { ReducedLazyMotion } from '@/plugins/framer-motion';\nimport { DarkModeButton } from '@/components/DarkModeButton';\n\nconst NOOP = <div />;\n\nexport const GlobalLayout: React.FC<React.PropsWithChildren> = ({\n  children,\n}) => {\n  const location = useLocation();\n  const navigate = useNavigate();\n\n  const renderMenuItem = useCallback(\n    (item: MenuDataItem, dom: React.ReactNode) => {\n      if (!item.path) {\n        return NOOP;\n      }\n      switch (item.path) {\n        case RoutePath.Copilots():\n          return <Link to={RoutePath.Copilots('latest')}>{dom}</Link>;\n        case RoutePath.Solutions():\n          return <Link to={RoutePath.Solutions('latest')}>{dom}</Link>;\n        default:\n          return (\n            <Link to={item.path} target={item.link ? '_blank' : undefined}>\n              {dom}\n            </Link>\n          );\n      }\n    },\n    [],\n  );\n\n  const handleClickLogo = useCallback(() => {\n    navigate('/');\n  }, []);\n\n  const token = useMemo(() => {\n    return { pageContainer: { paddingInlinePageContainerContent: 16 } };\n  }, []);\n\n  return (\n    <>\n      <ProLayout\n        title=\"红油扳手作业站\"\n        logo={<IconLogo />}\n        location={location}\n        fixSiderbar\n        route={MY_ROUTE}\n        menuItemRender={renderMenuItem}\n        onMenuHeaderClick={handleClickLogo}\n        siderWidth={200}\n        layout=\"side\"\n        token={token}\n        ErrorBoundary={ErrorBoundary}\n        headerContentRender={(_, dom) => (\n          <Flex justify=\"flex-end\">\n            {dom}\n            <DarkModeButton />\n          </Flex>\n        )}\n      >\n        <ReducedLazyMotion>{children}</ReducedLazyMotion>\n      </ProLayout>\n      <FloatButton.BackTop />\n    </>\n  );\n};\n","import {\n  AurorianAttributeType,\n  AurorianClassType,\n  AurorianRarityType,\n} from '@sinsa/schema';\nimport E1 from '@/assets/elements/1.webp';\nimport E2 from '@/assets/elements/2.webp';\nimport E3 from '@/assets/elements/3.webp';\nimport E4 from '@/assets/elements/4.webp';\nimport C1 from '@/assets/classes/2001.webp';\nimport C2 from '@/assets/classes/2002.webp';\nimport C3 from '@/assets/classes/2003.webp';\nimport C4 from '@/assets/classes/2004.webp';\n\nexport const RarityMapper = {\n  [AurorianRarityType.Star6]: 6,\n  [AurorianRarityType.Star5]: 5,\n  [AurorianRarityType.Star4]: 4,\n  [AurorianRarityType.Star3]: 3,\n  [AurorianRarityType.Star2]: 2,\n  [AurorianRarityType.Star1]: 1,\n};\n\nexport const ElementURLMapper = {\n  [AurorianAttributeType.Water]: E1,\n  [AurorianAttributeType.Fire]: E2,\n  [AurorianAttributeType.Forest]: E3,\n  [AurorianAttributeType.Thunder]: E4,\n};\n\nexport const ElementTextMapper = {\n  [AurorianAttributeType.Water]: '水',\n  [AurorianAttributeType.Fire]: '火',\n  [AurorianAttributeType.Forest]: '森',\n  [AurorianAttributeType.Thunder]: '雷',\n};\n\nexport const ClassURLMapper = {\n  [AurorianClassType.Converter]: C1,\n  [AurorianClassType.Sniper]: C2,\n  [AurorianClassType.Detonator]: C3,\n  [AurorianClassType.Supporter]: C4,\n};\n","export const X_FEATURE_FIELD = 'x-feature';\n","import { model } from '@modern-js/runtime/model';\nimport type {\n  AurorianAttributeType,\n  AurorianSummaryType,\n  AurorianType,\n  MyBoxType,\n} from '@sinsa/schema';\nimport { groupBy, mapValues } from 'lodash-es';\nimport { match } from 'pinyin-pro';\nimport type React from 'react';\nimport { ElementTextMapper } from '@/components/AurorianCard/constants';\n\nexport interface AuroriansState {\n  auroriansMap: Record<AurorianType['aurorian_name'], AurorianType>;\n}\n\nexport interface AuroriansOption {\n  label: React.ReactNode;\n  options?: { label: string; value: string; options?: unknown[] }[];\n}\n\nexport function filterAuroriansOption(\n  inputValue: string,\n  option?: AuroriansOption,\n) {\n  if (Array.isArray(option?.options)) {\n    return false;\n  }\n\n  if (typeof option?.label === 'string') {\n    return match(option?.label, inputValue, {\n      precision: 'start',\n    });\n  }\n\n  return false;\n}\n\nexport const AuroriansModel = model<AuroriansState>('aurorians').define({\n  state: {\n    auroriansMap: {},\n  },\n  computed: {\n    WHOLE_BOX: (state): MyBoxType => {\n      return {\n        title: '全图鉴',\n        create_time: new Date(),\n        version: 1,\n        aurorian_summaries: mapValues(\n          state.auroriansMap,\n          ({ aurorian_name }) => {\n            return {\n              aurorian_name,\n              breakthrough: Infinity, // 假设突破无穷大\n            } as AurorianSummaryType;\n          },\n        ),\n      };\n    },\n    auroriansOptions: state => {\n      return Object.entries(groupBy(state.auroriansMap, 'attribute')).map(\n        ([attribute, aurorians]) => {\n          return {\n            label: ElementTextMapper[attribute as AurorianAttributeType],\n            options: aurorians.map(a => {\n              return {\n                label: a.aurorian_cn_name,\n                value: a.aurorian_name,\n              };\n            }),\n          } as AuroriansOption;\n        },\n      );\n    },\n  },\n  actions: {},\n});\n","import { model } from '@modern-js/runtime/model';\nimport { DARK_MODE_KEY } from '@/services/dark-mode';\n\ninterface DarkState {\n  mode: 'dark' | 'system' | 'light';\n}\n\nexport const DarkModel = model<DarkState>('dark').define({\n  state: {\n    mode: localStorage.getItem(DARK_MODE_KEY) ?? 'light',\n  },\n  actions: {},\n});\n","import { model } from '@modern-js/runtime/model';\nimport type { TermType } from '@sinsa/schema';\nimport { first } from 'lodash-es';\n\nexport interface TermsState {\n  terms: TermType[];\n}\n\nconst NOW = Date.now();\n\n/**\n * 这期荒典是否正在进行中\n */\nexport function isCurrentlyUnderway(term: TermType) {\n  return term.start_time.valueOf() < NOW && NOW < term.end_time.valueOf();\n}\n\nexport const TermsModel = model<TermsState>('terms').define({\n  state: {\n    terms: [],\n  },\n  computed: {\n    latestTerm: state => {\n      return (\n        state.terms.find(term => isCurrentlyUnderway(term)) ??\n        first(state.terms)\n      );\n    },\n    termsOptions: state =>\n      state.terms.map(t => {\n        return {\n          label: `荒典第 ${t.term} 期`,\n          value: t.term,\n          extra: t,\n        };\n      }),\n    termsMap: state => {\n      const result: Record<TermType['term'], TermType> = {};\n      for (const t of state.terms) {\n        result[t.term] = t;\n      }\n      return result;\n    },\n  },\n  actions: {},\n});\n","import dayjs from 'dayjs';\nimport relativeTime from 'dayjs/plugin/relativeTime';\n\ndayjs.extend(relativeTime);\n","import type { AurorianType, TermType } from '@sinsa/schema';\nimport { getAurorians, getTerms } from '@/services/http';\n\nexport interface LayoutLoaderData {\n  terms: TermType[];\n  auroriansMap: Record<AurorianType['aurorian_name'], AurorianType>;\n}\n\nexport async function loader(): Promise<LayoutLoaderData> {\n  const [terms, auroriansMap] = await Promise.all([getTerms(), getAurorians()]);\n  return {\n    terms,\n    auroriansMap,\n  };\n}\n","import { z } from '@sinsa/schema';\n\nexport const BilibiliVideoDetailSchema = z.object({\n  bvid: z.string().startsWith('BV'),\n  aid: z.number(),\n  pic: z.string(),\n  pubdate: z.coerce.date(),\n  duration: z.number(),\n  desc: z.string(),\n  owner: z.object({\n    name: z.string(),\n  }),\n  title: z.string(),\n});\n\nexport type BilibiliVideoDetailType = z.infer<typeof BilibiliVideoDetailSchema>;\n","import { z } from '@sinsa/schema';\n\nexport const FeishuProfileSchema = z.object({\n  avatar_url: z.string(),\n  en_name: z.string(),\n  name: z.string(),\n  open_id: z.string(),\n  tenant_key: z.string(),\n  union_id: z.string(),\n});\n\nexport type FeishuProfileType = z.infer<typeof FeishuProfileSchema>;\n","import { useLocalStorageState } from 'ahooks';\n\ntype DarkModeType = 'system' | 'light' | 'dark';\n\nexport const DARK_MODE_KEY = 'SINSA_DADDY_THEME_DARK_MODE';\n\nexport function useDarkMode() {\n  const [darkMode, setDarkMode] = useLocalStorageState<DarkModeType>(\n    'SINSA_DADDY_THEME_DARK_MODE',\n    {\n      defaultValue: 'system',\n    },\n  );\n\n  return {\n    darkMode,\n    setDarkMode,\n  };\n}\n","import { RoutePath } from '@/views/GlobalLayout/constants';\n\nexport function redirectToUploadPageWhenGettingCode() {\n  const currentURL = new URL(window.location.href);\n  if (\n    currentURL.searchParams.has('code') &&\n    currentURL.searchParams.has('state')\n  ) {\n    window.location.href = `${window.location.origin}/#${RoutePath.Upload}${currentURL.search}`;\n  }\n}\n","import {\n  AurorianNextSchema,\n  AurorianSchema,\n  CopilotSchema,\n  TermSchema,\n} from '@sinsa/schema';\nimport type { CopilotType, TermType } from '@sinsa/schema';\nimport { isPlainObject, mapValues } from 'lodash-es';\nimport axios from 'axios';\nimport { FeishuProfileSchema } from '@/schemas/feishu-profile';\nimport { BilibiliVideoDetailSchema } from '@/schemas/bilibili-video-detail';\nimport type { toInputRemoteCopilot } from '@/components/UploadForm/utils/toInputRemoteCopilot';\n\nconst http = axios.create({});\n\n/**\n * 获取荒典首领信息\n */\nexport async function getTerms() {\n  try {\n    const response = await http.get('/api/terms.json');\n    if (\n      Array.isArray(response.data) &&\n      response.data.every(item => TermSchema.parse(item))\n    ) {\n      return response.data as TermType[];\n    }\n  } catch (error) {}\n  return [];\n}\n\n/**\n * 获取光灵信息\n * @deprecated\n */\nexport async function getAurorians() {\n  try {\n    const response = await http.get('/api/aurorians.json');\n    if (isPlainObject(response.data)) {\n      return mapValues(response.data, v => AurorianSchema.parse(v));\n    }\n  } catch (error) {}\n  return {};\n}\n\n/**\n * 获取光灵信息\n */\nexport async function getAuroriansNext() {\n  try {\n    const response = await http.get('/api/aurorians-next.json');\n    if (isPlainObject(response.data)) {\n      return mapValues(response.data, v => AurorianNextSchema.parse(v));\n    }\n  } catch (error) {}\n  return {};\n}\n\n/**\n * 获取作业\n */\nexport async function getCopilots(\n  term: number | `${number}`,\n): Promise<Record<CopilotType['bv'], CopilotType>> {\n  const response = await http.get(`/api/copilots/${term}.json`, {\n    headers: { 'Cache-Control': 'no-cache' },\n  });\n  if (isPlainObject(response.data)) {\n    return mapValues(response.data, v => CopilotSchema.parse(v));\n  }\n  return {};\n}\n\n/**\n * 授权回调\n */\nexport async function saveAuthCallback(params: { code: string }) {\n  try {\n    const response = await http.get('/api-upload/lark/auth-callback', {\n      params,\n    });\n    console.log('callback', response);\n  } catch (error) {}\n}\n\n/**\n * 获取当前登录的飞书用户状态信息\n */\nexport async function getFeishuProfile() {\n  try {\n    const response = await http.get('/api-upload/lark/profile', {});\n    if (response.data) {\n      return FeishuProfileSchema.parse(response.data);\n    }\n  } catch (error) {}\n  return undefined;\n}\n\n/**\n * 获取 B 站视频信息\n * @param bv 视频 BV 号\n * @returns 视频信息\n */\nexport async function getVideoInfo(bv: string) {\n  try {\n    const response = await http.get(`/api-upload/btv/video/${bv}`);\n    if (response.data) {\n      return BilibiliVideoDetailSchema.parse({\n        ...response.data,\n        pubdate: response.data.pubdate * 1000,\n      });\n    }\n  } catch (error) {\n    console.log('error', error);\n  }\n  return undefined;\n}\n\n/**\n * 判断 B 站视频是否已经收录\n * @param params.bv B 站视频 BV 号\n * @param params.term 检查期数\n * @returns\n */\nexport async function checkVideoExist(params: {\n  bv: string;\n  term: string | number;\n}) {\n  try {\n    const response = await http.get('/api-upload/lark/check', {\n      params,\n    });\n    if (response.data) {\n      return response.data;\n    }\n  } catch (error) {}\n  return undefined;\n}\n\n/**\n * 提交作业\n * @param remoteCopilot 远程作业适配类型\n * @returns 提交结果\n */\nexport async function postCopilot(\n  remoteCopilot: ReturnType<typeof toInputRemoteCopilot>,\n) {\n  try {\n    const response = await http.post('/api-upload/lark/copilot', remoteCopilot);\n    return response.data;\n  } catch (error) {}\n  return undefined;\n}\n\n/**\n * 获取最近的 B 站作业收录情况\n * @returns\n */\nexport async function getLatestVideo() {\n  try {\n    const response = await http.get('/api-upload/btv/latest');\n    return response.data;\n  } catch (error) {}\n  return undefined;\n}\n\n/**\n * 获取最近的 数据库 作业收录情况\n * @param params.pageSize 读取飞书数据库中最近作业条目\n * @returns\n */\nexport async function getLatestCopilots(params: { pageSize: number }) {\n  try {\n    const response = await http.get('/api-upload/lark/latestCopilots', {\n      params,\n    });\n    return response.data;\n  } catch (error) {}\n  return undefined;\n}\n","import { notification } from 'antd';\n\nexport class ServiceWorkerService {\n  static SERVICE_WORKER_URL: string = '/sw.js';\n\n  private static instance: ServiceWorkerService | null = null;\n\n  public static getInstance(): ServiceWorkerService {\n    if (ServiceWorkerService.instance === null) {\n      ServiceWorkerService.instance = new ServiceWorkerService();\n    }\n    return ServiceWorkerService.instance;\n  }\n\n  protected constructor() {\n    // noop\n  }\n\n  /**\n   * 注册 Service Worker\n   */\n  async register() {\n    if (\n      'serviceWorker' in window.navigator &&\n      window.location.host !== 'localhost:8080'\n    ) {\n      const { Workbox } = await import(\n        /* webpackChunkName: \"lib-workbox-window\" */ 'workbox-window'\n      );\n\n      const wb = new Workbox(ServiceWorkerService.SERVICE_WORKER_URL);\n\n      wb.addEventListener('activated', event => {\n        if (!event.isUpdate) {\n          notification.success({\n            message: `缓存完成`,\n            description: `作业站可以离线本地使用了`,\n            duration: 3,\n            placement: 'bottom',\n          });\n        }\n      });\n\n      window.__TERMS_UPDATE_PROMISE__ = new Promise(resolve => {\n        wb.addEventListener('message', event => {\n          if (event.data.type === 'TERMS_UPDATE') {\n            resolve(event.data.payload);\n          }\n        });\n\n        wb.register();\n      });\n    } else {\n      console.log('[ServiceWorkerService] Cannot register service worker.');\n    }\n  }\n}\n\nexport const serviceWorker = ServiceWorkerService.getInstance();\n","import type { TermType } from '@sinsa/schema';\nimport { TermSchema } from '@sinsa/schema';\nimport { useEffect, useState } from 'react';\nimport { isCurrentlyUnderway } from '@/models/terms';\n\nexport function useActualLatestTerm() {\n  const [actualLatestTerm, setActualLatestTerm] = useState<TermType>();\n\n  useEffect(() => {\n    const run = async () => {\n      if (window.__TERMS_UPDATE_PROMISE__ instanceof Promise) {\n        const payload = await window.__TERMS_UPDATE_PROMISE__;\n\n        if (Array.isArray(payload?.terms)) {\n          const actualLatestTerm = payload.terms\n            .map(mayBeTerm => TermSchema.parse(mayBeTerm))\n            .find(term => isCurrentlyUnderway(term));\n\n          if (typeof actualLatestTerm?.term === 'number') {\n            setActualLatestTerm(actualLatestTerm);\n          }\n        }\n      }\n    };\n\n    run();\n  }, []);\n\n  return actualLatestTerm;\n}\n"],"names":["_path","_path2","_path3","_path4","_path5","_path6","_path7","_extends","Object","assign","bind","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","SvgWrench","props","xmlns","width","height","className","viewBox","fill","d","AurorianAttributeType2","AurorianClassType2","AurorianRarityType2","AssetType2","CopilotSourceType2","CopilotUserProviderType2","AurorianAttributeType","AurorianClassType","AurorianRarityType","AurorianSchema","z","aurorian_name","describe","aurorian_cn_name","attribute","secondary_attribute","class","rarity","server","array","_record_id","startsWith","aurorian_id","name","cn_name","primary_element","secondary_element","profession","min","max","AurorianSummarySchema","breakthrough","title","create_time","version","aurorian_summaries","AssetType","bv","description","author","insert_db_time","upload_time","score","term","text_arr","rerun_terms","replaceable_position","aurorian_1","text","aurorian_1_breakthrough","aurorian_2","aurorian_2_breakthrough","aurorian_3","aurorian_3_breakthrough","aurorian_4","aurorian_4_breakthrough","aurorian_5","aurorian_5_breakthrough","asset_type","asset_link","CopilotAurorianSummarySchema","extend","is_replaceable","CopilotSchema","int","revision","table_id","TermSchema","boss_name","boss_attribute","start_time","end_time","features","TERM_ID_REGEXP","term_id","regex","order","reruns","AurorianRequirementLevelSchema","asc","lv","eq","rfn","aff","AurorianRequirementReplaceSchema","type","aurorians","or","any","AurorianRequirementRemarkSchema","level","replace","AurorianRequirementSchema","remark","UNKNOWN_AUTHOR_ID","CopilotSourceType","CopilotUserProviderType","author_id","CopilotNextUserSchema","user_id","provider_type","CopilotNextAssetSchema","script33","link","copilot_id","source_type","href","author_name","created_by","created_time","aurorian_requirements","assets","window","__assetPrefix__","DarkModeButton","mode","setMode","useModel","DarkModel","toggleDarkMode","isDark","Button","onClick","e","stopPropagation","icon","DarkModeSwitch","size","checked","onChange","ErrorBoundary","getDerivedStateFromError","error","hasError","errorInfo","message","componentDidCatch","console","log","render","state","Result","status","subTitle","extra","location","reload","children","ServiceWorkerUpdateBanner","terms","TermsModel","actualLatestTerm","useActualLatestTerm","alertTerm","setAlertTerm","useState","useEffect","latestTerm","Alert","Tips","banner","action","Typography","XFeatureBanner","useLocation","search","includes","X_FEATURE_FIELD","showIcon","bootstrap","_","innerBootStrap","serviceWorker","ReducedLazyMotion","LazyMotion","domAnimation","ICON_CONFIG","DEFAULT_ICON_CONFIGS","theme","colors","outline","background","filled","twoTone","multiColor","outStrokeColor","outFillColor","innerStrokeColor","innerFillColor","IconParkProvider","IconProvider","value","termsFromRemote","auroriansMap","auroriansMapFromRemote","useLoaderData","redirectToUploadPageWhenGettingCode","termsActions","auroriansActions","AuroriansModel","setTerms","map","t","isEmpty","setAuroriansMap","Providers","GlobalLayout","Outlet","COLOR_PRIMARY","useAntDesignTheme","localStorage","setItem","DARK_MODE_KEY","useMemo","algorithm","token","colorPrimary","colorLink","ConfigProvider","prefixCls","RoutePath","Home","Solutions","Copilots","Dashboard","Upload","Questions","MY_ROUTE","routes","path","Search","ViewList","EmotionHappy","NOOP","navigate","useNavigate","renderMenuItem","useCallback","item","dom","Link","to","undefined","handleClickLogo","pageContainer","paddingInlinePageContainerContent","ProLayout","logo","fixSiderbar","route","menuItemRender","onMenuHeaderClick","siderWidth","layout","headerContentRender","Flex","justify","FloatButton","RarityMapper","ElementURLMapper","ElementTextMapper","ClassURLMapper","filterAuroriansOption","inputValue","option","Array","isArray","options","label","match","precision","model","define","computed","WHOLE_BOX","Date","mapValues","Infinity","auroriansOptions","entries","groupBy","a","actions","getItem","NOW","now","isCurrentlyUnderway","valueOf","find","first","termsOptions","termsMap","result","loader","Promise","all","getTerms","getAurorians","BilibiliVideoDetailSchema","bvid","aid","pic","pubdate","duration","desc","owner","FeishuProfileSchema","avatar_url","en_name","open_id","tenant_key","union_id","currentURL","URL","searchParams","has","origin","http","response","get","data","every","isPlainObject","v","getCopilots","headers","saveAuthCallback","params","getFeishuProfile","getVideoInfo","checkVideoExist","postCopilot","remoteCopilot","post","getLatestVideo","getLatestCopilots","ServiceWorkerService","getInstance","instance","register","navigator","host","Workbox","wb","SERVICE_WORKER_URL","addEventListener","event","isUpdate","notification","placement","__TERMS_UPDATE_PROMISE__","resolve","payload","setActualLatestTerm","run","mayBeTerm"],"mappings":"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"}