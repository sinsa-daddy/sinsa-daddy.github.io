/*! For license information please see page.0d92698b.js.LICENSE.txt */
(globalThis.webpackChunk_sinsa_web=globalThis.webpackChunk_sinsa_web||[]).push([["4501"],{32662:function(e,r,a){var t={"./Alice.webp":"32662@./Alice.webp","./Allura.webp":"32662@./Allura.webp","./Amy.webp":"32662@./Amy.webp","./Angel.webp":"32662@./Angel.webp","./Ansia.webp":"32662@./Ansia.webp","./Antony.webp":"32662@./Antony.webp","./Areia.webp":"32662@./Areia.webp","./Barbara.webp":"32662@./Barbara.webp","./Barton.webp":"32662@./Barton.webp","./Benny And Curo.webp":"32662@./Benny And Curo.webp","./Beryl.webp":"32662@./Beryl.webp","./Bethlehem.webp":"32662@./Bethlehem.webp","./Beverly.webp":"32662@./Beverly.webp","./Bonacie.webp":"32662@./Bonacie.webp","./Brock.webp":"32662@./Brock.webp","./Carleen.webp":"32662@./Carleen.webp","./Chainsaw Rick.webp":"32662@./Chainsaw Rick.webp","./Chandra.webp":"32662@./Chandra.webp","./Charon.webp":"32662@./Charon.webp","./Chloe.webp":"32662@./Chloe.webp","./Clover.webp":"32662@./Clover.webp","./Connolly.webp":"32662@./Connolly.webp","./Constantine.webp":"32662@./Constantine.webp","./Corax.webp":"32662@./Corax.webp","./Cordy.webp":"32662@./Cordy.webp","./Cuscuta.webp":"32662@./Cuscuta.webp","./Dantang.webp":"32662@./Dantang.webp","./Dawn.webp":"32662@./Dawn.webp","./Dayna.webp":"32662@./Dayna.webp","./Dove.webp":"32662@./Dove.webp","./Eho.webp":"32662@./Eho.webp","./Eicy.webp":"32662@./Eicy.webp","./Elma.webp":"32662@./Elma.webp","./Eve.webp":"32662@./Eve.webp","./Fafnir.webp":"32662@./Fafnir.webp","./Faust.webp":"32662@./Faust.webp","./Fleur.webp":"32662@./Fleur.webp","./Frostfire.webp":"32662@./Frostfire.webp","./Gabriel.webp":"32662@./Gabriel.webp","./Genevieve.webp":"32662@./Genevieve.webp","./Gram.webp":"32662@./Gram.webp","./Gronru.webp":"32662@./Gronru.webp","./Hachi & Gin.webp":"32662@./Hachi & Gin.webp","./Hiiro.webp":"32662@./Hiiro.webp","./Hydrad.webp":"32662@./Hydrad.webp","./Irridon.webp":"32662@./Irridon.webp","./Istvan.webp":"32662@./Istvan.webp","./Jakine.webp":"32662@./Jakine.webp","./Jane.webp":"32662@./Jane.webp","./Joanie Boom.webp":"32662@./Joanie Boom.webp","./Jola.webp":"32662@./Jola.webp","./Jomu.webp":"32662@./Jomu.webp","./Jona.webp":"32662@./Jona.webp","./Judge Jr..webp":"32662@./Judge Jr..webp","./Kafka.webp":"32662@./Kafka.webp","./Kanna.webp":"32662@./Kanna.webp","./Keating.webp":"32662@./Keating.webp","./Kleken.webp":"32662@./Kleken.webp","./Korgon.webp":"32662@./Korgon.webp","./Kuma & Pengy.webp":"32662@./Kuma & Pengy.webp","./Leah.webp":"32662@./Leah.webp","./Leona.webp":"32662@./Leona.webp","./Lester.webp":"32662@./Lester.webp","./Li Tianxian.webp":"32662@./Li Tianxian.webp","./Lilliam.webp":"32662@./Lilliam.webp","./Liqing.webp":"32662@./Liqing.webp","./Lola.webp":"32662@./Lola.webp","./Louise.webp":"32662@./Louise.webp","./Lucoa.webp":"32662@./Lucoa.webp","./Maggie.webp":"32662@./Maggie.webp","./Matthieu.webp":"32662@./Matthieu.webp","./Mia.webp":"32662@./Mia.webp","./Michael.webp":"32662@./Michael.webp","./Michenny.webp":"32662@./Michenny.webp","./Migard.webp":"32662@./Migard.webp","./Momo & Anzu.webp":"32662@./Momo & Anzu.webp","./Ms. Blanc.webp":"32662@./Ms. Blanc.webp","./Mythos.webp":"32662@./Mythos.webp","./Nadine.webp":"32662@./Nadine.webp","./Nails.webp":"32662@./Nails.webp","./Naroxel.webp":"32662@./Naroxel.webp","./Nemesis.webp":"32662@./Nemesis.webp","./Nikinis.webp":"32662@./Nikinis.webp","./No. 33.webp":"32662@./No. 33.webp","./Noah.webp":"32662@./Noah.webp","./Novio.webp":"32662@./Novio.webp","./Odi.webp":"32662@./Odi.webp","./Ophina.webp":"32662@./Ophina.webp","./Pact.webp":"32662@./Pact.webp","./Paloma.webp":"32662@./Paloma.webp","./Pasolo.webp":"32662@./Pasolo.webp","./Patty & Patsy.webp":"32662@./Patty & Patsy.webp","./Pepi.webp":"32662@./Pepi.webp","./Philyshy.webp":"32662@./Philyshy.webp","./Pittman.webp":"32662@./Pittman.webp","./Rabbie.webp":"32662@./Rabbie.webp","./Raphael.webp":"32662@./Raphael.webp","./Regal.webp":"32662@./Regal.webp","./Regina.webp":"32662@./Regina.webp","./Requiem.webp":"32662@./Requiem.webp","./Revy.webp":"32662@./Revy.webp","./Robyn.webp":"32662@./Robyn.webp","./Rouge.webp":"32662@./Rouge.webp","./Roy.webp":"32662@./Roy.webp","./Sanae.webp":"32662@./Sanae.webp","./Sariel.webp":"32662@./Sariel.webp","./Schwartz.webp":"32662@./Schwartz.webp","./Seleucid.webp":"32662@./Seleucid.webp","./Sharona.webp":"32662@./Sharona.webp","./Sikare.webp":"32662@./Sikare.webp","./Sinsa.webp":"32662@./Sinsa.webp","./Smokey.webp":"32662@./Smokey.webp","./Sork & Bekk.webp":"32662@./Sork & Bekk.webp","./Sylva.webp":"32662@./Sylva.webp","./Taki.webp":"32662@./Taki.webp","./Tessa.webp":"32662@./Tessa.webp","./Tiny One.webp":"32662@./Tiny One.webp","./Tohru.webp":"32662@./Tohru.webp","./Tourdog.webp":"32662@./Tourdog.webp","./Tweety.webp":"32662@./Tweety.webp","./Unimet.webp":"32662@./Unimet.webp","./Uriah.webp":"32662@./Uriah.webp","./Uriel.webp":"32662@./Uriel.webp","./VIOLET.webp":"32662@./VIOLET.webp","./Vice Keen Sight.webp":"32662@./Vice Keen Sight.webp","./Vice.webp":"32662@./Vice.webp","./Victoria.webp":"32662@./Victoria.webp","./Vivian.webp":"32662@./Vivian.webp","./Wendy.webp":"32662@./Wendy.webp","./White Dwarf.webp":"32662@./White Dwarf.webp","./Wrath.webp":"32662@./Wrath.webp","./Xuan Ji.webp":"32662@./Xuan Ji.webp","./Zarya.webp":"32662@./Zarya.webp","./Zhong Xu.webp":"32662@./Zhong Xu.webp","./Zoya.webp":"32662@./Zoya.webp"},i={"./Alice.webp":"55806","./Allura.webp":"38455","./Amy.webp":"98955","./Angel.webp":"13024","./Ansia.webp":"43084","./Antony.webp":"13198","./Areia.webp":"64779","./Barbara.webp":"83887","./Barton.webp":"8394","./Benny And Curo.webp":"7680","./Beryl.webp":"60448","./Bethlehem.webp":"33237","./Beverly.webp":"17361","./Bonacie.webp":"14386","./Brock.webp":"75579","./Carleen.webp":"32923","./Chainsaw Rick.webp":"39641","./Chandra.webp":"75993","./Charon.webp":"21719","./Chloe.webp":"90326","./Clover.webp":"62608","./Connolly.webp":"29441","./Constantine.webp":"17257","./Corax.webp":"15510","./Cordy.webp":"97108","./Cuscuta.webp":"47139","./Dantang.webp":"75198","./Dawn.webp":"22545","./Dayna.webp":"92258","./Dove.webp":"40312","./Eho.webp":"4852","./Eicy.webp":"58361","./Elma.webp":"58769","./Eve.webp":"85792","./Fafnir.webp":"7704","./Faust.webp":"95176","./Fleur.webp":"31790","./Frostfire.webp":"19245","./Gabriel.webp":"27058","./Genevieve.webp":"23237","./Gram.webp":"4010","./Gronru.webp":"36198","./Hachi & Gin.webp":"40409","./Hiiro.webp":"79475","./Hydrad.webp":"73040","./Irridon.webp":"27850","./Istvan.webp":"59187","./Jakine.webp":"88730","./Jane.webp":"47025","./Joanie Boom.webp":"74617","./Jola.webp":"19713","./Jomu.webp":"67960","./Jona.webp":"98469","./Judge Jr..webp":"9731","./Kafka.webp":"79620","./Kanna.webp":"84935","./Keating.webp":"1314","./Kleken.webp":"7810","./Korgon.webp":"3927","./Kuma & Pengy.webp":"98213","./Leah.webp":"51432","./Leona.webp":"74177","./Lester.webp":"62063","./Li Tianxian.webp":"8514","./Lilliam.webp":"55212","./Liqing.webp":"57027","./Lola.webp":"79586","./Louise.webp":"87411","./Lucoa.webp":"14626","./Maggie.webp":"41680","./Matthieu.webp":"39245","./Mia.webp":"61492","./Michael.webp":"38038","./Michenny.webp":"78041","./Migard.webp":"42973","./Momo & Anzu.webp":"14157","./Ms. Blanc.webp":"94343","./Mythos.webp":"94419","./Nadine.webp":"31759","./Nails.webp":"41754","./Naroxel.webp":"74303","./Nemesis.webp":"53324","./Nikinis.webp":"98102","./No. 33.webp":"73593","./Noah.webp":"38782","./Novio.webp":"49170","./Odi.webp":"52585","./Ophina.webp":"78183","./Pact.webp":"59387","./Paloma.webp":"53104","./Pasolo.webp":"35244","./Patty & Patsy.webp":"33220","./Pepi.webp":"62961","./Philyshy.webp":"24189","./Pittman.webp":"19022","./Rabbie.webp":"78223","./Raphael.webp":"33554","./Regal.webp":"27078","./Regina.webp":"55945","./Requiem.webp":"79766","./Revy.webp":"48614","./Robyn.webp":"57283","./Rouge.webp":"38846","./Roy.webp":"47321","./Sanae.webp":"93378","./Sariel.webp":"88620","./Schwartz.webp":"77823","./Seleucid.webp":"85619","./Sharona.webp":"26509","./Sikare.webp":"1998","./Sinsa.webp":"10017","./Smokey.webp":"52232","./Sork & Bekk.webp":"99998","./Sylva.webp":"44228","./Taki.webp":"59738","./Tessa.webp":"12387","./Tiny One.webp":"75015","./Tohru.webp":"35715","./Tourdog.webp":"53837","./Tweety.webp":"25144","./Unimet.webp":"62747","./Uriah.webp":"58914","./Uriel.webp":"72072","./VIOLET.webp":"62503","./Vice Keen Sight.webp":"84130","./Vice.webp":"96210","./Victoria.webp":"94511","./Vivian.webp":"2423","./Wendy.webp":"66847","./White Dwarf.webp":"28002","./Wrath.webp":"63584","./Xuan Ji.webp":"10482","./Zarya.webp":"43093","./Zhong Xu.webp":"69149","./Zoya.webp":"44954"};function n(e){if(!a.o(i,e))return Promise.resolve().then(function(){var r=Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r});var r=t[e],n=i[e];return a.el(r).then(function(){return a.t(n,17)})}n.keys=function(){return Object.keys(i)},n.id="32662",e.exports=n},26853:function(e,r,a){"use strict";e.exports={AdaptiveAurorianCard:"AdaptiveAurorianCard-d7ef3b",adaptiveAurorianCard:"AdaptiveAurorianCard-d7ef3b",BackgroundImage:"BackgroundImage-_43461",backgroundImage:"BackgroundImage-_43461",BreakThrough:"BreakThrough-bbea6b",breakThrough:"BreakThrough-bbea6b",Disabled:"Disabled-_21a59",disabled:"Disabled-_21a59",MetaClass:"MetaClass-d72291",metaClass:"MetaClass-d72291",MetaContainer:"MetaContainer-a2721f",metaContainer:"MetaContainer-a2721f",MetaFirstAttribute:"MetaFirstAttribute-cfe989",metaFirstAttribute:"MetaFirstAttribute-cfe989",MetaSecondAttribute:"MetaSecondAttribute-_1cb80",metaSecondAttribute:"MetaSecondAttribute-_1cb80",NameContainer:"NameContainer-ca1a21",nameContainer:"NameContainer-ca1a21",ReplaceableTag:"ReplaceableTag-_725fb",replaceableTag:"ReplaceableTag-_725fb"}},97495:function(e,r,a){"use strict";e.exports={AdaptiveContainer:"AdaptiveContainer-f84115",adaptiveContainer:"AdaptiveContainer-f84115",BreakThrough:"BreakThrough-_8e406",breakThrough:"BreakThrough-_8e406"}},67639:function(e,r,a){"use strict";e.exports={AuroriansTeam:"AuroriansTeam-fa97d1",auroriansTeam:"AuroriansTeam-fa97d1"}},8991:function(e,r,a){"use strict";e.exports={FootBar:"FootBar-_705b4",footBar:"FootBar-_705b4"}},8748:function(e,r,a){"use strict";a.r(r),a.d(r,{AdaptiveAurorianCard:function(){return m}});var t=a("66791"),i=a("50348"),n=a.n(i),o=a("67348"),p=a("35079"),b=a("75748"),s=a("28958"),u=a("63266"),l=a("26853"),w=a("91520"),c=a("87921"),d=a("39538");let m=n().memo(e=>{let{name:r,breakthrough:a,isReplaceable:n,onIgnore:m,disable:h}=e,[{auroriansMap:y}]=(0,o.useModel)(d.AuroriansModel),g=(0,i.useMemo)(()=>y[r],[y,r]),{containerRef:f}=(0,w.useLazyImage)(g?.aurorian_name),A=(0,s.useBreakpoint)(),_=(0,i.useMemo)(()=>{let e=10;switch(A){case"xs":e=10;break;case"sm":e=12;break;default:e=13}return{components:{Rate:{starBg:"white",starSize:e}}}},[A]),C=[{label:`\u{6392}\u{9664}${g?.aurorian_cn_name}`,key:"ignore"},{label:`\u{4EC5}\u{6392}\u{9664}\u{6B64}\u{7A81}\u{7834}\u{6570}\u{7684}${g?.aurorian_cn_name}`,key:"ignore-breakthrough"}];return(0,t.jsx)(b.Dropdown,{disabled:h,trigger:["click"],getPopupContainer:()=>document.body,menu:{items:C,onClick:e=>{let{key:r}=e;if(console.log("key",r),g?.aurorian_name)switch(r){case"ignore-breakthrough":m?.({aurorianName:g.aurorian_name,breakthrough:a});break;case"ignore":m?.({aurorianName:g.aurorian_name})}}},children:(0,t.jsxs)(u.m.div,{ref:f,className:(0,p.default)(l.AdaptiveAurorianCard,l.BackgroundImage,h&&l.Disabled),whileHover:h?void 0:{opacity:.6},whileTap:h?void 0:{opacity:.2},children:[g?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(b.Flex,{vertical:!0,className:l.NameContainer,children:[(0,t.jsx)("span",{children:g?.aurorian_cn_name}),"number"==typeof a&&g?.rarity?(0,t.jsx)(b.ConfigProvider,{theme:_,children:(0,t.jsx)(b.Rate,{className:l.BreakThrough,disabled:!0,value:a,count:c.RarityMapper[g.rarity]})}):null]}),(0,t.jsxs)(b.Flex,{className:l.MetaContainer,children:[(0,t.jsx)("img",{className:l.MetaClass,alt:g.class,src:c.ClassURLMapper[g.class]}),(0,t.jsxs)(b.Flex,{align:"center",children:[(0,t.jsx)("img",{className:l.MetaFirstAttribute,alt:g.attribute,src:c.ElementURLMapper[g.attribute]}),g.secondary_attribute?(0,t.jsx)("img",{className:l.MetaSecondAttribute,alt:g.secondary_attribute,src:c.ElementURLMapper[g.secondary_attribute]}):null]})]})]}):null,n?(0,t.jsx)(b.Tag,{className:l.ReplaceableTag,color:"#dc5950",children:"\u53EF\u66FF"}):null]})})})},20221:function(e,r,a){"use strict";a.r(r),a.d(r,{AurorianTallCard:function(){return c}});var t=a("66791"),i=a("50348"),n=a.n(i),o=a("67348"),p=a("75748"),b=a("75122"),s=a("97495"),u=a("6301"),l=a("39538"),w=a("8748");let c=n().memo(e=>{let{name:r,breakthrough:a,isReplaceable:n,onBreakthroughChange:c,onReplaceableChange:d}=e,[{auroriansMap:m}]=(0,o.useModel)(l.AuroriansModel),h=(0,i.useMemo)(()=>m[r],[m,r]);return(0,t.jsxs)(p.Flex,{vertical:!0,align:"center",gap:8,children:[(0,t.jsx)("div",{className:s.AdaptiveContainer,children:(0,t.jsx)(w.AdaptiveAurorianCard,{disable:!0,name:r,isReplaceable:n})}),"number"==typeof a&&h?.rarity?(0,t.jsx)(p.Rate,{className:s.BreakThrough,value:a,count:b.RarityMapper[h.rarity],onChange:c,tooltips:(0,u.getDefaultTooltips)(h.rarity)}):null,(0,t.jsx)(p.Switch,{checkedChildren:"\u53EF\u66FF\u6362",unCheckedChildren:"\u4E0D\u53EF\u66FF\u6362",onChange:d})]})})},70081:function(e,r,a){"use strict";a.r(r),a.d(r,{CopilotnSelector:function(){return w}});var t=a("66791"),i=a("67348"),n=a("75748"),o=a("67227"),p=a("26424"),b=a("67639"),s=a("72430"),u=a("39538"),l=a("20221");let w=e=>{let{value:r,onChange:a}=e,[{auroriansOptions:w,auroriansMap:c}]=(0,i.useModel)(u.AuroriansModel),d=r?.map(e=>e.aurorian_name);return(0,t.jsxs)(n.Flex,{vertical:!0,gap:8,children:[(0,t.jsx)(n.Select,{mode:"multiple",options:w,placeholder:"\u652F\u6301\u6309\u62FC\u97F3\u641C\u7D22, \u6BD4\u5982 ad \u53EF\u4EE5\u641C\u5230 \u5B89\u987F",showSearch:!0,allowClear:!1,value:r?.map(e=>e.aurorian_name),filterOption:u.filterAuroriansOption,onChange:e=>{let t=(0,o.intersection)(d,e),i=r?.filter(e=>t.includes(e.aurorian_name));a?.(e.slice(0,5).map(e=>{let r=i?.find(r=>r.aurorian_name===e);if(r)return{...r};let a=c[e];return{aurorian_name:e,breakthrough:s.getDefaultBreakthrough(a.rarity),is_replaceable:!1}}))}}),(0,t.jsx)(n.Flex,{className:b.AuroriansTeam,wrap:"wrap",gap:16,children:r?.map((e,i)=>{let{aurorian_name:n,breakthrough:o,is_replaceable:b}=e;return t.jsx(l.AurorianTallCard,{name:n,breakthrough:o,isReplaceable:b,onBreakthroughChange:e=>{a?.(p.produce(r,r=>{r&&(r[i].breakthrough=e)}))},onReplaceableChange:e=>{a?.(p.produce(r,r=>{r&&(r[i].is_replaceable=e)}))}},n)})})]})}},45739:function(e,r,a){"use strict";a.r(r),a.d(r,{UploadForm:function(){return _}});var t=a("66791"),i=a("28958"),n=a("67348"),o=a("61904"),p=a.n(o),b=a("75748"),s=a("60740"),u=a("50348"),l=a("63615"),w=a("32802"),c=a.n(w),d=a("70081"),m=a("4969"),h=a("8991"),y=a("9596"),g=a("39538"),f=a("85561"),A=a("86025");let _=()=>{let[{termsOptions:e,latestTerm:r,termsMap:a}]=(0,n.useModel)(y.TermsModel),[{auroriansMap:o}]=(0,n.useModel)(g.AuroriansModel),[{isLogin:w}]=(0,n.useModel)(A.FeishuModel),{data:_,loading:C,runAsync:x,mutate:v}=(0,s.useRequest)(async e=>await (0,f.getVideoInfo)(e),{manual:!0}),[T,k]=(0,u.useState)(!1),{loading:S,runAsync:R}=(0,s.useRequest)(async e=>{let r=(0,m.toInputRemoteCopilot)(e,{termsMap:a,auroriansMap:o});return await (0,f.postCopilot)(r)},{manual:!0}),M=(0,u.useRef)(),B=(0,u.useMemo)(()=>{let e={};return r?.term&&(e.term=r.term),e},[r?.term]);return(0,t.jsxs)(i.ProForm,{formRef:M,initialValues:B,submitter:{submitButtonProps:{loading:T||S},render:(e,r)=>(0,t.jsx)(i.FooterToolbar,{className:h.FootBar,children:r}),searchConfig:{submitText:T?"\u6821\u9A8C\u91CD\u590D\u4E2D":S?"\u63D0\u4EA4\u4E2D":"\u63D0\u4EA4\u4F5C\u4E1A"}},onFinish:async e=>{console.log("\u5F00\u59CB\u63D0\u4EA4",e);try{let r=await l.CopilotSchema.parseAsync(e),a=await R(r);a?.record?.record_id?(b.notification.success({message:`\u{9192}\u{5C71}\u{5C0F}\u{72D7}\u{5DF2}\u{7ECF}\u{6210}\u{529F}\u{5E2E}\u{60A8}\u{6DFB}\u{52A0}\u{4E86}\u{4E00}\u{4EFD}\u{4F5C}\u{4E1A}\u{FF0C}record_id \u{4E3A} ${a?.record?.record_id}`}),M.current?.resetFields(),v(void 0)):(b.notification.error({message:`\u{6CA1}\u{6709}\u{4E0A}\u{4F20}\u{6210}\u{529F} ${JSON.stringify(a,null,2)}`}),console.log("upload failed",a,r))}catch(e){b.notification.error({message:`\u{89E3}\u{6790}\u{8868}\u{5355}\u{5931}\u{8D25} ${JSON.stringify(e,null,2)}`}),console.error("\u89E3\u6790\u5931\u8D25",e)}},children:[(0,t.jsxs)(i.ProForm.Group,{children:[(0,t.jsx)(i.ProFormSelect,{name:"term",label:"\u8352\u5178\u671F\u6570",options:e,rules:[{required:!0}],width:"sm",showSearch:!1,onChange:e=>{14===e?M.current?.setFieldValue("rerun_terms",[24]):M.current?.setFieldValue("rerun_terms",void 0)}}),(0,t.jsx)(i.ProFormSelect,{name:"rerun_terms",label:"\u53EF\u88AB\u590D\u7528\u8352\u5178\u671F\u6570",options:e,width:"md",showSearch:!1,fieldProps:{mode:"multiple"},tooltip:"\u4F8B\u5982\u7B2C 14 \u671F\u8352\u5178\u4F5C\u4E1A\u53EF\u88AB\u7B2C 24 \u671F\u8352\u5178\u590D\u7528, \u90A3\u4E48\u4E0A\u4E00\u4E2A\u9009\u9879\u8352\u5178\u671F\u6570\u9009\u62E9 14 \u671F\uFF0C\u6B64\u9009\u9879\u53EF\u88AB\u590D\u7528\u8352\u5178\u671F\u6570\u9009\u62E9 24 \u671F"})]}),(0,t.jsxs)(i.ProForm.Group,{children:[(0,t.jsx)(i.ProFormDependency,{name:["term"],children:e=>{let{term:r}=e;return(0,t.jsx)(i.ProFormText,{name:"bv",label:"BV\u53F7\u6216B\u7AD9\u89C6\u9891\u94FE\u63A5",placeholder:"BVxxxxxxxxxx \u6216 https://www.bilibili.com/video/BVxxxxxxxxxx/",validateTrigger:"onBlur",width:"lg",fieldProps:{onChange(e){let r=e.target.value;if("string"==typeof r&&(r.startsWith("https://")||r.startsWith("http://"))){let e=/\/(BV[^/]+)\/?/.exec(new URL(r).pathname)?.[1];"string"==typeof e&&e.startsWith("BV")&&M.current?.setFieldValue("bv",e)}}},rules:[{required:!0},{pattern:/^BV.+$/,message:"BV\u53F7\u683C\u5F0F\u4E0D\u6B63\u786E"},{async validator(e,a){if("string"==typeof a&&a.startsWith("BV")){k(!0);let e=await (0,f.checkVideoExist)({bv:a,term:r});if((e?.noExist||e?.target)&&e?.target){let r=`${e?.target?.fields?.creator?.name} \u{5DF2}\u{7ECF}\u{5728} ${p()(e?.target?.fields?.insert_db_time).format("YYYY-MM-DD HH:mm:ss")} \u{6DFB}\u{52A0}\u{4E86}\u{6B64}\u{4F5C}\u{4E1A}`;throw b.notification.error({message:`${r}. \u{649E}\u{8F66}\u{4E86}~ \u{8BF7}\u{66F4}\u{6362}\u{4F5C}\u{4E1A}\u{6536}\u{5F55}`}),Error(r)}k(!1)}}}]})}}),(0,t.jsx)(i.ProForm.Item,{label:" ",children:(0,t.jsx)(i.ProFormDependency,{name:["bv"],children:e=>{let{bv:r}=e;return(0,t.jsx)(b.Button,{disabled:!w||!("string"==typeof r&&r.startsWith("BV")),type:"primary",loading:C,onClick:async e=>{e.stopPropagation();let a=await x(r);if(a){let{title:e,desc:r,owner:t,pubdate:i}=a;M.current?.setFieldsValue({title:e,description:"-"===r?void 0:r,author:t.name,upload_time:i.valueOf()})}},children:"\u8BFB\u53D6\u89C6\u9891\u4FE1\u606F"})}})})]}),_?(0,t.jsx)(t.Fragment,{children:(0,t.jsx)("iframe",{src:`//player.bilibili.com/player.html?bvid=${_.bvid}`,scrolling:"no",frameBorder:"no",style:{border:0,width:700,height:420}})}):null,(0,t.jsx)(i.ProForm.Item,{label:"\u5149\u7075\u9635\u5BB9",name:"aurorian_summaries",rules:[{async validator(e,r){if(Array.isArray(r)&&5===r.length);else throw Error("\u5149\u7075\u9635\u5BB9\u642D\u914D\u4E0D\u6B63\u786E")}},{required:!0}],children:(0,t.jsx)(d.CopilotnSelector,{})}),(0,t.jsx)(i.ProFormDigit,{label:"\u7ED3\u7B97\u5206\u6570",name:"score",validateTrigger:"onBlur",rules:[{required:!0},{async validator(e,r){if("number"==typeof r&&Number.isInteger(r)&&r>0);else throw Error("\u5206\u6570\u5FC5\u987B\u662F\u6B63\u6574\u6570");if(r>=1e8)throw Error("\u5206\u6570\u5927\u4E8E\u4E00\u4EBF\u5206\u4E86\uFF0C\u4F60\u8981\u4E0D\u518D\u770B\u770B\u6709\u6CA1\u6709\u586B\u5BF9\uFF1F");if(r<=1e5)throw Error("\u5206\u6570\u5C0F\u4E8E\u5341\u4E07\u5206\uFF0C\u4F60\u8981\u4E0D\u8981\u518D\u770B\u770B\u6709\u6CA1\u6709\u586B\u5BF9\uFF1F")}}],min:0,fieldProps:{formatter:e=>c()(e).format("0,0"),parser:e=>c()(e).value()??0,size:"large"}}),(0,t.jsx)(i.ProFormText,{label:"\u89C6\u9891\u6807\u9898",name:"title",rules:[{required:!0}]}),(0,t.jsxs)(i.ProForm.Group,{children:[(0,t.jsx)(i.ProFormDateTimePicker,{label:"\u89C6\u9891\u53D1\u5E03\u65F6\u95F4",name:"upload_time",rules:[{required:!0}]}),(0,t.jsx)(i.ProFormText,{label:"\u4F5C\u4E1A\u4F5C\u8005",name:"author",rules:[{required:!0}]}),(0,t.jsx)(i.ProFormTextArea,{label:"\u89C6\u9891\u63CF\u8FF0",name:"description",width:"xl"})]})]})}},94831:function(e,r,a){"use strict";a.r(r),a.d(r,{default:function(){return b}});var t=a("66791"),i=a("28958"),n=a("75748"),o=a("45739"),p=a("17273"),b=()=>(0,t.jsxs)(i.PageContainer,{title:"\u4F5C\u4E1A\u6536\u5F55\uFF08\u5185\u90E8\u7248\uFF09",content:"\u5185\u90E8\u7684\u6536\u5F55\u540C\u5B66\u53EF\u4EE5\u4F7F\u7528\u6B64\u9875\u9762\u5FEB\u901F\u4E0A\u4F20\u4F5C\u4E1A\uFF0C\u4E4B\u540E\u4F1A\u518D\u63D0\u4F9B Chrome \u63D2\u4EF6\u63D0\u9AD8\u6548\u7387\uFF08\u6BD4\u5FC3\uFF09",children:[(0,t.jsx)(p.LarkLoginCard,{}),(0,t.jsx)(n.Card,{style:{marginTop:"1rem"},children:(0,t.jsx)(o.UploadForm,{})})]})},17273:function(e,r,a){"use strict";a.r(r),a.d(r,{LarkLoginCard:function(){return c}});var t=a("66791"),i=a("51895"),n=a("75748"),o=a("50348"),p=a("60740"),b=a("67348"),s=a("73569"),u=a("5442"),l=a("85561"),w=a("86025");let c=()=>{let e=(0,o.useMemo)(()=>`${window.location.origin}/#${u.RoutePath.Upload}/`,[]),[r,a]=(0,o.useState)(),c=(0,i.useLocation)();(0,o.useEffect)(()=>{let e=c.search.slice(1).split("&").find(e=>e.startsWith("code="))?.replace("code=","");e&&a(e)},[c.search]);let[,{setProfile:d}]=(0,b.useModel)(w.FeishuModel),{data:m,loading:h}=(0,p.useRequest)(async()=>(r&&(await (0,l.saveAuthCallback)({code:r}),a(void 0)),(0,l.getFeishuProfile)()),{refreshDeps:[r],onSuccess(e){d(e)}}),y=(0,o.useMemo)(()=>{let r=new URL("https://open.feishu.cn/open-apis/authen/v1/authorize");return r.searchParams.append("app_id",s.UPLOAD_APP_ID),r.searchParams.append("redirect_uri",e),r.searchParams.append("scope",s.LARK_SCOPE),r.href},[]);return(0,t.jsx)(n.Card,{loading:h,children:m?(0,t.jsx)(n.Card.Meta,{avatar:(0,t.jsx)(n.Avatar,{src:m.avatar_url}),title:m.name,description:"\u6B22\u8FCE\u56DE\u6765~ \u60A8\u5DF2\u6388\u6743\uFF0C\u53EF\u4EE5\u5F00\u59CB\u5DE5\u4F5C\u5566"}):(0,t.jsxs)(n.Space,{children:[(0,t.jsx)(n.Typography.Text,{children:"\u60A8\u597D\uFF0C\u6211\u662F\u4F5C\u4E1A\u63D0\u4EA4\u9192\u5C71\u5C0F\u72D7\uFF0C\u6211\u9700\u8981\u60A8\u98DE\u4E66\u6388\u6743\u624D\u80FD\u5DE5\u4F5C"}),(0,t.jsx)(i.Link,{target:"_self",to:y,children:(0,t.jsx)(n.Button,{type:"primary",children:"\u53BB\u98DE\u4E66\u6388\u6743"})})]})})}},87921:function(e,r,a){"use strict";a.r(r),a.d(r,{RarityMapper:function(){return w},ElementURLMapper:function(){return c},ClassURLMapper:function(){return d}});var t=a("63615"),i=a("29290"),n=a("49214"),o=a("79975"),p=a("76132"),b=a("68979"),s=a("41613"),u=a("92957"),l=a("12710");let w={[t.AurorianRarityType.Star6]:6,[t.AurorianRarityType.Star5]:5,[t.AurorianRarityType.Star4]:4,[t.AurorianRarityType.Star3]:3,[t.AurorianRarityType.Star2]:2,[t.AurorianRarityType.Star1]:1},c={[t.AurorianAttributeType.Water]:i,[t.AurorianAttributeType.Fire]:n,[t.AurorianAttributeType.Forest]:o,[t.AurorianAttributeType.Thunder]:p};t.AurorianAttributeType.Water,t.AurorianAttributeType.Fire,t.AurorianAttributeType.Forest,t.AurorianAttributeType.Thunder;let d={[t.AurorianClassType.Converter]:b,[t.AurorianClassType.Sniper]:s,[t.AurorianClassType.Detonator]:u,[t.AurorianClassType.Supporter]:l}},91520:function(e,r,a){"use strict";a.r(r),a.d(r,{useLazyImage:function(){return i}});var t=a("50348");function i(e){let r=(0,t.useRef)(null);return(0,t.useEffect)(()=>{(async()=>{if(e){let t=await a("32662")(`@/assets/skins/${e}.webp`.replace("@/assets/skins/","./"));"string"==typeof t?.default&&r.current&&(r.current.style.backgroundImage=`url(${t.default})`)}})()},[e]),{containerRef:r}}},6301:function(e,r,a){"use strict";a.r(r),a.d(r,{getDefaultTooltips:function(){return i}});var t=a("63615");let i=(0,a("67227").memoize)(e=>{switch(e){case t.AurorianRarityType.Star6:return["\u96F6","\u96F6","\u4E00","\u4E00","\u4E00","\u6EE1"].map(e=>`${e}\u{7834}`);case t.AurorianRarityType.Star5:return["\u96F6","\u4E00","\u4E00","\u4E00","\u6EE1"].map(e=>`${e}\u{7834}`);case t.AurorianRarityType.Star4:return["\u96F6","\u96F6","\u96F6","\u6EE1"].map(e=>`${e}\u{7834}`);case t.AurorianRarityType.Star3:return["\u96F6","\u96F6","\u6EE1"].map(e=>`${e}\u{7834}`);case t.AurorianRarityType.Star2:return["\u96F6","\u6EE1"].map(e=>`${e}\u{7834}`);case t.AurorianRarityType.Star1:return["\u6EE1"].map(e=>`${e}\u{7834}`);default:return[]}})},72430:function(e,r,a){"use strict";a.r(r),a.d(r,{getDefaultBreakthrough:function(){return i}});var t=a("63615");let i=(0,a("67227").memoize)(e=>{switch(e){case t.AurorianRarityType.Star6:return 2;case t.AurorianRarityType.Star5:return 1;case t.AurorianRarityType.Star4:return 4;case t.AurorianRarityType.Star3:return 3;case t.AurorianRarityType.Star2:return 2;case t.AurorianRarityType.Star1:return 1;default:return 0}})},4969:function(e,r,a){"use strict";function t(e,r){let{termsMap:a,auroriansMap:t}=r;return{bv:e.bv,title:e.title,description:e.description,author:e.author,insert_db_time:e.insert_db_time?.valueOf(),upload_time:e.upload_time.valueOf(),score:Number(e.score),term:[a[e.term]._record_id],rerun_terms:e.rerun_terms?.map(e=>a[e]._record_id),aurorian_1:[t[e.aurorian_summaries[0].aurorian_name]._record_id],aurorian_1_breakthrough:String(e.aurorian_summaries[0].breakthrough),aurorian_2:[t[e.aurorian_summaries[1].aurorian_name]._record_id],aurorian_2_breakthrough:String(e.aurorian_summaries[1].breakthrough),aurorian_3:[t[e.aurorian_summaries[2].aurorian_name]._record_id],aurorian_3_breakthrough:String(e.aurorian_summaries[2].breakthrough),aurorian_4:[t[e.aurorian_summaries[3].aurorian_name]._record_id],aurorian_4_breakthrough:String(e.aurorian_summaries[3].breakthrough),aurorian_5:[t[e.aurorian_summaries[4].aurorian_name]._record_id],aurorian_5_breakthrough:String(e.aurorian_summaries[4].breakthrough),replaceable_position:e.aurorian_summaries.map((e,r)=>e.is_replaceable?`${r+1}`:null).filter(e=>"string"==typeof e)}}a.r(r),a.d(r,{toInputRemoteCopilot:function(){return t}})},86025:function(e,r,a){"use strict";a.r(r),a.d(r,{FeishuModel:function(){return t}});let t=(0,a("67348").model)("feishu").define({state:{profile:void 0},computed:{isLogin:e=>"string"==typeof e.profile?.name},actions:{}})},73569:function(e,r,a){"use strict";a.r(r),a.d(r,{UPLOAD_APP_ID:function(){return t},LARK_SCOPE:function(){return i}});let t="cli_a5fd9725777a100b",i="bitable:app"}}]);