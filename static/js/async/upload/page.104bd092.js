/*! For license information please see page.104bd092.js.LICENSE.txt */
(globalThis.webpackChunk_sinsa_web=globalThis.webpackChunk_sinsa_web||[]).push([["4501"],{32662:function(e,r,a){var t={"./Alice.webp":"32662@./Alice.webp","./Allura.webp":"32662@./Allura.webp","./Amy.webp":"32662@./Amy.webp","./Angel.webp":"32662@./Angel.webp","./Ansia.webp":"32662@./Ansia.webp","./Antony.webp":"32662@./Antony.webp","./Areia.webp":"32662@./Areia.webp","./Barbara.webp":"32662@./Barbara.webp","./Barton.webp":"32662@./Barton.webp","./Benny And Curo.webp":"32662@./Benny And Curo.webp","./Beryl.webp":"32662@./Beryl.webp","./Bethlehem.webp":"32662@./Bethlehem.webp","./Beverly.webp":"32662@./Beverly.webp","./Bonacie.webp":"32662@./Bonacie.webp","./Brock.webp":"32662@./Brock.webp","./Carleen.webp":"32662@./Carleen.webp","./Chainsaw Rick.webp":"32662@./Chainsaw Rick.webp","./Chandra.webp":"32662@./Chandra.webp","./Charon.webp":"32662@./Charon.webp","./Chloe.webp":"32662@./Chloe.webp","./Clover.webp":"32662@./Clover.webp","./Connolly.webp":"32662@./Connolly.webp","./Constantine.webp":"32662@./Constantine.webp","./Corax.webp":"32662@./Corax.webp","./Cordy.webp":"32662@./Cordy.webp","./Cuscuta.webp":"32662@./Cuscuta.webp","./Dantang.webp":"32662@./Dantang.webp","./Dawn.webp":"32662@./Dawn.webp","./Dayna.webp":"32662@./Dayna.webp","./Dove.webp":"32662@./Dove.webp","./Eho.webp":"32662@./Eho.webp","./Eicy.webp":"32662@./Eicy.webp","./Elma.webp":"32662@./Elma.webp","./Eve.webp":"32662@./Eve.webp","./Fafnir.webp":"32662@./Fafnir.webp","./Faust.webp":"32662@./Faust.webp","./Fleur.webp":"32662@./Fleur.webp","./Frostfire.webp":"32662@./Frostfire.webp","./Gabriel.webp":"32662@./Gabriel.webp","./Genevieve.webp":"32662@./Genevieve.webp","./Gram.webp":"32662@./Gram.webp","./Gronru.webp":"32662@./Gronru.webp","./Hachi & Gin.webp":"32662@./Hachi & Gin.webp","./Hiiro.webp":"32662@./Hiiro.webp","./Hydrad.webp":"32662@./Hydrad.webp","./Irridon.webp":"32662@./Irridon.webp","./Istvan.webp":"32662@./Istvan.webp","./Jakine.webp":"32662@./Jakine.webp","./Jane.webp":"32662@./Jane.webp","./Joanie Boom.webp":"32662@./Joanie Boom.webp","./Jola.webp":"32662@./Jola.webp","./Jomu.webp":"32662@./Jomu.webp","./Jona.webp":"32662@./Jona.webp","./Judge Jr..webp":"32662@./Judge Jr..webp","./Kafka.webp":"32662@./Kafka.webp","./Kanna.webp":"32662@./Kanna.webp","./Keating.webp":"32662@./Keating.webp","./Kleken.webp":"32662@./Kleken.webp","./Korgon.webp":"32662@./Korgon.webp","./Kuma & Pengy.webp":"32662@./Kuma & Pengy.webp","./Leah.webp":"32662@./Leah.webp","./Leona.webp":"32662@./Leona.webp","./Lester.webp":"32662@./Lester.webp","./Li Tianxian.webp":"32662@./Li Tianxian.webp","./Lilliam.webp":"32662@./Lilliam.webp","./Liqing.webp":"32662@./Liqing.webp","./Lola.webp":"32662@./Lola.webp","./Louise.webp":"32662@./Louise.webp","./Lucoa.webp":"32662@./Lucoa.webp","./Maggie.webp":"32662@./Maggie.webp","./Matthieu.webp":"32662@./Matthieu.webp","./Mia.webp":"32662@./Mia.webp","./Michael.webp":"32662@./Michael.webp","./Michenny.webp":"32662@./Michenny.webp","./Migard.webp":"32662@./Migard.webp","./Momo & Anzu.webp":"32662@./Momo & Anzu.webp","./Ms. Blanc.webp":"32662@./Ms. Blanc.webp","./Mythos.webp":"32662@./Mythos.webp","./Nadine.webp":"32662@./Nadine.webp","./Nails.webp":"32662@./Nails.webp","./Naroxel.webp":"32662@./Naroxel.webp","./Nemesis.webp":"32662@./Nemesis.webp","./Nikinis.webp":"32662@./Nikinis.webp","./No. 33.webp":"32662@./No. 33.webp","./Noah.webp":"32662@./Noah.webp","./Novio.webp":"32662@./Novio.webp","./Odi.webp":"32662@./Odi.webp","./Ophina.webp":"32662@./Ophina.webp","./Pact.webp":"32662@./Pact.webp","./Paloma.webp":"32662@./Paloma.webp","./Pasolo.webp":"32662@./Pasolo.webp","./Patty & Patsy.webp":"32662@./Patty & Patsy.webp","./Pepi.webp":"32662@./Pepi.webp","./Philyshy.webp":"32662@./Philyshy.webp","./Pittman.webp":"32662@./Pittman.webp","./Rabbie.webp":"32662@./Rabbie.webp","./Raphael.webp":"32662@./Raphael.webp","./Regal.webp":"32662@./Regal.webp","./Regina.webp":"32662@./Regina.webp","./Requiem.webp":"32662@./Requiem.webp","./Revy.webp":"32662@./Revy.webp","./Robyn.webp":"32662@./Robyn.webp","./Rouge.webp":"32662@./Rouge.webp","./Roy.webp":"32662@./Roy.webp","./Sanae.webp":"32662@./Sanae.webp","./Sariel.webp":"32662@./Sariel.webp","./Schwartz.webp":"32662@./Schwartz.webp","./Seleucid.webp":"32662@./Seleucid.webp","./Sharona.webp":"32662@./Sharona.webp","./Sikare.webp":"32662@./Sikare.webp","./Sinsa.webp":"32662@./Sinsa.webp","./Smokey.webp":"32662@./Smokey.webp","./Sork & Bekk.webp":"32662@./Sork & Bekk.webp","./Sylva.webp":"32662@./Sylva.webp","./Taki.webp":"32662@./Taki.webp","./Tessa.webp":"32662@./Tessa.webp","./Tiny One.webp":"32662@./Tiny One.webp","./Tohru.webp":"32662@./Tohru.webp","./Tourdog.webp":"32662@./Tourdog.webp","./Tweety.webp":"32662@./Tweety.webp","./Unimet.webp":"32662@./Unimet.webp","./Uriah.webp":"32662@./Uriah.webp","./Uriel.webp":"32662@./Uriel.webp","./VIOLET.webp":"32662@./VIOLET.webp","./Vice Keen Sight.webp":"32662@./Vice Keen Sight.webp","./Vice.webp":"32662@./Vice.webp","./Victoria.webp":"32662@./Victoria.webp","./Vivian.webp":"32662@./Vivian.webp","./Wendy.webp":"32662@./Wendy.webp","./White Dwarf.webp":"32662@./White Dwarf.webp","./Wrath.webp":"32662@./Wrath.webp","./Xuan Ji.webp":"32662@./Xuan Ji.webp","./Zarya.webp":"32662@./Zarya.webp","./Zhong Xu.webp":"32662@./Zhong Xu.webp","./Zoya.webp":"32662@./Zoya.webp"},i={"./Alice.webp":"55806","./Allura.webp":"38455","./Amy.webp":"98955","./Angel.webp":"13024","./Ansia.webp":"43084","./Antony.webp":"13198","./Areia.webp":"64779","./Barbara.webp":"83887","./Barton.webp":"8394","./Benny And Curo.webp":"7680","./Beryl.webp":"60448","./Bethlehem.webp":"33237","./Beverly.webp":"17361","./Bonacie.webp":"14386","./Brock.webp":"75579","./Carleen.webp":"32923","./Chainsaw Rick.webp":"39641","./Chandra.webp":"75993","./Charon.webp":"21719","./Chloe.webp":"90326","./Clover.webp":"62608","./Connolly.webp":"29441","./Constantine.webp":"17257","./Corax.webp":"15510","./Cordy.webp":"97108","./Cuscuta.webp":"47139","./Dantang.webp":"75198","./Dawn.webp":"22545","./Dayna.webp":"92258","./Dove.webp":"40312","./Eho.webp":"4852","./Eicy.webp":"58361","./Elma.webp":"58769","./Eve.webp":"85792","./Fafnir.webp":"7704","./Faust.webp":"95176","./Fleur.webp":"31790","./Frostfire.webp":"19245","./Gabriel.webp":"27058","./Genevieve.webp":"23237","./Gram.webp":"4010","./Gronru.webp":"36198","./Hachi & Gin.webp":"40409","./Hiiro.webp":"79475","./Hydrad.webp":"73040","./Irridon.webp":"27850","./Istvan.webp":"59187","./Jakine.webp":"88730","./Jane.webp":"47025","./Joanie Boom.webp":"74617","./Jola.webp":"19713","./Jomu.webp":"67960","./Jona.webp":"98469","./Judge Jr..webp":"9731","./Kafka.webp":"79620","./Kanna.webp":"84935","./Keating.webp":"1314","./Kleken.webp":"7810","./Korgon.webp":"3927","./Kuma & Pengy.webp":"98213","./Leah.webp":"51432","./Leona.webp":"74177","./Lester.webp":"62063","./Li Tianxian.webp":"8514","./Lilliam.webp":"55212","./Liqing.webp":"57027","./Lola.webp":"79586","./Louise.webp":"87411","./Lucoa.webp":"14626","./Maggie.webp":"41680","./Matthieu.webp":"39245","./Mia.webp":"61492","./Michael.webp":"38038","./Michenny.webp":"78041","./Migard.webp":"42973","./Momo & Anzu.webp":"14157","./Ms. Blanc.webp":"94343","./Mythos.webp":"94419","./Nadine.webp":"31759","./Nails.webp":"41754","./Naroxel.webp":"74303","./Nemesis.webp":"53324","./Nikinis.webp":"98102","./No. 33.webp":"73593","./Noah.webp":"38782","./Novio.webp":"49170","./Odi.webp":"52585","./Ophina.webp":"78183","./Pact.webp":"59387","./Paloma.webp":"53104","./Pasolo.webp":"35244","./Patty & Patsy.webp":"33220","./Pepi.webp":"62961","./Philyshy.webp":"24189","./Pittman.webp":"19022","./Rabbie.webp":"78223","./Raphael.webp":"33554","./Regal.webp":"27078","./Regina.webp":"55945","./Requiem.webp":"79766","./Revy.webp":"48614","./Robyn.webp":"57283","./Rouge.webp":"38846","./Roy.webp":"47321","./Sanae.webp":"93378","./Sariel.webp":"88620","./Schwartz.webp":"77823","./Seleucid.webp":"85619","./Sharona.webp":"26509","./Sikare.webp":"1998","./Sinsa.webp":"10017","./Smokey.webp":"52232","./Sork & Bekk.webp":"99998","./Sylva.webp":"44228","./Taki.webp":"59738","./Tessa.webp":"12387","./Tiny One.webp":"75015","./Tohru.webp":"35715","./Tourdog.webp":"53837","./Tweety.webp":"25144","./Unimet.webp":"62747","./Uriah.webp":"58914","./Uriel.webp":"72072","./VIOLET.webp":"62503","./Vice Keen Sight.webp":"84130","./Vice.webp":"96210","./Victoria.webp":"94511","./Vivian.webp":"2423","./Wendy.webp":"66847","./White Dwarf.webp":"28002","./Wrath.webp":"63584","./Xuan Ji.webp":"10482","./Zarya.webp":"43093","./Zhong Xu.webp":"69149","./Zoya.webp":"44954"};function n(e){if(!a.o(i,e))return Promise.resolve().then(function(){var r=Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r});var r=t[e],n=i[e];return a.el(r).then(function(){return a.t(n,17)})}n.keys=function(){return Object.keys(i)},n.id="32662",e.exports=n},26853:function(e,r,a){"use strict";e.exports={AdaptiveAurorianCard:"AdaptiveAurorianCard-d7ef3b",adaptiveAurorianCard:"AdaptiveAurorianCard-d7ef3b",BackgroundImage:"BackgroundImage-_43461",backgroundImage:"BackgroundImage-_43461",BreakThrough:"BreakThrough-bbea6b",breakThrough:"BreakThrough-bbea6b",Disabled:"Disabled-_21a59",disabled:"Disabled-_21a59",MetaClass:"MetaClass-d72291",metaClass:"MetaClass-d72291",MetaContainer:"MetaContainer-a2721f",metaContainer:"MetaContainer-a2721f",MetaFirstAttribute:"MetaFirstAttribute-cfe989",metaFirstAttribute:"MetaFirstAttribute-cfe989",MetaSecondAttribute:"MetaSecondAttribute-_1cb80",metaSecondAttribute:"MetaSecondAttribute-_1cb80",NameContainer:"NameContainer-ca1a21",nameContainer:"NameContainer-ca1a21",ReplaceableTag:"ReplaceableTag-_725fb",replaceableTag:"ReplaceableTag-_725fb"}},69942:function(e,r,a){"use strict";e.exports={Author:"Author-f55823",author:"Author-f55823",Card:"Card-c088dd",card:"Card-c088dd",CoverImage:"CoverImage-_565fe",coverImage:"CoverImage-_565fe",Dot:"Dot-_916b0",dot:"Dot-_916b0",Title:"Title-_7b631",title:"Title-_7b631",UploadedTag:"UploadedTag-_653e0",uploadedTag:"UploadedTag-_653e0"}},49430:function(e,r,a){"use strict";e.exports={RelativeTimeText:"RelativeTimeText-ab3533",relativeTimeText:"RelativeTimeText-ab3533"}},97495:function(e,r,a){"use strict";e.exports={AdaptiveContainer:"AdaptiveContainer-f84115",adaptiveContainer:"AdaptiveContainer-f84115",BreakThrough:"BreakThrough-_8e406",breakThrough:"BreakThrough-_8e406"}},67639:function(e,r,a){"use strict";e.exports={AuroriansTeam:"AuroriansTeam-fa97d1",auroriansTeam:"AuroriansTeam-fa97d1"}},8991:function(e,r,a){"use strict";e.exports={FootBar:"FootBar-_705b4",footBar:"FootBar-_705b4"}},8748:function(e,r,a){"use strict";a.r(r),a.d(r,{AdaptiveAurorianCard:function(){return m}});var t=a("66791"),i=a("50348"),n=a.n(i),o=a("67348"),s=a("35079"),p=a("75748"),u=a("28958"),l=a("63266"),b=a("26853"),w=a("91520"),c=a("87921"),d=a("39538");let m=n().memo(e=>{let{name:r,breakthrough:a,isReplaceable:n,onIgnore:m,disable:h}=e,[{auroriansMap:g}]=(0,o.useModel)(d.AuroriansModel),f=(0,i.useMemo)(()=>g[r],[g,r]),{containerRef:y}=(0,w.useLazyImage)(f?.aurorian_name),x=(0,u.useBreakpoint)(),v=(0,i.useMemo)(()=>{let e=10;switch(x){case"xs":e=10;break;case"sm":e=12;break;default:e=13}return{components:{Rate:{starBg:"white",starSize:e}}}},[x]),_=[{label:`\u{6392}\u{9664}${f?.aurorian_cn_name}`,key:"ignore"},{label:`\u{4EC5}\u{6392}\u{9664}\u{6B64}\u{7A81}\u{7834}\u{6570}\u{7684}${f?.aurorian_cn_name}`,key:"ignore-breakthrough"}];return(0,t.jsx)(p.Dropdown,{disabled:h,trigger:["click"],getPopupContainer:()=>document.body,menu:{items:_,onClick:e=>{let{key:r}=e;if(console.log("key",r),f?.aurorian_name)switch(r){case"ignore-breakthrough":m?.({aurorianName:f.aurorian_name,breakthrough:a});break;case"ignore":m?.({aurorianName:f.aurorian_name})}}},children:(0,t.jsxs)(l.m.div,{ref:y,className:(0,s.default)(b.AdaptiveAurorianCard,b.BackgroundImage,h&&b.Disabled),whileHover:h?void 0:{opacity:.6},whileTap:h?void 0:{opacity:.2},children:[f?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(p.Flex,{vertical:!0,className:b.NameContainer,children:[(0,t.jsx)("span",{children:f?.aurorian_cn_name}),"number"==typeof a&&f?.rarity?(0,t.jsx)(p.ConfigProvider,{theme:v,children:(0,t.jsx)(p.Rate,{className:b.BreakThrough,disabled:!0,value:a,count:c.RarityMapper[f.rarity]})}):null]}),(0,t.jsxs)(p.Flex,{className:b.MetaContainer,children:[(0,t.jsx)("img",{className:b.MetaClass,alt:f.class,src:c.ClassURLMapper[f.class]}),(0,t.jsxs)(p.Flex,{align:"center",children:[(0,t.jsx)("img",{className:b.MetaFirstAttribute,alt:f.attribute,src:c.ElementURLMapper[f.attribute]}),f.secondary_attribute?(0,t.jsx)("img",{className:b.MetaSecondAttribute,alt:f.secondary_attribute,src:c.ElementURLMapper[f.secondary_attribute]}):null]})]})]}):null,n?(0,t.jsx)(p.Tag,{className:b.ReplaceableTag,color:"#dc5950",children:"\u53EF\u66FF"}):null]})})})},11248:function(e,r,a){"use strict";a.r(r),a.d(r,{useLatestVideoCardRef:function(){return m},LatestVideoCard:function(){return h}});var t=a("66791"),i=a("75748"),n=a("50348"),o=a.n(n),s=a("67348"),p=a("61904"),u=a.n(p),l=a("16746"),b=a("70233"),w=a("26254"),c=a("69942"),d=a("86025");function m(){return(0,n.useRef)(null)}let h=o().forwardRef((e,r)=>{let{onClickNewCard:a}=e,{loadingLatestCopilots:o,loadingLatestVideos:p,getLatestCopilotsAsync:m,getLatestVideosAsync:h,latestCopilots:g,latestVideos:f,refresh:y}=(0,w.useLatestVideo)(),[{isLogin:x}]=(0,s.useModel)(d.FeishuModel);return((0,n.useEffect)(()=>{x&&(m(),h())},[x]),(0,n.useImperativeHandle)(r,()=>({refresh:y}),[y]),x)?(0,t.jsx)(i.Card,{title:"B\u7AD9\u89C6\u9891\u6700\u65B0\u6536\u5F55\u60C5\u51B5\uFF1A\u6700\u8FD1 20 \u6761\u6309\u65B0\u53D1\u5E03\u6392\u5E8F\u641C\u7D22\u7ED3\u679C",loading:o||p,bodyStyle:{overflow:"auto",height:400},extra:(0,t.jsx)(i.Button,{type:"primary",loading:o||p,onClick:e=>{e.stopPropagation(),y()},children:"\u5237\u65B0"}),children:g&&f?(0,t.jsx)(i.Flex,{wrap:"wrap",gap:"small",children:f.result.map(e=>{let r=(0,b.trimTitle)(e.title),n=g.find(r=>r.bv===e.bvid);return(0,t.jsxs)(i.Card,{hoverable:!n,className:c.Card,size:"small",cover:(0,t.jsx)("img",{className:c.CoverImage,crossOrigin:"anonymous",alt:e.title,src:`${e.pic}@672w_378h_1c_!web-search-common-cover.webp`}),onClick:r=>{r.stopPropagation(),!n&&a?.(e.bvid)},children:[(0,t.jsxs)(i.Flex,{className:c.Author,align:"center",children:[(0,t.jsx)(i.Typography.Text,{strong:!0,children:e.author}),(0,t.jsx)(i.Typography.Text,{className:c.Dot,type:"secondary",children:"\xb7"}),(0,t.jsx)(l.RelativeTimeText,{time:new Date(e.pubdate)})]}),(0,t.jsx)("div",{className:c.Title,children:(0,t.jsx)(i.Typography.Link,{href:`https://www.bilibili.com/video/${e.bvid}`,target:"_blank",title:e.title,ellipsis:!0,onClick:e=>e.stopPropagation(),children:(0,t.jsx)("span",{dangerouslySetInnerHTML:{__html:r}})})}),n?(0,t.jsx)(i.Tooltip,{title:`${n?.creator.name} \u{4E8E} ${u()(n?.insert_db_time).format("YYYY-MM-DD HH:mm:ss")} \u{6536}\u{5F55}\u{4E86}\u{6B64}\u{4F5C}\u{4E1A}`,children:(0,t.jsx)(i.Tag,{className:c.UploadedTag,color:"green",children:"\u5DF2\u6536\u5F55"})}):(0,t.jsx)(i.Tag,{className:c.UploadedTag,color:"#dc5950",children:"\u672A\u6536\u5F55"})]},e.bvid)})}):null}):null})},16746:function(e,r,a){"use strict";a.r(r),a.d(r,{RelativeTimeText:function(){return l}});var t=a("66791"),i=a("75748"),n=a("61904"),o=a.n(n),s=a("50348"),p=a.n(s),u=a("49430");let l=p().memo(e=>{let{time:r}=e;return(0,t.jsx)(i.Tooltip,{title:o()(r).format("YYYY-MM-DD HH:mm:ss"),children:(0,t.jsx)("span",{className:u.RelativeTimeText,children:o()(r).fromNow()})})},(e,r)=>e.time.valueOf()===r.time.valueOf())},20221:function(e,r,a){"use strict";a.r(r),a.d(r,{AurorianTallCard:function(){return c}});var t=a("66791"),i=a("50348"),n=a.n(i),o=a("67348"),s=a("75748"),p=a("75122"),u=a("97495"),l=a("6301"),b=a("39538"),w=a("8748");let c=n().memo(e=>{let{name:r,breakthrough:a,isReplaceable:n,onBreakthroughChange:c,onReplaceableChange:d}=e,[{auroriansMap:m}]=(0,o.useModel)(b.AuroriansModel),h=(0,i.useMemo)(()=>m[r],[m,r]);return(0,t.jsxs)(s.Flex,{vertical:!0,align:"center",gap:8,children:[(0,t.jsx)("div",{className:u.AdaptiveContainer,children:(0,t.jsx)(w.AdaptiveAurorianCard,{disable:!0,name:r,isReplaceable:n})}),"number"==typeof a&&h?.rarity?(0,t.jsx)(s.Rate,{className:u.BreakThrough,value:a,count:p.RarityMapper[h.rarity],onChange:c,tooltips:(0,l.getDefaultTooltips)(h.rarity)}):null,(0,t.jsx)(s.Switch,{checkedChildren:"\u53EF\u66FF\u6362",unCheckedChildren:"\u4E0D\u53EF\u66FF\u6362",onChange:d})]})})},70081:function(e,r,a){"use strict";a.r(r),a.d(r,{CopilotnSelector:function(){return w}});var t=a("66791"),i=a("67348"),n=a("75748"),o=a("67227"),s=a("26424"),p=a("67639"),u=a("72430"),l=a("39538"),b=a("20221");let w=e=>{let{value:r,onChange:a}=e,[{auroriansOptions:w,auroriansMap:c}]=(0,i.useModel)(l.AuroriansModel),d=r?.map(e=>e.aurorian_name);return(0,t.jsxs)(n.Flex,{vertical:!0,gap:8,children:[(0,t.jsx)(n.Select,{mode:"multiple",options:w,placeholder:"\u652F\u6301\u6309\u62FC\u97F3\u641C\u7D22, \u6BD4\u5982 ad \u53EF\u4EE5\u641C\u5230 \u5B89\u987F",showSearch:!0,allowClear:!1,value:r?.map(e=>e.aurorian_name),filterOption:l.filterAuroriansOption,onChange:e=>{let t=(0,o.intersection)(d,e),i=r?.filter(e=>t.includes(e.aurorian_name));a?.(e.slice(0,5).map(e=>{let r=i?.find(r=>r.aurorian_name===e);if(r)return{...r};let a=c[e];return{aurorian_name:e,breakthrough:u.getDefaultBreakthrough(a.rarity),is_replaceable:!1}}))}}),(0,t.jsx)(n.Flex,{className:p.AuroriansTeam,wrap:"wrap",gap:16,children:r?.map((e,i)=>{let{aurorian_name:n,breakthrough:o,is_replaceable:p}=e;return t.jsx(b.AurorianTallCard,{name:n,breakthrough:o,isReplaceable:p,onBreakthroughChange:e=>{a?.(s.produce(r,r=>{r&&(r[i].breakthrough=e)}))},onReplaceableChange:e=>{a?.(s.produce(r,r=>{r&&(r[i].is_replaceable=e)}))}},n)})})]})}},33018:function(e,r,a){"use strict";a.r(r),a.d(r,{VideoIframe:function(){return n}});var t=a("66791"),i=a("50348");let n=a.n(i)().memo(e=>{let{bvid:r}=e,a=(0,i.useMemo)(()=>{if("string"==typeof r){let e=new URL("https://player.bilibili.com/player.html");return e.searchParams.append("bvid",r),e.href}},[r]);return a?(0,t.jsx)("iframe",{src:a,scrolling:"no",frameBorder:"no",style:{border:0,width:700,height:420}}):null})},45739:function(e,r,a){"use strict";a.r(r),a.d(r,{UploadForm:function(){return C}});var t=a("66791"),i=a("28958"),n=a("67348"),o=a("61904"),s=a.n(o),p=a("75748"),u=a("50348"),l=a("63615"),b=a("32802"),w=a.n(b),c=a("11248"),d=a("70081"),m=a("8991"),h=a("92365"),g=a("33018"),f=a("14511"),y=a("75066"),x=a("51031"),v=a("80674"),_=a("9596"),T=a("86025");let C=()=>{let[{termsOptions:e,latestTerm:r}]=(0,n.useModel)(_.TermsModel),[{isLogin:a}]=(0,n.useModel)(T.FeishuModel),{videoInfo:o,loadingVideoInfo:b,getVideoInfo:C,setVideoInfo:A}=(0,h.useVideoInfo)(),{loadingCheckVideoExist:R,check:k}=(0,x.useCheckVideoExist)(),{loadingPostCopilot:S,postCopilotAsync:M}=(0,v.usePostCopilot)(),j=(0,u.useRef)(),B=(0,u.useMemo)(()=>{let e={};return r?.term&&(e.term=r.term),e},[r?.term]),P=(0,c.useLatestVideoCardRef)();return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(c.LatestVideoCard,{ref:P,onClickNewCard:e=>{j.current?.setFieldValue("bv",e)}}),(0,t.jsx)(p.Card,{children:(0,t.jsxs)(i.ProForm,{formRef:j,initialValues:B,submitter:{submitButtonProps:{loading:R||S},render:(e,r)=>(0,t.jsx)(i.FooterToolbar,{className:m.FootBar,children:r}),searchConfig:{submitText:R?"\u6821\u9A8C\u91CD\u590D\u4E2D":S?"\u63D0\u4EA4\u4E2D":"\u63D0\u4EA4\u4F5C\u4E1A"}},onFinish:async e=>{console.log("\u5F00\u59CB\u63D0\u4EA4",e);try{let r=await l.CopilotSchema.parseAsync(e),a=await M(r);a?.record?.record_id?(p.notification.success({message:`\u{9192}\u{5C71}\u{5C0F}\u{72D7}\u{5DF2}\u{7ECF}\u{6210}\u{529F}\u{5E2E}\u{60A8}\u{6DFB}\u{52A0}\u{4E86}\u{4E00}\u{4EFD}\u{4F5C}\u{4E1A}\u{FF0C}record_id \u{4E3A} ${a?.record?.record_id}`}),j.current?.resetFields(),A(void 0),P.current?.refresh()):(p.notification.error({message:`\u{6CA1}\u{6709}\u{4E0A}\u{4F20}\u{6210}\u{529F} ${JSON.stringify(a,null,2)}`}),console.log("upload failed",a,r))}catch(e){p.notification.error({message:`\u{89E3}\u{6790}\u{8868}\u{5355}\u{5931}\u{8D25} ${JSON.stringify(e,null,2)}`}),console.error("\u89E3\u6790\u5931\u8D25",e)}},children:[(0,t.jsxs)(i.ProForm.Group,{children:[(0,t.jsx)(i.ProFormSelect,{name:"term",label:"\u8352\u5178\u671F\u6570",options:e,rules:[{required:!0}],width:"sm",showSearch:!1,onChange:e=>{"number"==typeof e&&(0,y.autoSetTerm)(j.current,e)}}),(0,t.jsx)(i.ProFormSelect,{name:"rerun_terms",label:"\u53EF\u88AB\u590D\u7528\u8352\u5178\u671F\u6570",options:e,width:"md",showSearch:!1,fieldProps:{mode:"multiple"},tooltip:"\u4F8B\u5982\u7B2C 14 \u671F\u8352\u5178\u4F5C\u4E1A\u53EF\u88AB\u7B2C 24 \u671F\u8352\u5178\u590D\u7528, \u90A3\u4E48\u4E0A\u4E00\u4E2A\u9009\u9879\u8352\u5178\u671F\u6570\u9009\u62E9 14 \u671F\uFF0C\u6B64\u9009\u9879\u53EF\u88AB\u590D\u7528\u8352\u5178\u671F\u6570\u9009\u62E9 24 \u671F"})]}),(0,t.jsxs)(i.ProForm.Group,{children:[(0,t.jsx)(i.ProFormDependency,{name:["term"],children:e=>{let{term:r}=e;return(0,t.jsx)(i.ProFormText,{name:"bv",label:"BV\u53F7\u6216B\u7AD9\u89C6\u9891\u94FE\u63A5",placeholder:"BVxxxxxxxxxx \u6216 https://www.bilibili.com/video/BVxxxxxxxxxx/",validateTrigger:"onBlur",width:"lg",fieldProps:{onChange(e){let r=e.target.value;(0,y.trimBV)(j.current,r)}},rules:[{required:!0},{pattern:/^BV.+$/,message:"BV\u53F7\u683C\u5F0F\u4E0D\u6B63\u786E"},{async validator(e,a){if("string"==typeof a&&a.startsWith("BV")){let e=await k({bv:a,term:r});if((e?.noExist||e?.target)&&e?.target){let r=`${e?.target?.fields?.creator?.name} \u{5DF2}\u{7ECF}\u{5728} ${s()(e?.target?.fields?.insert_db_time).format("YYYY-MM-DD HH:mm:ss")} \u{6DFB}\u{52A0}\u{4E86}\u{6B64}\u{4F5C}\u{4E1A}`;throw p.notification.error({message:`${r}. \u{649E}\u{8F66}\u{4E86}~ \u{8BF7}\u{66F4}\u{6362}\u{4F5C}\u{4E1A}\u{6536}\u{5F55}`}),Error(r)}}}}],extra:"\u5C0F\u63D0\u793A\uFF1A\u70B9\u51FB\u4E0A\u65B9\u672A\u6536\u5F55\u7684\u89C6\u9891\u5361\u7247\uFF0C\u80FD\u5FEB\u901F\u586B\u5165 BV \u53F7"})}}),(0,t.jsx)(i.ProForm.Item,{label:" ",children:(0,t.jsx)(i.ProFormDependency,{name:["bv"],children:e=>{let{bv:r}=e;return(0,t.jsx)(p.Button,{disabled:!a||!("string"==typeof r&&r.startsWith("BV")),type:"primary",loading:b,onClick:async e=>{e.stopPropagation();let a=await C(r);if(a){let{title:e,desc:r,owner:t,pubdate:i}=a;j.current?.setFieldsValue({title:e,description:"-"===r?void 0:r,author:t.name,upload_time:i.valueOf()})}},children:"\u8BFB\u53D6\u89C6\u9891\u4FE1\u606F"})}})})]}),(0,t.jsx)(g.VideoIframe,{bvid:o?.bvid}),(0,t.jsx)(i.ProForm.Item,{label:"\u5149\u7075\u9635\u5BB9",name:"aurorian_summaries",rules:f.AURORIAN_SUMMARIES_RULES,children:(0,t.jsx)(d.CopilotnSelector,{})}),(0,t.jsx)(i.ProFormDigit,{label:"\u7ED3\u7B97\u5206\u6570",name:"score",validateTrigger:"onBlur",rules:f.SCORE_RULES,min:0,fieldProps:{formatter:e=>w()(e).format("0,0"),parser:e=>w()(e).value()??0,size:"large"}}),(0,t.jsx)(i.ProFormText,{label:"\u89C6\u9891\u6807\u9898",name:"title",rules:[{required:!0}]}),(0,t.jsxs)(i.ProForm.Group,{children:[(0,t.jsx)(i.ProFormDateTimePicker,{label:"\u89C6\u9891\u53D1\u5E03\u65F6\u95F4",name:"upload_time",rules:[{required:!0}]}),(0,t.jsx)(i.ProFormText,{label:"\u4F5C\u4E1A\u4F5C\u8005",name:"author",rules:[{required:!0}]}),(0,t.jsx)(i.ProFormTextArea,{label:"\u89C6\u9891\u63CF\u8FF0",name:"description",width:"xl"})]})]})})]})}},94831:function(e,r,a){"use strict";a.r(r),a.d(r,{default:function(){return p}});var t=a("66791"),i=a("28958"),n=a("75748"),o=a("45739"),s=a("17273"),p=()=>(0,t.jsx)(i.PageContainer,{title:"\u4F5C\u4E1A\u6536\u5F55\uFF08\u5185\u90E8\u7248\uFF09",content:"\u5185\u90E8\u7684\u6536\u5F55\u540C\u5B66\u53EF\u4EE5\u4F7F\u7528\u6B64\u9875\u9762\u5FEB\u901F\u4E0A\u4F20\u4F5C\u4E1A\uFF0C\u4E4B\u540E\u4F1A\u518D\u63D0\u4F9B Chrome \u63D2\u4EF6\u63D0\u9AD8\u6548\u7387\uFF08\u6BD4\u5FC3\uFF09",children:(0,t.jsxs)(n.Flex,{vertical:!0,gap:"middle",children:[(0,t.jsx)(s.LarkLoginCard,{}),(0,t.jsx)(o.UploadForm,{})]})})},17273:function(e,r,a){"use strict";a.r(r),a.d(r,{LarkLoginCard:function(){return c}});var t=a("66791"),i=a("51895"),n=a("75748"),o=a("50348"),s=a("60740"),p=a("67348"),u=a("73569"),l=a("5442"),b=a("85561"),w=a("86025");let c=()=>{let e=(0,o.useMemo)(()=>`${window.location.origin}/#${l.RoutePath.Upload}/`,[]),[r,a]=(0,o.useState)(),c=(0,i.useLocation)();(0,o.useEffect)(()=>{let e=c.search.slice(1).split("&").find(e=>e.startsWith("code="))?.replace("code=","");e&&a(e)},[c.search]);let[,{setProfile:d}]=(0,p.useModel)(w.FeishuModel),{data:m,loading:h}=(0,s.useRequest)(async()=>{if(r){await (0,b.saveAuthCallback)({code:r}),a(void 0);return}return(0,b.getFeishuProfile)()},{refreshDeps:[r],onSuccess(e){d(e)}}),g=(0,o.useMemo)(()=>{let r=new URL("https://open.feishu.cn/open-apis/authen/v1/authorize");return r.searchParams.append("app_id",u.UPLOAD_APP_ID),r.searchParams.append("redirect_uri",e),r.searchParams.append("scope",u.LARK_SCOPE),r.href},[]);return(0,t.jsx)(n.Card,{loading:h,children:m?(0,t.jsx)(n.Card.Meta,{avatar:(0,t.jsx)(n.Avatar,{src:m.avatar_url}),title:m.name,description:"\u6B22\u8FCE\u56DE\u6765~ \u60A8\u5DF2\u6388\u6743\uFF0C\u53EF\u4EE5\u5F00\u59CB\u5DE5\u4F5C\u5566"}):(0,t.jsxs)(n.Space,{children:[(0,t.jsx)(n.Typography.Text,{children:"\u60A8\u597D\uFF0C\u6211\u662F\u4F5C\u4E1A\u63D0\u4EA4\u9192\u5C71\u5C0F\u72D7\uFF0C\u6211\u9700\u8981\u60A8\u98DE\u4E66\u6388\u6743\u624D\u80FD\u5DE5\u4F5C"}),(0,t.jsx)(i.Link,{target:"_self",to:g,children:(0,t.jsx)(n.Button,{type:"primary",children:"\u53BB\u98DE\u4E66\u6388\u6743"})})]})})}},87921:function(e,r,a){"use strict";a.r(r),a.d(r,{RarityMapper:function(){return w},ElementURLMapper:function(){return c},ClassURLMapper:function(){return d}});var t=a("63615"),i=a("29290"),n=a("49214"),o=a("79975"),s=a("76132"),p=a("68979"),u=a("41613"),l=a("92957"),b=a("12710");let w={[t.AurorianRarityType.Star6]:6,[t.AurorianRarityType.Star5]:5,[t.AurorianRarityType.Star4]:4,[t.AurorianRarityType.Star3]:3,[t.AurorianRarityType.Star2]:2,[t.AurorianRarityType.Star1]:1},c={[t.AurorianAttributeType.Water]:i,[t.AurorianAttributeType.Fire]:n,[t.AurorianAttributeType.Forest]:o,[t.AurorianAttributeType.Thunder]:s};t.AurorianAttributeType.Water,t.AurorianAttributeType.Fire,t.AurorianAttributeType.Forest,t.AurorianAttributeType.Thunder;let d={[t.AurorianClassType.Converter]:p,[t.AurorianClassType.Sniper]:u,[t.AurorianClassType.Detonator]:l,[t.AurorianClassType.Supporter]:b}},91520:function(e,r,a){"use strict";a.r(r),a.d(r,{useLazyImage:function(){return i}});var t=a("50348");function i(e){let r=(0,t.useRef)(null);return(0,t.useEffect)(()=>{(async()=>{if(e){let t=await a("32662")(`@/assets/skins/${e}.webp`.replace("@/assets/skins/","./"));"string"==typeof t?.default&&r.current&&(r.current.style.backgroundImage=`url(${t.default})`)}})()},[e]),{containerRef:r}}},53151:function(e,r,a){"use strict";a.r(r),a.d(r,{SearchVideoResultSchema:function(){return n}});var t=a("94351");let i=t.z.object({type:t.z.literal("video"),author:t.z.string(),pic:t.z.string(),bvid:t.z.string().startsWith("BV"),title:t.z.string(),pubdate:t.z.number().transform(e=>1e3*e)}),n=t.z.object({seid:t.z.string(),page:t.z.number(),pagesize:t.z.number(),numResults:t.z.number(),numPages:t.z.number(),result:t.z.array(i)})},76361:function(e,r,a){"use strict";a.r(r),a.d(r,{SimpleLatestCopilotsResultSchema:function(){return n}});var t=a("94351");let i=t.z.object({insert_db_time:t.z.coerce.date(),creator:t.z.object({name:t.z.string()}),bv:t.z.string()}),n=t.z.array(i)},26254:function(e,r,a){"use strict";a.r(r),a.d(r,{useLatestVideo:function(){return p}});var t=a("60740"),i=a("50348"),n=a("53151"),o=a("76361"),s=a("85561");function p(){let{loading:e,runAsync:r,data:a,refresh:p}=(0,t.useRequest)(async()=>{try{let e=await (0,s.getLatestVideo)();return n.SearchVideoResultSchema.parse(e)}catch(e){console.log("parse error",e)}},{manual:!0}),{data:u,loading:l,runAsync:b,refresh:w}=(0,t.useRequest)(async()=>{try{let e=await (0,s.getLatestCopilots)({pageSize:30});return o.SimpleLatestCopilotsResultSchema.parse(e)}catch(e){console.log("parse error",e)}},{manual:!0});return{latestVideos:a,loadingLatestVideos:e,getLatestVideosAsync:r,latestCopilots:u,loadingLatestCopilots:l,getLatestCopilotsAsync:b,refresh:(0,i.useCallback)(()=>{w(),p()},[])}}},6301:function(e,r,a){"use strict";a.r(r),a.d(r,{getDefaultTooltips:function(){return i}});var t=a("63615");let i=(0,a("67227").memoize)(e=>{switch(e){case t.AurorianRarityType.Star6:return["\u96F6","\u96F6","\u4E00","\u4E00","\u4E00","\u6EE1"].map(e=>`${e}\u{7834}`);case t.AurorianRarityType.Star5:return["\u96F6","\u4E00","\u4E00","\u4E00","\u6EE1"].map(e=>`${e}\u{7834}`);case t.AurorianRarityType.Star4:return["\u96F6","\u96F6","\u96F6","\u6EE1"].map(e=>`${e}\u{7834}`);case t.AurorianRarityType.Star3:return["\u96F6","\u96F6","\u6EE1"].map(e=>`${e}\u{7834}`);case t.AurorianRarityType.Star2:return["\u96F6","\u6EE1"].map(e=>`${e}\u{7834}`);case t.AurorianRarityType.Star1:return["\u6EE1"].map(e=>`${e}\u{7834}`);default:return[]}})},72430:function(e,r,a){"use strict";a.r(r),a.d(r,{getDefaultBreakthrough:function(){return i}});var t=a("63615");let i=(0,a("67227").memoize)(e=>{switch(e){case t.AurorianRarityType.Star6:return 2;case t.AurorianRarityType.Star5:return 1;case t.AurorianRarityType.Star4:return 4;case t.AurorianRarityType.Star3:return 3;case t.AurorianRarityType.Star2:return 2;case t.AurorianRarityType.Star1:return 1;default:return 0}})},51031:function(e,r,a){"use strict";a.r(r),a.d(r,{useCheckVideoExist:function(){return n}});var t=a("60740"),i=a("85561");function n(){let{loading:e,runAsync:r}=(0,t.useRequest)(async e=>{let{bv:r,term:a}=e;return(0,i.checkVideoExist)({bv:r,term:a})},{manual:!0});return{loadingCheckVideoExist:e,check:r}}},80674:function(e,r,a){"use strict";a.r(r),a.d(r,{usePostCopilot:function(){return u}});var t=a("60740"),i=a("67348"),n=a("4969"),o=a("85561"),s=a("39538"),p=a("9596");function u(){let[{auroriansMap:e}]=(0,i.useModel)(s.AuroriansModel),[{termsMap:r}]=(0,i.useModel)(p.TermsModel),{loading:a,runAsync:u}=(0,t.useRequest)(async a=>{let t=(0,n.toInputRemoteCopilot)(a,{termsMap:r,auroriansMap:e});return await (0,o.postCopilot)(t)},{manual:!0});return{loadingPostCopilot:a,postCopilotAsync:u}}},92365:function(e,r,a){"use strict";a.r(r),a.d(r,{useVideoInfo:function(){return n}});var t=a("60740"),i=a("85561");function n(){let{data:e,loading:r,runAsync:a,mutate:n}=(0,t.useRequest)(async e=>await (0,i.getVideoInfo)(e),{manual:!0});return{videoInfo:e,loadingVideoInfo:r,getVideoInfo:a,setVideoInfo:n}}},75066:function(e,r,a){"use strict";function t(e,r){14===r?e?.setFieldValue("rerun_terms",[24]):e?.setFieldValue("rerun_terms",void 0)}function i(e,r){if("string"==typeof r&&(r.startsWith("https://")||r.startsWith("http://"))){let a=/\/(BV[^/]+)\/?/.exec(new URL(r).pathname)?.[1];"string"==typeof a&&a.startsWith("BV")&&e?.setFieldValue("bv",a)}}a.r(r),a.d(r,{autoSetTerm:function(){return t},trimBV:function(){return i}})},14511:function(e,r,a){"use strict";a.r(r),a.d(r,{AURORIAN_SUMMARIES_RULES:function(){return t},SCORE_RULES:function(){return i}});let t=[{async validator(e,r){if(Array.isArray(r)&&5===r.length);else throw Error("\u5149\u7075\u9635\u5BB9\u642D\u914D\u4E0D\u6B63\u786E")}},{required:!0}],i=[{required:!0},{async validator(e,r){if("number"==typeof r&&Number.isInteger(r)&&r>0);else throw Error("\u5206\u6570\u5FC5\u987B\u662F\u6B63\u6574\u6570");if(r>=1e8)throw Error("\u5206\u6570\u5927\u4E8E\u4E00\u4EBF\u5206\u4E86\uFF0C\u4F60\u8981\u4E0D\u518D\u770B\u770B\u6709\u6CA1\u6709\u586B\u5BF9\uFF1F");if(r<=1e5)throw Error("\u5206\u6570\u5C0F\u4E8E\u5341\u4E07\u5206\uFF0C\u4F60\u8981\u4E0D\u8981\u518D\u770B\u770B\u6709\u6CA1\u6709\u586B\u5BF9\uFF1F")}}]},4969:function(e,r,a){"use strict";function t(e,r){let{termsMap:a,auroriansMap:t}=r;return{bv:e.bv,title:e.title,description:e.description,author:e.author,insert_db_time:e.insert_db_time?.valueOf(),upload_time:e.upload_time.valueOf(),score:Number(e.score),term:[a[e.term]._record_id],rerun_terms:e.rerun_terms?.map(e=>a[e]._record_id),aurorian_1:[t[e.aurorian_summaries[0].aurorian_name]._record_id],aurorian_1_breakthrough:String(e.aurorian_summaries[0].breakthrough),aurorian_2:[t[e.aurorian_summaries[1].aurorian_name]._record_id],aurorian_2_breakthrough:String(e.aurorian_summaries[1].breakthrough),aurorian_3:[t[e.aurorian_summaries[2].aurorian_name]._record_id],aurorian_3_breakthrough:String(e.aurorian_summaries[2].breakthrough),aurorian_4:[t[e.aurorian_summaries[3].aurorian_name]._record_id],aurorian_4_breakthrough:String(e.aurorian_summaries[3].breakthrough),aurorian_5:[t[e.aurorian_summaries[4].aurorian_name]._record_id],aurorian_5_breakthrough:String(e.aurorian_summaries[4].breakthrough),replaceable_position:e.aurorian_summaries.map((e,r)=>e.is_replaceable?`${r+1}`:null).filter(e=>"string"==typeof e)}}a.r(r),a.d(r,{toInputRemoteCopilot:function(){return t}})},70233:function(e,r,a){"use strict";function t(e){return e.replace("[\u767D\u591C\u6781\u5149]","").replace("\u3010\u767D\u591C\u6781\u5149\u3011","").replace("\u767D\u591C\u6781\u5149","").replace("\u8352\u5178","").replace("[hidden]","")}a.r(r),a.d(r,{trimTitle:function(){return t}})},86025:function(e,r,a){"use strict";a.r(r),a.d(r,{FeishuModel:function(){return t}});let t=(0,a("67348").model)("feishu").define({state:{profile:void 0},computed:{isLogin:e=>"string"==typeof e.profile?.name},actions:{}})},73569:function(e,r,a){"use strict";a.r(r),a.d(r,{UPLOAD_APP_ID:function(){return t},LARK_SCOPE:function(){return i}});let t="cli_a5fd9725777a100b",i="bitable:app"}}]);