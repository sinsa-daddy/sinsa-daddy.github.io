{"version":3,"file":"static/js/async/upload/page.a4f9f739.js","sources":["./src/components/AdaptiveAurorianCard/index.tsx","./src/components/LatestVideoCard/index.tsx","./src/components/RelativeTimeText/index.tsx","./src/components/UploadForm/AurorianTallCard/index.tsx","./src/components/UploadForm/CopilotSelector/index.tsx","./src/components/UploadForm/VideoIframe/index.tsx","./src/components/UploadForm/index.tsx","./src/routes/upload/page.tsx","./src/views/UploadView/LarkLoginCard/index.tsx","./src/components/AdaptiveAurorianCard/constants.ts","./src/components/AdaptiveAurorianCard/hooks/use-lazy-image.ts","./src/components/LatestVideoCard/schemas/SearchVideo.ts","./src/components/LatestVideoCard/schemas/SimpleLatestCopilot.ts","./src/components/LatestVideoCard/useLatestVideo.ts","./src/components/UploadForm/AurorianTallCard/utils/getDefaultBreakthrough.ts","./src/components/UploadForm/CopilotSelector/utils/getDefaultBreakthrough.ts","./src/components/UploadForm/hooks/useCheckVideoExist.ts","./src/components/UploadForm/hooks/usePostCopilot.ts","./src/components/UploadForm/hooks/useVideoInfo.ts","./src/components/UploadForm/utils/preprocess.ts","./src/components/UploadForm/utils/rules.ts","./src/components/UploadForm/utils/toInputRemoteCopilot.ts","./src/components/utils.ts","./src/models/feishu.ts","./src/views/SolutionView/utils/without-exclude.ts","./src/views/UploadView/LarkLoginCard/constants.ts"],"sourcesContent":["import React, { useMemo } from 'react';\nimport { useModel } from '@modern-js/runtime/model';\nimport type { AurorianType } from '@sinsa/schema';\nimport clsx from 'clsx';\nimport type { MenuProps } from 'antd';\nimport { ConfigProvider, Flex, Rate, Tag, Dropdown } from 'antd';\nimport { useBreakpoint } from '@ant-design/pro-components';\nimport { m } from 'framer-motion';\nimport type { IgnoreMessage } from '../types';\nimport styles from './styles.module.less';\nimport { useLazyImage } from './hooks/use-lazy-image';\nimport { ClassURLMapper, ElementURLMapper, RarityMapper } from './constants';\nimport { AuroriansModel } from '@/models/aurorians';\nimport { getNormalizeBreakthroughByRarity } from '@/views/SolutionView/utils/without-exclude';\n\ninterface AdaptiveArurorianCardProps {\n  name: string;\n  breakthrough?: number;\n  isReplaceable?: boolean;\n  onIgnore?: (msg: IgnoreMessage) => void;\n  disable?: boolean;\n}\n\nexport const AdaptiveAurorianCard = React.memo<AdaptiveArurorianCardProps>(\n  ({ name, breakthrough, isReplaceable, onIgnore, disable }) => {\n    const [{ auroriansMap }] = useModel(AuroriansModel);\n    const aurorian = useMemo(\n      () => auroriansMap[name] as AurorianType | undefined,\n      [auroriansMap, name],\n    );\n    const { containerRef } = useLazyImage(aurorian?.aurorian_name);\n\n    const screen = useBreakpoint();\n    const rateTheme = useMemo(() => {\n      let starSize = 10;\n      switch (screen) {\n        case 'xs':\n          starSize = 10;\n          break;\n        case 'sm':\n          starSize = 12;\n          break;\n        default:\n          starSize = 13;\n          break;\n      }\n      return {\n        components: {\n          Rate: {\n            starBg: 'white',\n            starSize,\n          },\n        },\n      };\n    }, [screen]);\n\n    const items: MenuProps['items'] = [\n      {\n        label: `排除${aurorian?.aurorian_cn_name}`,\n        key: 'ignore',\n      },\n      {\n        label: `仅排除此突破数的${aurorian?.aurorian_cn_name}`,\n        key: 'ignore-breakthrough',\n      },\n    ];\n\n    return (\n      <Dropdown\n        disabled={disable}\n        trigger={['click']}\n        getPopupContainer={() => document.body}\n        menu={{\n          items,\n          onClick: ({ key }) => {\n            console.log('key', key);\n            if (!aurorian?.aurorian_name) {\n              return;\n            }\n            switch (key) {\n              case 'ignore-breakthrough':\n                onIgnore?.({\n                  type: 'aurorian',\n                  aurorianName: aurorian.aurorian_name,\n                  breakthrough: getNormalizeBreakthroughByRarity(\n                    breakthrough ?? 0,\n                    aurorian.rarity,\n                  ),\n                });\n                break;\n              case 'ignore':\n                onIgnore?.({\n                  type: 'aurorian',\n                  aurorianName: aurorian.aurorian_name,\n                });\n                break;\n              default:\n                break;\n            }\n          },\n        }}\n      >\n        <m.div\n          ref={containerRef}\n          className={clsx(\n            styles.AdaptiveAurorianCard,\n            styles.BackgroundImage,\n            disable && styles.Disabled,\n          )}\n          whileHover={disable ? undefined : { opacity: 0.6 }}\n          whileTap={disable ? undefined : { opacity: 0.2 }}\n        >\n          {aurorian ? (\n            <>\n              <Flex vertical className={styles.NameContainer}>\n                <span>{aurorian?.aurorian_cn_name}</span>\n                {typeof breakthrough === 'number' && aurorian?.rarity ? (\n                  <ConfigProvider theme={rateTheme}>\n                    <Rate\n                      className={styles.BreakThrough}\n                      disabled\n                      value={breakthrough}\n                      count={RarityMapper[aurorian.rarity]}\n                    />\n                  </ConfigProvider>\n                ) : null}\n              </Flex>\n              <Flex className={styles.MetaContainer}>\n                <img\n                  className={styles.MetaClass}\n                  alt={aurorian.class}\n                  src={ClassURLMapper[aurorian.class]}\n                />\n                <Flex align=\"center\">\n                  <img\n                    className={styles.MetaFirstAttribute}\n                    alt={aurorian.attribute}\n                    src={ElementURLMapper[aurorian.attribute]}\n                  />\n                  {aurorian.secondary_attribute ? (\n                    <img\n                      className={styles.MetaSecondAttribute}\n                      alt={aurorian.secondary_attribute}\n                      src={ElementURLMapper[aurorian.secondary_attribute]}\n                    />\n                  ) : null}\n                </Flex>\n              </Flex>\n            </>\n          ) : null}\n          {isReplaceable ? (\n            <Tag className={styles.ReplaceableTag} color={'#dc5950'}>\n              可替\n            </Tag>\n          ) : null}\n        </m.div>\n      </Dropdown>\n    );\n  },\n);\n","/* eslint-disable no-nested-ternary */\n/* eslint-disable react/no-danger */\nimport { Button, Card, Flex, Tag, Tooltip, Typography } from 'antd';\nimport React, { useEffect, useImperativeHandle, useMemo, useRef } from 'react';\nimport { useModel } from '@modern-js/runtime/model';\nimport dayjs from 'dayjs';\nimport { first, maxBy, minBy } from 'lodash-es';\nimport { RelativeTimeText } from '../RelativeTimeText';\nimport { trimTitle } from '../utils';\nimport { useLatestVideo } from './useLatestVideo';\nimport styles from './styles.module.less';\nimport denyList from './deny-list.json';\nimport type { SimpleLatestCopilotType } from './schemas/SimpleLatestCopilot';\nimport { FeishuModel } from '@/models/feishu';\n\ninterface LatestVideoCardProps {\n  onClickNewCard?: (newBvid: string) => void;\n}\n\ninterface LatestVideoCardRef {\n  refresh: () => void;\n  latestMaxAndMinScoreCopilots: {\n    maxScoreCopilot: SimpleLatestCopilotType | undefined;\n    minScoreCopilot: SimpleLatestCopilotType | undefined;\n  };\n}\n\nexport function useLatestVideoCardRef() {\n  const ref = useRef<LatestVideoCardRef>(null);\n  return ref;\n}\n\nexport const LatestVideoCard = React.forwardRef<\n  LatestVideoCardRef,\n  LatestVideoCardProps\n>(({ onClickNewCard }, ref) => {\n  const {\n    loadingLatestCopilots,\n    loadingLatestVideos,\n    getLatestCopilotsAsync,\n    getLatestVideosAsync,\n    latestCopilots,\n    latestVideos,\n    refresh,\n  } = useLatestVideo();\n  const [{ isLogin }] = useModel(FeishuModel);\n\n  useEffect(() => {\n    if (isLogin) {\n      getLatestCopilotsAsync();\n      getLatestVideosAsync();\n    }\n  }, [isLogin]);\n\n  const latestMaxAndMinScoreCopilots = useMemo(() => {\n    const maxScoreCopilot = maxBy(latestCopilots, c => c.score);\n    const minScoreCopilot = minBy(latestCopilots, c => c.score);\n\n    return {\n      maxScoreCopilot,\n      minScoreCopilot,\n    };\n  }, [latestCopilots]);\n\n  useImperativeHandle(\n    ref,\n    () => {\n      return {\n        refresh,\n        latestMaxAndMinScoreCopilots,\n      };\n    },\n    [refresh, latestMaxAndMinScoreCopilots],\n  );\n\n  if (!isLogin) {\n    return null;\n  }\n\n  return (\n    <Card\n      title=\"B站视频最新收录情况：最近 20 条按新发布排序搜索结果\"\n      loading={loadingLatestCopilots || loadingLatestVideos}\n      bodyStyle={{ overflow: 'auto', height: 400 }}\n      extra={\n        <Button\n          type=\"primary\"\n          loading={loadingLatestCopilots || loadingLatestVideos}\n          onClick={e => {\n            e.stopPropagation();\n            refresh();\n          }}\n        >\n          刷新\n        </Button>\n      }\n    >\n      {latestCopilots && latestVideos ? (\n        <Flex wrap=\"wrap\" gap=\"small\">\n          {latestVideos.result.map(video => {\n            const displayTitle = trimTitle(video.title);\n\n            const copilotInfo = latestCopilots.find(c => c.bv === video.bvid);\n\n            const onlyHitAuthor =\n              video.hit_columns.length === 1 &&\n              video.hit_columns.includes('author');\n\n            const tooShort = first(video.duration.split(':')) === '0';\n\n            const inDenyList = denyList.includes(video.bvid);\n\n            return (\n              <Card\n                hoverable={!copilotInfo && !inDenyList}\n                className={styles.Card}\n                size=\"small\"\n                key={video.bvid}\n                cover={\n                  <div className={styles.CoverContainer}>\n                    <Flex className={styles.UploadedTagContainer} wrap=\"wrap\">\n                      {copilotInfo ? (\n                        <Tooltip\n                          title={`${copilotInfo?.creator.name} 于 ${dayjs(\n                            copilotInfo?.insert_db_time,\n                          ).format('YYYY-MM-DD HH:mm:ss')} 收录了此作业`}\n                        >\n                          <Tag color=\"green\">已收录</Tag>\n                        </Tooltip>\n                      ) : inDenyList ? null : (\n                        <Tag color={'#dc5950'}>未收录</Tag>\n                      )}\n                      {onlyHitAuthor || tooShort ? (\n                        <Tag color=\"orange-inverse\">疑似非荒典作业</Tag>\n                      ) : null}\n                      {inDenyList ? <Tag color=\"gray\">无需收录</Tag> : null}\n                    </Flex>\n                    <img\n                      className={styles.CoverImage}\n                      referrerPolicy=\"no-referrer\"\n                      crossOrigin=\"anonymous\"\n                      alt={video.title}\n                      src={`${video.pic}@672w_378h_1c_!web-search-common-cover.webp`}\n                    />\n                    <div className={styles.Duration}>{video.duration}</div>\n                  </div>\n                }\n                onClick={e => {\n                  e.stopPropagation();\n                  if (!copilotInfo) {\n                    onClickNewCard?.(video.bvid);\n                  }\n                }}\n              >\n                <Flex className={styles.Author} align=\"center\">\n                  <Typography.Text strong>{video.author}</Typography.Text>\n                  <Typography.Text className={styles.Dot} type=\"secondary\">\n                    ·\n                  </Typography.Text>\n                  <RelativeTimeText time={new Date(video.pubdate)} />\n                </Flex>\n                <div className={styles.Title}>\n                  <Typography.Link\n                    href={`https://www.bilibili.com/video/${video.bvid}`}\n                    target=\"_blank\"\n                    title={video.title}\n                    ellipsis={true}\n                    onClick={e => e.stopPropagation()}\n                  >\n                    <span dangerouslySetInnerHTML={{ __html: displayTitle }} />\n                  </Typography.Link>\n                </div>\n              </Card>\n            );\n          })}\n        </Flex>\n      ) : null}\n    </Card>\n  );\n});\n","import { Tooltip } from 'antd';\nimport dayjs from 'dayjs';\nimport React from 'react';\nimport styles from './styles.module.less';\n\ninterface RelativeTimeTextProps {\n  time: Date;\n}\n\nexport const RelativeTimeText = React.memo<RelativeTimeTextProps>(\n  ({ time }) => {\n    return (\n      <Tooltip title={dayjs(time).format('YYYY-MM-DD HH:mm:ss')}>\n        <span className={styles.RelativeTimeText}>{dayjs(time).fromNow()}</span>\n      </Tooltip>\n    );\n  },\n  (prev, cur) => prev.time.valueOf() === cur.time.valueOf(),\n);\n","import React, { useMemo } from 'react';\nimport { useModel } from '@modern-js/runtime/model';\nimport { type AurorianType } from '@sinsa/schema';\nimport { Flex, Rate, Switch } from 'antd';\nimport { RarityMapper } from '../../AurorianCard/constants';\nimport styles from './styles.module.less';\nimport { getDefaultTooltips } from './utils/getDefaultBreakthrough';\nimport { AuroriansModel } from '@/models/aurorians';\nimport { AdaptiveAurorianCard } from '@/components/AdaptiveAurorianCard';\n\ninterface AurorianTallCardProps {\n  name: string;\n  breakthrough?: number;\n  isReplaceable?: boolean;\n  onBreakthroughChange?: (b: number) => void;\n  onReplaceableChange?: (r: boolean) => void;\n}\n\nexport const AurorianTallCard = React.memo<AurorianTallCardProps>(\n  ({\n    name,\n    breakthrough,\n    isReplaceable,\n    onBreakthroughChange,\n    onReplaceableChange,\n  }) => {\n    const [{ auroriansMap }] = useModel(AuroriansModel);\n    const aurorian = useMemo(\n      () => auroriansMap[name] as AurorianType | undefined,\n      [auroriansMap, name],\n    );\n\n    return (\n      <Flex vertical align=\"center\" gap={8}>\n        <div className={styles.AdaptiveContainer}>\n          <AdaptiveAurorianCard\n            disable\n            name={name}\n            isReplaceable={isReplaceable}\n          />\n        </div>\n\n        {typeof breakthrough === 'number' && aurorian?.rarity ? (\n          <Rate\n            className={styles.BreakThrough}\n            value={breakthrough}\n            count={RarityMapper[aurorian.rarity]}\n            onChange={onBreakthroughChange}\n            tooltips={getDefaultTooltips(aurorian.rarity)}\n          />\n        ) : null}\n        <Switch\n          checkedChildren=\"可替换\"\n          unCheckedChildren=\"不可替换\"\n          onChange={onReplaceableChange}\n        />\n      </Flex>\n    );\n  },\n);\n","import { useModel } from '@modern-js/runtime/model';\nimport type { CopilotAurorianSummaryType } from '@sinsa/schema';\nimport { Flex, Select } from 'antd';\nimport { intersection } from 'lodash-es';\nimport { produce } from 'immer';\nimport styles from './styles.module.less';\nimport { getDefaultBreakthrough } from './utils/getDefaultBreakthrough';\nimport { AuroriansModel, filterAuroriansOption } from '@/models/aurorians';\nimport { AurorianTallCard } from '@/components/UploadForm/AurorianTallCard';\n\ninterface CopilotSelector {\n  value?: CopilotAurorianSummaryType[];\n  onChange?: (val: CopilotAurorianSummaryType[]) => void;\n}\n\nexport const CopilotnSelector: React.FC<CopilotSelector> = ({\n  value,\n  onChange,\n}) => {\n  const [{ auroriansOptions, auroriansMap }] = useModel(AuroriansModel);\n  const multiSelectValue = value?.map(item => item.aurorian_name);\n  return (\n    <Flex vertical gap={8}>\n      <Select\n        mode=\"multiple\"\n        options={auroriansOptions}\n        placeholder=\"支持按拼音搜索, 比如 ad 可以搜到 安顿\"\n        showSearch\n        allowClear={false}\n        value={value?.map(item => item.aurorian_name)}\n        filterOption={filterAuroriansOption}\n        onChange={newVal => {\n          const commonValues = intersection(multiSelectValue, newVal);\n          const remainEntity = value?.filter(item =>\n            commonValues.includes(item.aurorian_name),\n          );\n          onChange?.(\n            newVal.slice(0, 5).map(newName => {\n              const oldEntity = remainEntity?.find(\n                entity => entity.aurorian_name === newName,\n              );\n              if (oldEntity) {\n                return { ...oldEntity };\n              }\n              const targetAurorian = auroriansMap[newName];\n\n              return {\n                aurorian_name: newName,\n                breakthrough: getDefaultBreakthrough(targetAurorian.rarity),\n                is_replaceable: false,\n              };\n            }),\n          );\n        }}\n      />\n\n      <Flex className={styles.AuroriansTeam} wrap=\"wrap\" gap={16}>\n        {value?.map(\n          ({ aurorian_name, breakthrough, is_replaceable }, index) => {\n            return (\n              <AurorianTallCard\n                key={aurorian_name}\n                name={aurorian_name}\n                breakthrough={breakthrough}\n                isReplaceable={is_replaceable}\n                onBreakthroughChange={bt => {\n                  onChange?.(\n                    produce(value, draft => {\n                      if (draft) {\n                        draft[index].breakthrough = bt;\n                      }\n                    }),\n                  );\n                }}\n                onReplaceableChange={r => {\n                  onChange?.(\n                    produce(value, draft => {\n                      if (draft) {\n                        draft[index].is_replaceable = r;\n                      }\n                    }),\n                  );\n                }}\n              />\n            );\n          },\n        )}\n      </Flex>\n    </Flex>\n  );\n};\n","import React, { useMemo } from 'react';\n\ninterface VideoIframeProps {\n  bvid?: string;\n}\n\nexport const VideoIframe = React.memo<VideoIframeProps>(({ bvid }) => {\n  const url = useMemo(() => {\n    if (typeof bvid === 'string') {\n      const src = new URL('https://player.bilibili.com/player.html');\n      src.searchParams.append('bvid', bvid);\n      return src.href;\n    }\n    return undefined;\n  }, [bvid]);\n\n  if (url) {\n    return (\n      <iframe\n        src={url}\n        scrolling=\"no\"\n        frameBorder=\"no\"\n        style={{ border: 0, width: 700, height: 420 }}\n      ></iframe>\n    );\n  }\n\n  return null;\n});\n","import {\n  FooterToolbar,\n  ProForm,\n  ProFormDateTimePicker,\n  ProFormDependency,\n  ProFormDigit,\n  ProFormSelect,\n  ProFormText,\n  ProFormTextArea,\n} from '@ant-design/pro-components';\nimport { useModel } from '@modern-js/runtime/model';\nimport dayjs from 'dayjs';\nimport { Button, Card, Typography, notification } from 'antd';\nimport { useMemo } from 'react';\nimport { CopilotSchema } from '@sinsa/schema';\nimport numeral from 'numeral';\nimport { LatestVideoCard, useLatestVideoCardRef } from '../LatestVideoCard';\nimport type { FormValues } from './types';\nimport { CopilotnSelector } from './CopilotSelector';\nimport styles from './styles.module.less';\nimport { useVideoInfo } from './hooks/useVideoInfo';\nimport { VideoIframe } from './VideoIframe';\nimport { AURORIAN_SUMMARIES_RULES, SCORE_RULES } from './utils/rules';\nimport { autoSetTerm, trimBV } from './utils/preprocess';\nimport { useCheckVideoExist } from './hooks/useCheckVideoExist';\nimport { usePostCopilot } from './hooks/usePostCopilot';\nimport { TermsModel } from '@/models/terms';\nimport { FeishuModel } from '@/models/feishu';\n\nexport const UploadForm: React.FC = () => {\n  const [{ termsOptions, latestTerm: currentTerm }] = useModel(TermsModel);\n  const [{ isLogin }] = useModel(FeishuModel);\n\n  const { videoInfo, loadingVideoInfo, getVideoInfo, setVideoInfo } =\n    useVideoInfo();\n\n  const { loadingCheckVideoExist, check } = useCheckVideoExist();\n\n  const { loadingPostCopilot, postCopilotAsync } = usePostCopilot();\n\n  const [form] = ProForm.useForm<FormValues>();\n\n  const initialValues: Partial<FormValues> = useMemo(() => {\n    const result: Partial<FormValues> = {};\n    if (currentTerm?.term) {\n      result.term = currentTerm.term;\n    }\n    return result;\n  }, [currentTerm?.term]);\n\n  const latestVideoCardRef = useLatestVideoCardRef();\n\n  return (\n    <>\n      <LatestVideoCard\n        ref={latestVideoCardRef}\n        onClickNewCard={bvid => {\n          form.setFieldValue('bv', bvid);\n        }}\n      />\n      <Card>\n        <ProForm<FormValues>\n          form={form}\n          initialValues={initialValues}\n          submitter={{\n            submitButtonProps: {\n              loading: loadingCheckVideoExist || loadingPostCopilot,\n            },\n            render: (_, dom) => (\n              <FooterToolbar className={styles.FootBar}>{dom}</FooterToolbar>\n            ),\n            searchConfig: {\n              // eslint-disable-next-line no-nested-ternary\n              submitText: loadingCheckVideoExist\n                ? '校验重复中'\n                : loadingPostCopilot\n                ? '提交中'\n                : '提交作业',\n            },\n          }}\n          onFinish={async (values: FormValues) => {\n            console.log('开始提交', values);\n\n            try {\n              const submitCopilot = await CopilotSchema.parseAsync(values);\n              const result = await postCopilotAsync(submitCopilot);\n\n              if (result?.record?.record_id) {\n                notification.success({\n                  message: `醒山小狗已经成功帮您添加了一份作业，record_id 为 ${result?.record?.record_id}`,\n                });\n                form.resetFields();\n                setVideoInfo(undefined);\n                latestVideoCardRef.current?.refresh();\n              } else {\n                notification.error({\n                  message: `没有上传成功 ${JSON.stringify(result, null, 2)}`,\n                });\n                console.log('upload failed', result, submitCopilot);\n              }\n            } catch (error) {\n              notification.error({\n                message: `解析表单失败 ${JSON.stringify(error, null, 2)}`,\n              });\n              console.error('解析失败', error);\n            }\n          }}\n        >\n          <ProForm.Group>\n            <ProFormSelect\n              name=\"term\"\n              label=\"荒典期数\"\n              options={termsOptions}\n              rules={[{ required: true }]}\n              width={'sm'}\n              showSearch={false}\n              onChange={nextTerm => {\n                if (typeof nextTerm === 'number') {\n                  autoSetTerm(form, nextTerm);\n                }\n              }}\n            />\n            <ProFormSelect\n              name=\"rerun_terms\"\n              label=\"可被复用荒典期数\"\n              options={termsOptions}\n              width={'md'}\n              showSearch={false}\n              fieldProps={{ mode: 'multiple' }}\n              tooltip=\"例如第 14 期荒典作业可被第 24 期荒典复用, 那么上一个选项荒典期数选择 14 期，此选项可被复用荒典期数选择 24 期\"\n            />\n          </ProForm.Group>\n          <ProForm.Group>\n            <ProFormDependency name={['term']}>\n              {({ term }) => (\n                <ProFormText\n                  name=\"bv\"\n                  label=\"BV号或B站视频链接\"\n                  placeholder={\n                    'BVxxxxxxxxxx 或 https://www.bilibili.com/video/BVxxxxxxxxxx/'\n                  }\n                  validateTrigger=\"onBlur\"\n                  width={'lg'}\n                  fieldProps={{\n                    onChange(e) {\n                      const bvOrLink = e.target.value;\n                      trimBV(form, bvOrLink);\n                    },\n                  }}\n                  rules={[\n                    { required: true },\n                    { pattern: /^BV.+$/, message: 'BV号格式不正确' },\n                    {\n                      async validator(_, bv) {\n                        if (typeof bv === 'string' && bv.startsWith('BV')) {\n                          const result = await check({ bv, term });\n                          if (result?.noExist || result?.target) {\n                            if (result?.target) {\n                              const errorMessage = `${\n                                result?.target?.fields?.creator?.name\n                              } 已经在 ${dayjs(\n                                result?.target?.fields?.insert_db_time,\n                              ).format('YYYY-MM-DD HH:mm:ss')} 添加了此作业`;\n                              notification.error({\n                                message: `${errorMessage}. 撞车了~ 请更换作业收录`,\n                              });\n                              throw new Error(errorMessage);\n                            }\n                          }\n                        }\n                      },\n                    },\n                  ]}\n                  extra=\"小提示：点击上方未收录的视频卡片，能快速填入 BV 号\"\n                />\n              )}\n            </ProFormDependency>\n            <ProForm.Item label=\" \">\n              <ProFormDependency name={['bv']}>\n                {({ bv }) => (\n                  <Button\n                    disabled={\n                      !isLogin ||\n                      !(typeof bv === 'string' && bv.startsWith('BV'))\n                    }\n                    type=\"primary\"\n                    loading={loadingVideoInfo}\n                    onClick={async e => {\n                      e.stopPropagation();\n                      const result = await getVideoInfo(bv);\n\n                      if (result) {\n                        const { title, desc, owner, pubdate } = result;\n                        form.setFieldsValue({\n                          title,\n                          description: desc === '-' ? undefined : desc,\n                          author: owner.name,\n                          upload_time: pubdate.valueOf(),\n                        });\n                      }\n                    }}\n                  >\n                    读取视频信息\n                  </Button>\n                )}\n              </ProFormDependency>\n            </ProForm.Item>\n          </ProForm.Group>\n          <VideoIframe bvid={videoInfo?.bvid} />\n\n          <ProForm.Item\n            label=\"光灵阵容\"\n            name=\"aurorian_summaries\"\n            rules={AURORIAN_SUMMARIES_RULES}\n          >\n            <CopilotnSelector />\n          </ProForm.Item>\n\n          <ProFormDigit\n            label=\"结算分数\"\n            name=\"score\"\n            validateTrigger=\"onBlur\"\n            rules={SCORE_RULES}\n            min={0}\n            fieldProps={{\n              formatter: value => numeral(value).format('0,0'),\n              parser: str => numeral(str).value() ?? 0,\n              size: 'large',\n            }}\n            extra={\n              <ProFormDependency name={['score']}>\n                {partialValues => {\n                  const { score } = partialValues as Pick<FormValues, 'score'>;\n                  if (\n                    latestVideoCardRef.current?.latestMaxAndMinScoreCopilots\n                      ?.maxScoreCopilot &&\n                    latestVideoCardRef.current?.latestMaxAndMinScoreCopilots\n                      .minScoreCopilot\n                  ) {\n                    if (\n                      score >=\n                      2 *\n                        latestVideoCardRef.current.latestMaxAndMinScoreCopilots\n                          .maxScoreCopilot.score\n                    ) {\n                      return (\n                        <Typography.Text type=\"warning\">\n                          录入的分数超过最近作业最高分两倍，请再次确认是否录入正确\n                        </Typography.Text>\n                      );\n                    }\n\n                    if (\n                      score <=\n                      0.5 *\n                        latestVideoCardRef.current.latestMaxAndMinScoreCopilots\n                          .minScoreCopilot.score\n                    ) {\n                      return (\n                        <Typography.Text type=\"warning\">\n                          录入的分数低于最近作业最低分的一半，请再次确认是否录入正确\n                        </Typography.Text>\n                      );\n                    }\n                  }\n\n                  return null;\n                }}\n              </ProFormDependency>\n            }\n          />\n\n          <ProFormText\n            label=\"视频标题\"\n            name=\"title\"\n            rules={[{ required: true }]}\n          />\n\n          <ProForm.Group>\n            <ProFormDateTimePicker\n              label=\"视频发布时间\"\n              name={'upload_time'}\n              rules={[{ required: true }]}\n            />\n            <ProFormText\n              label=\"作业作者\"\n              name={'author'}\n              rules={[{ required: true }]}\n            />\n            <ProFormTextArea label=\"视频描述\" name=\"description\" width={'xl'} />\n          </ProForm.Group>\n        </ProForm>\n      </Card>\n    </>\n  );\n};\n","import { PageContainer } from '@ant-design/pro-components';\nimport { Flex } from 'antd';\nimport { UploadForm } from '@/components/UploadForm';\nimport { LarkLoginCard } from '@/views/UploadView/LarkLoginCard';\n\nconst UploadPage: React.FC = () => {\n  return (\n    <PageContainer\n      title=\"作业收录（内部版）\"\n      content=\"内部的收录同学可以使用此页面快速上传作业，之后会再提供 Chrome 插件提高效率（比心）\"\n    >\n      <Flex vertical gap=\"middle\">\n        <LarkLoginCard />\n        <UploadForm />\n      </Flex>\n    </PageContainer>\n  );\n};\n\nexport default UploadPage;\n","import { Link, useLocation } from '@modern-js/runtime/router';\nimport { Avatar, Button, Card, Space, Typography } from 'antd';\nimport { useEffect, useMemo, useState } from 'react';\nimport { useRequest } from 'ahooks';\nimport { useModel } from '@modern-js/runtime/model';\nimport { LARK_SCOPE, UPLOAD_APP_ID } from './constants';\nimport { RoutePath } from '@/views/GlobalLayout/constants';\nimport { getFeishuProfile, saveAuthCallback } from '@/services/http';\nimport { FeishuModel } from '@/models/feishu';\n\nexport const LarkLoginCard: React.FC = () => {\n  const REDIRECT_URI = useMemo(() => {\n    return `${window.location.origin}/#${RoutePath.Upload}/`;\n  }, []);\n\n  const [larkpreLoginCode, setLarkpreLoginCode] = useState<string>();\n  const location = useLocation();\n\n  useEffect(() => {\n    const code = location.search\n      .slice(1)\n      .split('&')\n      .find(item => item.startsWith('code='))\n      ?.replace('code=', '');\n\n    if (code) {\n      setLarkpreLoginCode(code);\n    }\n  }, [location.search]);\n\n  const [, { setProfile }] = useModel(FeishuModel);\n\n  const { data, loading } = useRequest(\n    async () => {\n      if (larkpreLoginCode) {\n        await saveAuthCallback({ code: larkpreLoginCode });\n        setLarkpreLoginCode(undefined);\n        return undefined;\n      }\n\n      return getFeishuProfile();\n    },\n    {\n      refreshDeps: [larkpreLoginCode],\n      onSuccess(_p) {\n        setProfile(_p);\n      },\n    },\n  );\n\n  const FEISHU_AUTH_URL = useMemo(() => {\n    const url = new URL(`https://open.feishu.cn/open-apis/authen/v1/authorize`);\n    url.searchParams.append('app_id', UPLOAD_APP_ID);\n    url.searchParams.append('redirect_uri', REDIRECT_URI);\n    url.searchParams.append('scope', LARK_SCOPE);\n\n    return url.href;\n  }, []);\n  return (\n    <Card loading={loading}>\n      {data ? (\n        <Card.Meta\n          avatar={<Avatar src={data.avatar_url} />}\n          title={data.name}\n          description=\"欢迎回来~ 您已授权，可以开始工作啦\"\n        />\n      ) : (\n        <Space>\n          <Typography.Text>\n            您好，我是作业提交醒山小狗，我需要您飞书授权才能工作\n          </Typography.Text>\n          <Link target=\"_self\" to={FEISHU_AUTH_URL}>\n            <Button type=\"primary\">去飞书授权</Button>\n          </Link>\n        </Space>\n      )}\n    </Card>\n  );\n};\n","import {\n  AurorianAttributeType,\n  AurorianClassType,\n  AurorianRarityType,\n} from '@sinsa/schema';\nimport E1 from '@/assets/elements/1.webp';\nimport E2 from '@/assets/elements/2.webp';\nimport E3 from '@/assets/elements/3.webp';\nimport E4 from '@/assets/elements/4.webp';\nimport C1 from '@/assets/classes/2001.webp';\nimport C2 from '@/assets/classes/2002.webp';\nimport C3 from '@/assets/classes/2003.webp';\nimport C4 from '@/assets/classes/2004.webp';\n\nexport const RarityMapper = {\n  [AurorianRarityType.Star6]: 6,\n  [AurorianRarityType.Star5]: 5,\n  [AurorianRarityType.Star4]: 4,\n  [AurorianRarityType.Star3]: 3,\n  [AurorianRarityType.Star2]: 2,\n  [AurorianRarityType.Star1]: 1,\n};\n\nexport const ElementURLMapper = {\n  [AurorianAttributeType.Water]: E1,\n  [AurorianAttributeType.Fire]: E2,\n  [AurorianAttributeType.Forest]: E3,\n  [AurorianAttributeType.Thunder]: E4,\n};\n\nexport const ElementTextMapper = {\n  [AurorianAttributeType.Water]: '水',\n  [AurorianAttributeType.Fire]: '火',\n  [AurorianAttributeType.Forest]: '森',\n  [AurorianAttributeType.Thunder]: '雷',\n};\n\nexport const ClassURLMapper = {\n  [AurorianClassType.Converter]: C1,\n  [AurorianClassType.Sniper]: C2,\n  [AurorianClassType.Detonator]: C3,\n  [AurorianClassType.Supporter]: C4,\n};\n","import { useEffect, useRef } from 'react';\n\nexport function useLazyImage(aurorian_name?: string) {\n  const containerRef = useRef<HTMLDivElement>(null);\n  useEffect(() => {\n    const loadImage = async () => {\n      if (aurorian_name) {\n        const module = await import(`@/assets/skins/${aurorian_name}.webp`);\n        if (typeof module?.default === 'string') {\n          if (containerRef.current) {\n            containerRef.current.style.backgroundImage = `url(${module.default})`;\n          }\n        }\n      }\n    };\n    loadImage();\n  }, [aurorian_name]);\n\n  return {\n    containerRef,\n  };\n}\n","import { z } from 'zod';\n\nexport const SearchVideoSchema = z.object({\n  type: z.literal('video'),\n  author: z.string(),\n  pic: z.string(),\n  bvid: z.string().startsWith('BV'),\n  title: z.string(),\n  pubdate: z.number().transform(v => v * 1000),\n  hit_columns: z.array(z.enum(['title', 'tag', 'author', 'description'])),\n  duration: z.string(),\n});\n\nexport type SearchVideoType = z.infer<typeof SearchVideoSchema>;\n\nexport const SearchVideoResultSchema = z.object({\n  seid: z.string(),\n  page: z.number(),\n  pagesize: z.number(),\n  numResults: z.number(),\n  numPages: z.number(),\n  result: z.array(SearchVideoSchema),\n});\n\nexport type SearchVideoResultType = z.infer<typeof SearchVideoResultSchema>;\n","import { z } from 'zod';\n\nexport const SimpleLatestCopilotSchema = z.object({\n  insert_db_time: z.coerce.date(),\n  creator: z.object({\n    name: z.string(),\n  }),\n  bv: z.string(),\n  score: z.coerce.number(),\n});\n\nexport type SimpleLatestCopilotType = z.infer<typeof SimpleLatestCopilotSchema>;\n\nexport const SimpleLatestCopilotsResultSchema = z.array(\n  SimpleLatestCopilotSchema,\n);\n","import { useRequest } from 'ahooks';\nimport { useCallback } from 'react';\nimport { SearchVideoResultSchema } from './schemas/SearchVideo';\nimport { SimpleLatestCopilotsResultSchema } from './schemas/SimpleLatestCopilot';\nimport { getLatestCopilots, getLatestVideo } from '@/services/http';\n\nexport function useLatestVideo() {\n  const {\n    loading: loadingLatestVideos,\n    runAsync: getLatestVideosAsync,\n    data: latestVideos,\n    refresh: refreshLatestVideos,\n  } = useRequest(\n    async () => {\n      try {\n        const data = await getLatestVideo();\n        return SearchVideoResultSchema.parse(data);\n      } catch (error) {\n        console.log('parse error', error);\n      }\n      return undefined;\n    },\n    {\n      manual: true,\n    },\n  );\n\n  const {\n    data: latestCopilots,\n    loading: loadingLatestCopilots,\n    runAsync: getLatestCopilotsAsync,\n    refresh: refreshLatestCopilots,\n  } = useRequest(\n    async () => {\n      try {\n        const data = await getLatestCopilots({ pageSize: 30 });\n        return SimpleLatestCopilotsResultSchema.parse(data);\n      } catch (error) {\n        console.log('parse error', error);\n      }\n      return undefined;\n    },\n    { manual: true },\n  );\n\n  const refresh = useCallback(() => {\n    refreshLatestCopilots();\n    refreshLatestVideos();\n  }, []);\n\n  return {\n    latestVideos,\n    loadingLatestVideos,\n    getLatestVideosAsync,\n    latestCopilots,\n    loadingLatestCopilots,\n    getLatestCopilotsAsync,\n    refresh,\n  };\n}\n","import { AurorianRarityType } from '@sinsa/schema';\nimport { memoize } from 'lodash-es';\n\nexport const getDefaultTooltips = memoize((rarity: AurorianRarityType) => {\n  switch (rarity) {\n    case AurorianRarityType.Star6:\n      return ['零', '零', '一', '一', '一', '满'].map(txt => `${txt}破`);\n    case AurorianRarityType.Star5:\n      return ['零', '一', '一', '一', '满'].map(txt => `${txt}破`);\n    case AurorianRarityType.Star4:\n      return ['零', '零', '零', '满'].map(txt => `${txt}破`);\n    case AurorianRarityType.Star3:\n      return ['零', '零', '满'].map(txt => `${txt}破`);\n    case AurorianRarityType.Star2:\n      return ['零', '满'].map(txt => `${txt}破`);\n    case AurorianRarityType.Star1:\n      return ['满'].map(txt => `${txt}破`);\n    default:\n      return [];\n  }\n});\n","import { AurorianRarityType } from '@sinsa/schema';\nimport { memoize } from 'lodash-es';\n\nexport const getDefaultBreakthrough = memoize((rarity: AurorianRarityType) => {\n  switch (rarity) {\n    case AurorianRarityType.Star6:\n      return 2;\n    case AurorianRarityType.Star5:\n      return 1;\n    case AurorianRarityType.Star4:\n      return 4;\n    case AurorianRarityType.Star3:\n      return 3;\n    case AurorianRarityType.Star2:\n      return 2;\n    case AurorianRarityType.Star1:\n      return 1;\n    default:\n      return 0;\n  }\n});\n","import { useRequest } from 'ahooks';\nimport { checkVideoExist } from '@/services/http';\n\nexport function useCheckVideoExist() {\n  const { loading: loadingCheckVideoExist, runAsync: check } = useRequest(\n    async ({ bv, term }: { bv: string; term: string | number }) => {\n      return checkVideoExist({ bv, term });\n    },\n    {\n      manual: true,\n    },\n  );\n\n  return {\n    loadingCheckVideoExist,\n    check,\n  };\n}\n","import { useRequest } from 'ahooks';\nimport { useModel } from '@modern-js/runtime/model';\nimport type { CopilotType } from '@sinsa/schema';\nimport { toInputRemoteCopilot } from '../utils/toInputRemoteCopilot';\nimport { postCopilot } from '@/services/http';\nimport { AuroriansModel } from '@/models/aurorians';\nimport { TermsModel } from '@/models/terms';\n\nexport function usePostCopilot() {\n  const [{ auroriansMap }] = useModel(AuroriansModel);\n  const [{ termsMap }] = useModel(TermsModel);\n\n  const { loading: loadingPostCopilot, runAsync: postCopilotAsync } =\n    useRequest(\n      async (submitCopilot: CopilotType) => {\n        const remoteCopilot = toInputRemoteCopilot(submitCopilot, {\n          termsMap,\n          auroriansMap,\n        });\n        const result = await postCopilot(remoteCopilot);\n\n        return result;\n      },\n      { manual: true },\n    );\n\n  return {\n    loadingPostCopilot,\n    postCopilotAsync,\n  };\n}\n","import { useRequest } from 'ahooks';\nimport { getVideoInfo } from '@/services/http';\n\nexport function useVideoInfo() {\n  const { data, loading, runAsync, mutate } = useRequest(\n    async bv => {\n      const result = await getVideoInfo(bv);\n\n      return result;\n    },\n    { manual: true },\n  );\n\n  return {\n    videoInfo: data,\n    loadingVideoInfo: loading,\n    getVideoInfo: runAsync,\n    setVideoInfo: mutate,\n  };\n}\n","import type { ProFormInstance } from '@ant-design/pro-components';\nimport type { FormValues } from '../types';\n\nexport function autoSetTerm(\n  form: ProFormInstance<FormValues> | undefined,\n  nextTerm: number,\n) {\n  if (nextTerm === 14) {\n    form?.setFieldValue('rerun_terms', [24]);\n  } else {\n    form?.setFieldValue('rerun_terms', undefined);\n  }\n}\n\nexport function trimBV(\n  form: ProFormInstance<FormValues> | undefined,\n  bvOrLink?: string,\n) {\n  if (\n    typeof bvOrLink === 'string' &&\n    (bvOrLink.startsWith('https://') || bvOrLink.startsWith('http://'))\n  ) {\n    const bvResult = /\\/(BV[^/]+)\\/?/.exec(new URL(bvOrLink).pathname)?.[1];\n    if (typeof bvResult === 'string' && bvResult.startsWith('BV')) {\n      form?.setFieldValue('bv', bvResult);\n    }\n  }\n}\n","import type { Rule } from 'antd/es/form';\n\nexport const AURORIAN_SUMMARIES_RULES: Rule[] = [\n  {\n    async validator(_, array) {\n      if (Array.isArray(array) && array.length === 5) {\n        // pass\n      } else {\n        throw new Error('光灵阵容搭配不正确');\n      }\n    },\n  },\n  { required: true },\n];\n\nexport const SCORE_RULES: Rule[] = [\n  { required: true },\n  {\n    async validator(_, value) {\n      if (typeof value === 'number' && Number.isInteger(value) && value > 0) {\n        // pass\n      } else {\n        throw new Error('分数必须是正整数');\n      }\n\n      if (value >= 1e8) {\n        throw new Error('分数大于一亿分了，你要不再看看有没有填对？');\n      } else if (value <= 1e5) {\n        throw new Error('分数小于十万分，你要不要再看看有没有填对？');\n      }\n    },\n  },\n];\n","import type { AurorianType, CopilotType, TermType } from '@sinsa/schema';\n\nexport function toInputRemoteCopilot(\n  c: CopilotType,\n  {\n    termsMap,\n    auroriansMap,\n  }: {\n    termsMap: Record<TermType['term'], TermType>;\n    auroriansMap: Record<AurorianType['aurorian_name'], AurorianType>;\n  },\n) {\n  return {\n    bv: c.bv,\n    title: c.title,\n    description: c.description,\n    author: c.author,\n    insert_db_time: c.insert_db_time?.valueOf(),\n    upload_time: c.upload_time.valueOf(),\n    score: Number(c.score),\n    term: [termsMap[c.term]._record_id],\n    rerun_terms: c.rerun_terms?.map(term => termsMap[term]._record_id),\n    aurorian_1: [\n      auroriansMap[c.aurorian_summaries[0].aurorian_name]._record_id,\n    ],\n    aurorian_1_breakthrough: String(c.aurorian_summaries[0].breakthrough),\n    aurorian_2: [\n      auroriansMap[c.aurorian_summaries[1].aurorian_name]._record_id,\n    ],\n    aurorian_2_breakthrough: String(c.aurorian_summaries[1].breakthrough),\n    aurorian_3: [\n      auroriansMap[c.aurorian_summaries[2].aurorian_name]._record_id,\n    ],\n    aurorian_3_breakthrough: String(c.aurorian_summaries[2].breakthrough),\n    aurorian_4: [\n      auroriansMap[c.aurorian_summaries[3].aurorian_name]._record_id,\n    ],\n    aurorian_4_breakthrough: String(c.aurorian_summaries[3].breakthrough),\n    aurorian_5: [\n      auroriansMap[c.aurorian_summaries[4].aurorian_name]._record_id,\n    ],\n    aurorian_5_breakthrough: String(c.aurorian_summaries[4].breakthrough),\n    replaceable_position: c.aurorian_summaries\n      .map((item, index) => (item.is_replaceable ? `${index + 1}` : null))\n      .filter((n): n is string => typeof n === 'string'),\n  };\n}\n","export function trimTitle(title: string): string {\n  return title\n    .replace('[白夜极光]', '')\n    .replace('【白夜极光】', '')\n    .replace('白夜极光', '')\n    .replace('荒典', '')\n    .replace('[hidden]', '');\n}\n","import { model } from '@modern-js/runtime/model';\nimport type { FeishuProfileType } from '@/schemas/feishu-profile';\n\nexport interface FeishuState {\n  profile?: FeishuProfileType;\n}\n\nexport const FeishuModel = model<FeishuState>('feishu').define({\n  state: {\n    profile: undefined,\n  },\n  computed: {\n    isLogin: state => typeof state.profile?.name === 'string',\n  },\n  actions: {},\n});\n","import type { AurorianType, MyBoxType } from '@sinsa/schema';\nimport { AurorianRarityType } from '@sinsa/schema';\nimport { produce } from 'immer';\nimport type { QueryParamsType } from '../schemas/query-params';\n\nexport function getNormalizeBreakthroughByRarity(\n  currentBreakthrough: number,\n  rarity: AurorianRarityType,\n) {\n  switch (rarity) {\n    case AurorianRarityType.Star6:\n      return [0, 0, 3, 3, 3, 6].at(currentBreakthrough - 1)!;\n    case AurorianRarityType.Star5:\n      return [0, 2, 2, 2, 5].at(currentBreakthrough - 1)!;\n    case AurorianRarityType.Star4:\n      return [0, 0, 0, 4].at(currentBreakthrough - 1)!;\n    case AurorianRarityType.Star3:\n      return [0, 0, 3].at(currentBreakthrough - 1)!;\n    case AurorianRarityType.Star2:\n      return [0, 2].at(currentBreakthrough - 1)!;\n    case AurorianRarityType.Star1:\n      return [1].at(currentBreakthrough - 1)!;\n    default:\n      return 0;\n  }\n}\n\nexport function withoutExclude(\n  summaries: MyBoxType['aurorian_summaries'],\n  exclude: QueryParamsType['exclude'],\n  _: Record<AurorianType['aurorian_name'], AurorianType>,\n) {\n  if (!exclude) {\n    return summaries;\n  }\n  return produce(summaries, draft => {\n    for (const {\n      excludeBreakthroughOnly,\n      excludeBreakthrough,\n      aurorianName,\n    } of exclude) {\n      // 如果是仅仅排除突破\n      if (excludeBreakthroughOnly) {\n        // 如果排除突破的要求 >= 1\n        if (\n          typeof excludeBreakthrough === 'number' &&\n          excludeBreakthrough >= 1\n        ) {\n          // const targetAurorian = auroriansMap[aurorianName];\n          // 那么说明 Box 里的该光灵的突破一定比排除突破小 1\n          draft[aurorianName].breakthrough = Math.max(\n            excludeBreakthrough - 1,\n            0,\n          );\n        }\n      } else {\n        // 否则排除该光灵\n        delete draft[aurorianName];\n      }\n    }\n  });\n}\n","export const UPLOAD_APP_ID = 'cli_a5fd9725777a100b';\n\nexport const LARK_SCOPE = `bitable:app`;\n"],"names":["AdaptiveAurorianCard","name","breakthrough","isReplaceable","onIgnore","disable","auroriansMap","useModel","AuroriansModel","aurorian","useMemo","containerRef","useLazyImage","aurorian_name","screen","useBreakpoint","rateTheme","starSize","components","Rate","starBg","items","label","aurorian_cn_name","key","Dropdown","disabled","trigger","getPopupContainer","document","body","menu","onClick","console","log","type","aurorianName","getNormalizeBreakthroughByRarity","rarity","m","ref","className","whileHover","undefined","opacity","whileTap","Flex","vertical","ConfigProvider","theme","value","count","RarityMapper","alt","class","src","ClassURLMapper","align","attribute","ElementURLMapper","secondary_attribute","Tag","color","useLatestVideoCardRef","useRef","LatestVideoCard","onClickNewCard","loadingLatestCopilots","loadingLatestVideos","getLatestCopilotsAsync","getLatestVideosAsync","latestCopilots","latestVideos","refresh","useLatestVideo","isLogin","FeishuModel","useEffect","latestMaxAndMinScoreCopilots","maxScoreCopilot","maxBy","c","score","minScoreCopilot","minBy","useImperativeHandle","Card","title","loading","bodyStyle","overflow","height","extra","Button","e","stopPropagation","wrap","gap","result","map","video","displayTitle","trimTitle","copilotInfo","find","bv","bvid","onlyHitAuthor","hit_columns","length","includes","tooShort","first","duration","split","inDenyList","hoverable","size","cover","Tooltip","creator","insert_db_time","format","referrerPolicy","crossOrigin","pic","Typography","strong","author","RelativeTimeText","time","Date","pubdate","href","target","ellipsis","dangerouslySetInnerHTML","__html","fromNow","prev","cur","valueOf","AurorianTallCard","onBreakthroughChange","onReplaceableChange","onChange","tooltips","getDefaultTooltips","Switch","checkedChildren","unCheckedChildren","CopilotnSelector","auroriansOptions","multiSelectValue","item","Select","mode","options","placeholder","showSearch","allowClear","filterOption","filterAuroriansOption","newVal","commonValues","intersection","remainEntity","filter","slice","newName","oldEntity","entity","targetAurorian","getDefaultBreakthrough","is_replaceable","index","bt","produce","draft","r","VideoIframe","url","URL","searchParams","append","scrolling","frameBorder","style","border","width","UploadForm","termsOptions","latestTerm","currentTerm","TermsModel","videoInfo","loadingVideoInfo","getVideoInfo","setVideoInfo","useVideoInfo","loadingCheckVideoExist","check","useCheckVideoExist","loadingPostCopilot","postCopilotAsync","usePostCopilot","form","ProForm","initialValues","term","latestVideoCardRef","setFieldValue","submitter","submitButtonProps","render","_","dom","FooterToolbar","searchConfig","submitText","onFinish","values","submitCopilot","CopilotSchema","record","record_id","notification","message","resetFields","current","JSON","stringify","error","ProFormSelect","rules","required","nextTerm","autoSetTerm","fieldProps","tooltip","ProFormDependency","ProFormText","validateTrigger","bvOrLink","trimBV","pattern","validator","startsWith","noExist","errorMessage","fields","Error","desc","owner","setFieldsValue","description","upload_time","AURORIAN_SUMMARIES_RULES","ProFormDigit","SCORE_RULES","min","formatter","parser","str","partialValues","ProFormDateTimePicker","ProFormTextArea","PageContainer","content","LarkLoginCard","REDIRECT_URI","window","location","origin","RoutePath","larkpreLoginCode","setLarkpreLoginCode","useState","useLocation","code","search","replace","setProfile","data","useRequest","saveAuthCallback","getFeishuProfile","refreshDeps","onSuccess","_p","FEISHU_AUTH_URL","UPLOAD_APP_ID","LARK_SCOPE","avatar","Avatar","avatar_url","Space","Link","to","AurorianRarityType","AurorianAttributeType","AurorianClassType","loadImage","module","default","backgroundImage","SearchVideoSchema","z","transform","v","SearchVideoResultSchema","seid","page","pagesize","numResults","numPages","SimpleLatestCopilotSchema","SimpleLatestCopilotsResultSchema","runAsync","refreshLatestVideos","getLatestVideo","manual","refreshLatestCopilots","getLatestCopilots","pageSize","useCallback","memoize","txt","checkVideoExist","termsMap","remoteCopilot","toInputRemoteCopilot","postCopilot","mutate","bvResult","exec","pathname","array","Array","isArray","Number","isInteger","_record_id","rerun_terms","aurorian_1","aurorian_summaries","aurorian_1_breakthrough","String","aurorian_2","aurorian_2_breakthrough","aurorian_3","aurorian_3_breakthrough","aurorian_4","aurorian_4_breakthrough","aurorian_5","aurorian_5_breakthrough","replaceable_position","n","model","define","state","profile","computed","actions","currentBreakthrough","at","withoutExclude","summaries","exclude","excludeBreakthroughOnly","excludeBreakthrough","Math","max"],"mappings":";0sWAuBO,IAAMA,EAAuB,QAAU,CAC5C,AAAC,QAAEC,KAAAA,CAAI,CAAEC,aAAAA,CAAY,CAAEC,cAAAA,CAAa,CAAEC,SAAAA,CAAQ,CAAEC,QAAAA,CAAO,CAAE,GACjD,CAAC,CAAEC,aAAAA,CAAY,CAAE,CAAC,CAAG,KAAAC,QAAA,EAAS,EAAAC,cAAc,EAC5CC,EAAW,KAAAC,OAAA,EACf,IAAMJ,CAAY,CAACL,EAAK,CACxB,CAACK,EAAcL,EAAK,EAEhB,CAAEU,aAAAA,CAAY,CAAE,CAAG,KAAAC,YAAA,EAAaH,GAAUI,eAE1CC,EAAS,KAAAC,aAAA,IACTC,EAAY,KAAAN,OAAA,EAAQ,KACxB,IAAIO,EAAW,GACf,OAAQH,GACN,IAAK,KACHG,EAAW,GACX,KACF,KAAK,KACHA,EAAW,GACX,KACF,SACEA,EAAW,EAEf,CACA,MAAO,CACLC,WAAY,CACVC,KAAM,CACJC,OAAQ,QACRH,SAAAA,CACF,CACF,CACF,CACF,EAAG,CAACH,EAAO,EAELO,EAA4B,CAChC,CACEC,MAAO,CAAC,gBAAE,EAAEb,GAAUc,iBAAiB,CAAC,CACxCC,IAAK,QACP,EACA,CACEF,MAAO,CAAC,gEAAQ,EAAEb,GAAUc,iBAAiB,CAAC,CAC9CC,IAAK,qBACP,EACD,CAED,MACE,UAAC,EAAAC,QAAQ,EACPC,SAAUrB,EACVsB,QAAS,CAAC,QAAQ,CAClBC,kBAAmB,IAAMC,SAASC,IAAI,CACtCC,KAAM,CACJV,MAAAA,EACAW,QAAS,AAAC,QAAER,IAAAA,CAAG,CAAE,GAEf,GADAS,QAAQC,GAAG,CAAC,MAAOV,GACdf,GAAUI,cAGf,OAAQW,GACN,IAAK,sBACHpB,IAAW,CACT+B,KAAM,WACNC,aAAc3B,EAASI,aAAa,CACpCX,aAAc,EAAAmC,gCAAA,CACZnC,GAAgB,EAChBO,EAAS6B,MAAM,CAEnB,GACA,KACF,KAAK,SACHlC,IAAW,CACT+B,KAAM,WACNC,aAAc3B,EAASI,aAAa,AACtC,EAIJ,CACF,CACF,WAEA,WAAC,EAAA0B,CAAA,IAAK,EACJC,IAAK7B,EACL8B,UAAW,cACT,sBAA2B,CAC3B,iBAAsB,CACtBpC,GAAW,UAAe,EAE5BqC,WAAYrC,EAAUsC,KAAAA,EAAY,CAAEC,QAAS,EAAI,EACjDC,SAAUxC,EAAUsC,KAAAA,EAAY,CAAEC,QAAS,EAAI,YAE9CnC,EACC,iCACE,WAAC,EAAAqC,IAAI,EAACC,SAAQ,GAACN,UAAW,eAAoB,WAC5C,UAAC,iBAAMhC,GAAUc,mBAChB,AAAwB,UAAxB,OAAOrB,GAA6BO,GAAU6B,OAC7C,UAAC,EAAAU,cAAc,EAACC,MAAOjC,WACrB,UAAC,EAAAG,IAAI,EACHsB,UAAW,cAAmB,CAC9Bf,SAAQ,GACRwB,MAAOhD,EACPiD,MAAO,EAAAC,YAAY,CAAC3C,EAAS6B,MAAM,CAAC,KAGtC,QAEN,WAAC,EAAAQ,IAAI,EAACL,UAAW,eAAoB,WACnC,UAAC,OACCA,UAAW,WAAgB,CAC3BY,IAAK5C,EAAS6C,KAAK,CACnBC,IAAK,EAAAC,cAAc,CAAC/C,EAAS6C,KAAK,CAAC,GAErC,WAAC,EAAAR,IAAI,EAACW,MAAM,mBACV,UAAC,OACChB,UAAW,oBAAyB,CACpCY,IAAK5C,EAASiD,SAAS,CACvBH,IAAK,EAAAI,gBAAgB,CAAClD,EAASiD,SAAS,CAAC,GAE1CjD,EAASmD,mBAAmB,CAC3B,UAAC,OACCnB,UAAW,qBAA0B,CACrCY,IAAK5C,EAASmD,mBAAmB,CACjCL,IAAK,EAAAI,gBAAgB,CAAClD,EAASmD,mBAAmB,CAAC,GAEnD,cAIR,KACHzD,EACC,UAAC,EAAA0D,GAAG,EAACpB,UAAW,gBAAqB,CAAEqB,MAAO,mBAAW,iBAGvD,SAIZ,qUCnIK,SAASC,IAEd,MADY,KAAAC,MAAA,EAA2B,KAEzC,CAEO,IAAMC,EAAkB,cAAgB,CAG7C,CAAC,EAAoBzB,QAApB,CAAE0B,eAAAA,CAAc,CAAE,GACb,CACJC,sBAAAA,CAAqB,CACrBC,oBAAAA,CAAmB,CACnBC,uBAAAA,CAAsB,CACtBC,qBAAAA,CAAoB,CACpBC,eAAAA,CAAc,CACdC,aAAAA,CAAY,CACZC,QAAAA,CAAO,CACR,CAAG,KAAAC,cAAA,IACE,CAAC,CAAEC,QAAAA,CAAO,CAAE,CAAC,CAAG,KAAApE,QAAA,EAAS,EAAAqE,WAAW,EAE1C,KAAAC,SAAA,EAAU,KACJF,IACFN,IACAC,IAEJ,EAAG,CAACK,EAAQ,EAEZ,IAAMG,EAA+B,KAAApE,OAAA,EAAQ,KAC3C,IAAMqE,EAAkB,KAAAC,KAAA,EAAMT,EAAgB,AAAAU,GAAKA,EAAEC,KAAK,EAG1D,MAAO,CACLH,gBAAAA,EACAI,gBAJsB,KAAAC,KAAA,EAAMb,EAAgB,AAAAU,GAAKA,EAAEC,KAAK,CAK1D,CACF,EAAG,CAACX,EAAe,QAanB,CAXA,KAAAc,mBAAA,EACE7C,EACA,IACS,EACLiC,QAAAA,EACAK,6BAAAA,CACF,GAEF,CAACL,EAASK,EAA6B,EAGpCH,GAKH,UAAC,EAAAW,IAAI,EACHC,MAAM,kJACNC,QAASrB,GAAyBC,EAClCqB,UAAW,CAAEC,SAAU,OAAQC,OAAQ,GAAI,EAC3CC,MACE,UAAC,EAAAC,MAAM,EACL1D,KAAK,UACLqD,QAASrB,GAAyBC,EAClCpC,QAAS,AAAA8D,IACPA,EAAEC,eAAe,GACjBtB,GACF,WACD,0BAKFF,GAAkBC,EACjB,UAAC,EAAA1B,IAAI,EAACkD,KAAK,OAAOC,IAAI,iBACnBzB,EAAa0B,MAAM,CAACC,GAAG,CAAC,AAAAC,IACvB,IAAMC,EAAe,KAAAC,SAAA,EAAUF,EAAMb,KAAK,EAEpCgB,EAAchC,EAAeiC,IAAI,CAAC,AAAAvB,GAAKA,EAAEwB,EAAE,GAAKL,EAAMM,IAAI,EAE1DC,EACJP,AAA6B,IAA7BA,EAAMQ,WAAW,CAACC,MAAM,EACxBT,EAAMQ,WAAW,CAACE,QAAQ,CAAC,UAEvBC,EAAW,AAAqC,MAArC,KAAAC,KAAA,EAAMZ,EAAMa,QAAQ,CAACC,KAAK,CAAC,MAEtCC,EAAa,UAAiB,CAACf,EAAMM,IAAI,EAE/C,MACE,WAAC,EAAApB,IAAI,EACH8B,UAAW,CAACb,GAAe,CAACY,EAC5B1E,UAAW,MAAW,CACtB4E,KAAK,QAELC,MACE,WAAC,OAAI7E,UAAW,gBAAqB,WACnC,WAAC,EAAAK,IAAI,EAACL,UAAW,sBAA2B,CAAEuD,KAAK,iBAChDO,EACC,UAAC,EAAAgB,OAAO,EACNhC,MAAO,CAAC,EAAEgB,GAAaiB,QAAQvH,KAAK,UAAG,EAAE,IACvCsG,GAAakB,gBACbC,MAAM,CAAC,uBAAuB,iDAAO,CAAC,UAExC,UAAC,EAAA7D,GAAG,EAACC,MAAM,iBAAQ,yBAEnBqD,EAAa,KACf,UAAC,EAAAtD,GAAG,EAACC,MAAO,mBAAW,uBAExB6C,GAAiBI,EAChB,UAAC,EAAAlD,GAAG,EAACC,MAAM,0BAAiB,+CAC1B,KACHqD,EAAa,UAAC,EAAAtD,GAAG,EAACC,MAAM,gBAAO,6BAAa,QAE/C,UAAC,OACCrB,UAAW,YAAiB,CAC5BkF,eAAe,cACfC,YAAY,YACZvE,IAAK+C,EAAMb,KAAK,CAChBhC,IAAK,CAAC,EAAE6C,EAAMyB,GAAG,CAAC,2CAA2C,CAAC,GAEhE,UAAC,OAAIpF,UAAW,UAAe,UAAG2D,EAAMa,QAAQ,MAGpDjF,QAAS,AAAA8D,IACPA,EAAEC,eAAe,GACb,CAACQ,GACHrC,IAAiBkC,EAAMM,IAAI,CAE/B,YAEA,WAAC,EAAA5D,IAAI,EAACL,UAAW,QAAa,CAAEgB,MAAM,mBACpC,UAAC,EAAAqE,UAAA,KAAe,EAACC,OAAM,YAAE3B,EAAM4B,MAAM,GACrC,UAAC,EAAAF,UAAA,KAAe,EAACrF,UAAW,KAAU,CAAEN,KAAK,qBAAY,SAGzD,UAAC,EAAA8F,gBAAgB,EAACC,KAAM,IAAIC,KAAK/B,EAAMgC,OAAO,OAEhD,UAAC,OAAI3F,UAAW,OAAY,UAC1B,UAAC,EAAAqF,UAAA,KAAe,EACdO,KAAM,CAAC,+BAA+B,EAAEjC,EAAMM,IAAI,CAAC,CAAC,CACpD4B,OAAO,SACP/C,MAAOa,EAAMb,KAAK,CAClBgD,SAAU,GACVvG,QAAS,AAAA8D,GAAKA,EAAEC,eAAe,YAE/B,UAAC,QAAKyC,wBAAyB,CAAEC,OAAQpC,CAAa,UApDrDD,EAAMM,IAAI,CAyDrB,KAEA,OApGC,IAuGX,0LC1KO,IAAMuB,EAAmB,QAAU,CACxC,AAAC,QAAEC,KAAAA,CAAI,CAAE,GACP,MACE,UAAC,EAAAX,OAAO,EAAChC,MAAO,IAAM2C,GAAMR,MAAM,CAAC,gCACjC,UAAC,QAAKjF,UAAW,kBAAuB,UAAG,IAAMyF,GAAMQ,OAAO,MAGpE,EACA,CAACC,EAAMC,IAAQD,EAAKT,IAAI,CAACW,OAAO,KAAOD,EAAIV,IAAI,CAACW,OAAO,yOCClD,IAAMC,EAAmB,QAAU,CACxC,AAAC,QACC7I,KAAAA,CAAI,CACJC,aAAAA,CAAY,CACZC,cAAAA,CAAa,CACb4I,qBAAAA,CAAoB,CACpBC,oBAAAA,CAAmB,CACpB,GACO,CAAC,CAAE1I,aAAAA,CAAY,CAAE,CAAC,CAAG,KAAAC,QAAA,EAAS,EAAAC,cAAc,EAC5CC,EAAW,KAAAC,OAAA,EACf,IAAMJ,CAAY,CAACL,EAAK,CACxB,CAACK,EAAcL,EAAK,EAGtB,MACE,WAAC,EAAA6C,IAAI,EAACC,SAAQ,GAACU,MAAM,SAASwC,IAAK,YACjC,UAAC,OAAIxD,UAAW,mBAAwB,UACtC,UAAC,EAAAzC,oBAAoB,EACnBK,QAAO,GACPJ,KAAMA,EACNE,cAAeA,MAIlB,AAAwB,UAAxB,OAAOD,GAA6BO,GAAU6B,OAC7C,UAAC,EAAAnB,IAAI,EACHsB,UAAW,cAAmB,CAC9BS,MAAOhD,EACPiD,MAAO,EAAAC,YAAY,CAAC3C,EAAS6B,MAAM,CAAC,CACpC2G,SAAUF,EACVG,SAAU,KAAAC,kBAAA,EAAmB1I,EAAS6B,MAAM,IAE5C,KACJ,UAAC,EAAA8G,MAAM,EACLC,gBAAgB,qBAChBC,kBAAkB,2BAClBL,SAAUD,MAIlB,8NC3CK,IAAMO,EAA8C,AAAC,QAC1DrG,MAAAA,CAAK,CACL+F,SAAAA,CAAQ,CACT,GACO,CAAC,CAAEO,iBAAAA,CAAgB,CAAElJ,aAAAA,CAAY,CAAE,CAAC,CAAG,KAAAC,QAAA,EAAS,EAAAC,cAAc,EAC9DiJ,EAAmBvG,GAAOiD,IAAI,AAAAuD,GAAQA,EAAK7I,aAAa,EAC9D,MACE,WAAC,EAAAiC,IAAI,EAACC,SAAQ,GAACkD,IAAK,YAClB,UAAC,EAAA0D,MAAM,EACLC,KAAK,WACLC,QAASL,EACTM,YAAY,oGACZC,WAAU,GACVC,WAAY,GACZ9G,MAAOA,GAAOiD,IAAI,AAAAuD,GAAQA,EAAK7I,aAAa,EAC5CoJ,aAAc,EAAAC,qBAAqB,CACnCjB,SAAU,AAAAkB,IACR,IAAMC,EAAe,KAAAC,YAAA,EAAaZ,EAAkBU,GAC9CG,EAAepH,GAAOqH,OAAO,AAAAb,GACjCU,EAAatD,QAAQ,CAAC4C,EAAK7I,aAAa,GAE1CoI,IACEkB,EAAOK,KAAK,CAAC,EAAG,GAAGrE,GAAG,CAAC,AAAAsE,IACrB,IAAMC,EAAYJ,GAAc9D,KAC9B,AAAAmE,GAAUA,EAAO9J,aAAa,GAAK4J,GAErC,GAAIC,EACF,MAAO,CAAE,GAAGA,CAAS,AAAC,EAExB,IAAME,EAAiBtK,CAAY,CAACmK,EAAQ,CAE5C,MAAO,CACL5J,cAAe4J,EACfvK,aAAc,EAAA2K,sBAAA,CAAuBD,EAAetI,MAAM,EAC1DwI,eAAgB,EAClB,CACF,GAEJ,IAGF,UAAC,EAAAhI,IAAI,EAACL,UAAW,eAAoB,CAAEuD,KAAK,OAAOC,IAAK,YACrD/C,GAAOiD,IACN,CAAC,EAAiD4E,QAAjD,CAAElK,cAAAA,CAAa,CAAEX,aAAAA,CAAY,CAAE4K,eAAAA,CAAc,CAAE,GAC9C,OACE,MAAC,EAAAhC,gBAAgB,EAEf7I,KAAMY,EACNX,aAAcA,EACdC,cAAe2K,EACf/B,qBAAsB,AAAAiC,IACpB/B,IACE,EAAAgC,OAAA,CAAQ/H,EAAO,AAAAgI,IACTA,GACFA,CAAAA,CAAK,CAACH,EAAM,CAAC7K,YAAY,CAAG8K,CAAC,CAEjC,GAEJ,EACAhC,oBAAqB,AAAAmC,IACnBlC,IACE,EAAAgC,OAAA,CAAQ/H,EAAO,AAAAgI,IACTA,GACFA,CAAAA,CAAK,CAACH,EAAM,CAACD,cAAc,CAAGK,CAAAA,CAElC,GAEJ,GArBKtK,EAwBX,OAKV,wHCpFO,IAAMuK,EAAc,aAAU,CAAmB,AAAC,QAAE1E,KAAAA,CAAI,CAAE,GACzD2E,EAAM,KAAA3K,OAAA,EAAQ,KAClB,GAAI,AAAgB,UAAhB,OAAOgG,EAAmB,CAC5B,IAAMnD,EAAM,IAAI+H,IAAI,2CAEpB,OADA/H,EAAIgI,YAAY,CAACC,MAAM,CAAC,OAAQ9E,GACzBnD,EAAI8E,IAAI,AACjB,CAEF,EAAG,CAAC3B,EAAK,SAET,AAAI2E,EAEA,UAAC,UACC9H,IAAK8H,EACLI,UAAU,KACVC,YAAY,KACZC,MAAO,CAAEC,OAAQ,EAAGC,MAAO,IAAKlG,OAAQ,GAAI,IAK3C,IACT,uXCCO,IAAMmG,EAAuB,KAClC,GAAM,CAAC,CAAEC,aAAAA,CAAY,CAAEC,WAAYC,CAAW,CAAE,CAAC,CAAG,KAAA1L,QAAA,EAAS,EAAA2L,UAAU,EACjE,CAAC,CAAEvH,QAAAA,CAAO,CAAE,CAAC,CAAG,KAAApE,QAAA,EAAS,EAAAqE,WAAW,EAEpC,CAAEuH,UAAAA,CAAS,CAAEC,iBAAAA,CAAgB,CAAEC,aAAAA,CAAY,CAAEC,aAAAA,CAAY,CAAE,CAC/D,KAAAC,YAAA,IAEI,CAAEC,uBAAAA,CAAsB,CAAEC,MAAAA,CAAK,CAAE,CAAG,KAAAC,kBAAA,IAEpC,CAAEC,mBAAAA,CAAkB,CAAEC,iBAAAA,CAAgB,CAAE,CAAG,KAAAC,cAAA,IAE3C,CAACC,EAAK,CAAG,EAAAC,OAAA,QAAe,GAExBC,EAAqC,KAAAtM,OAAA,EAAQ,KACjD,IAAMwF,EAA8B,CAAC,EAIrC,OAHI+F,GAAagB,MACf/G,CAAAA,EAAO+G,IAAI,CAAGhB,EAAYgB,IAAI,AAAD,EAExB/G,CACT,EAAG,CAAC+F,GAAagB,KAAK,EAEhBC,EAAqB,KAAAnJ,qBAAA,IAE3B,MACE,iCACE,UAAC,EAAAE,eAAe,EACdzB,IAAK0K,EACLhJ,eAAgB,AAAAwC,IACdoG,EAAKK,aAAa,CAAC,KAAMzG,EAC3B,IAEF,UAAC,EAAApB,IAAI,WACH,WAAC,EAAAyH,OAAO,EACND,KAAMA,EACNE,cAAeA,EACfI,UAAW,CACTC,kBAAmB,CACjB7H,QAASgH,GAA0BG,CACrC,EACAW,OAAQ,CAACC,EAAGC,IACV,UAAC,EAAAC,aAAa,EAAChL,UAAW,SAAc,UAAG+K,IAE7CE,aAAc,CAEZC,WAAYnB,EACR,iCACAG,EACA,qBACA,0BACN,CACF,EACAiB,SAAU,MAAOC,IACf5L,QAAQC,GAAG,CAAC,2BAAQ2L,GAEpB,GAAI,CACF,IAAMC,EAAgB,MAAM,EAAAC,aAAA,WAAwB,CAACF,GAC/C3H,EAAS,MAAM0G,EAAiBkB,GAElC5H,GAAQ8H,QAAQC,WAClB,EAAAC,YAAA,QAAoB,CAAC,CACnBC,QAAS,CAAC,mKAA8B,EAAEjI,GAAQ8H,QAAQC,UAAU,CAAC,AACvE,GACAnB,EAAKsB,WAAW,GAChB9B,EAAa3J,KAAAA,GACbuK,EAAmBmB,OAAO,EAAE5J,YAE5B,EAAAyJ,YAAA,MAAkB,CAAC,CACjBC,QAAS,CAAC,iDAAO,EAAEG,KAAKC,SAAS,CAACrI,EAAQ,KAAM,GAAG,CAAC,AACtD,GACAjE,QAAQC,GAAG,CAAC,gBAAiBgE,EAAQ4H,GAEzC,CAAE,MAAOU,EAAO,CACd,EAAAN,YAAA,MAAkB,CAAC,CACjBC,QAAS,CAAC,iDAAO,EAAEG,KAAKC,SAAS,CAACC,EAAO,KAAM,GAAG,CAAC,AACrD,GACAvM,QAAQuM,KAAK,CAAC,2BAAQA,EACxB,CACF,YAEA,WAAC,EAAAzB,OAAA,MAAa,YACZ,UAAC,EAAA0B,aAAa,EACZxO,KAAK,OACLqB,MAAM,2BACNuI,QAASkC,EACT2C,MAAO,CAAC,CAAEC,SAAU,EAAK,EAAE,CAC3B9C,MAAO,KACP9B,WAAY,GACZd,SAAU,AAAA2F,IACgB,UAApB,OAAOA,GACT,KAAAC,WAAA,EAAY/B,EAAM8B,EAEtB,IAEF,UAAC,EAAAH,aAAa,EACZxO,KAAK,cACLqB,MAAM,mDACNuI,QAASkC,EACTF,MAAO,KACP9B,WAAY,GACZ+E,WAAY,CAAElF,KAAM,UAAW,EAC/BmF,QAAQ,wSAGZ,WAAC,EAAAhC,OAAA,MAAa,YACZ,UAAC,EAAAiC,iBAAiB,EAAC/O,KAAM,CAAC,OAAO,UAC9B,AAAC,QAAEgN,KAAAA,CAAI,CAAE,SACR,UAAC,EAAAgC,WAAW,EACVhP,KAAK,KACLqB,MAAM,gDACNwI,YACE,mEAEFoF,gBAAgB,SAChBrD,MAAO,KACPiD,WAAY,CACV7F,SAASnD,CAAC,EACR,IAAMqJ,EAAWrJ,EAAEwC,MAAM,CAACpF,KAAK,CAC/B,KAAAkM,MAAA,EAAOtC,EAAMqC,EACf,CACF,EACAT,MAAO,CACL,CAAEC,SAAU,EAAK,EACjB,CAAEU,QAAS,SAAUlB,QAAS,wCAAW,EACzC,CACE,MAAMmB,UAAU/B,CAAC,CAAE9G,CAAE,EACnB,GAAI,AAAc,UAAd,OAAOA,GAAmBA,EAAG8I,UAAU,CAAC,MAAO,CACjD,IAAMrJ,EAAS,MAAMuG,EAAM,CAAEhG,GAAAA,EAAIwG,KAAAA,CAAK,GACtC,GAAI/G,CAAAA,GAAQsJ,SAAWtJ,GAAQoC,MAAK,GAC9BpC,GAAQoC,OAAQ,CAClB,IAAMmH,EAAe,CAAC,EACpBvJ,GAAQoC,QAAQoH,QAAQlI,SAASvH,KAClC,0BAAK,EAAE,IACNiG,GAAQoC,QAAQoH,QAAQjI,gBACxBC,MAAM,CAAC,uBAAuB,iDAAO,CAAC,AAIxC,OAHA,EAAAwG,YAAA,MAAkB,CAAC,CACjBC,QAAS,CAAC,EAAEsB,EAAa,oFAAc,CAAC,AAC1C,GACM,AAAIE,MAAMF,EAClB,CAEJ,CACF,CACF,EACD,CACD7J,MAAM,sJAIZ,UAAC,EAAAmH,OAAA,KAAY,EAACzL,MAAM,aAClB,UAAC,EAAA0N,iBAAiB,EAAC/O,KAAM,CAAC,KAAK,UAC5B,AAAC,QAAEwG,GAAAA,CAAE,CAAE,SACN,UAAC,EAAAZ,MAAM,EACLnE,SACE,CAACiD,GACD,CAAE,CAAc,UAAd,OAAO8B,GAAmBA,EAAG8I,UAAU,CAAC,KAAI,EAEhDpN,KAAK,UACLqD,QAAS4G,EACTpK,QAAS,MAAM8D,IACbA,EAAEC,eAAe,GACjB,IAAMG,EAAS,MAAMmG,EAAa5F,GAElC,GAAIP,EAAQ,CACV,GAAM,CAAEX,MAAAA,CAAK,CAAEqK,KAAAA,CAAI,CAAEC,MAAAA,CAAK,CAAEzH,QAAAA,CAAO,CAAE,CAAGlC,EACxC4G,EAAKgD,cAAc,CAAC,CAClBvK,MAAAA,EACAwK,YAAaH,AAAS,MAATA,EAAejN,KAAAA,EAAYiN,EACxC5H,OAAQ6H,EAAM5P,IAAI,CAClB+P,YAAa5H,EAAQS,OAAO,EAC9B,EACF,CACF,WACD,iDAOT,UAAC,EAAAuC,WAAW,EAAC1E,KAAMyF,GAAWzF,OAE9B,UAAC,EAAAqG,OAAA,KAAY,EACXzL,MAAM,2BACNrB,KAAK,qBACLyO,MAAO,EAAAuB,wBAAwB,UAE/B,UAAC,EAAA1G,gBAAgB,OAGnB,UAAC,EAAA2G,YAAY,EACX5O,MAAM,2BACNrB,KAAK,QACLiP,gBAAgB,SAChBR,MAAO,EAAAyB,WAAW,CAClBC,IAAK,EACLtB,WAAY,CACVuB,UAAW,AAAAnN,GAAS,IAAQA,GAAOwE,MAAM,CAAC,OAC1C4I,OAAQ,AAAAC,GAAO,IAAQA,GAAKrN,KAAK,IAAM,EACvCmE,KAAM,OACR,EACAzB,MACE,UAAC,EAAAoJ,iBAAiB,EAAC/O,KAAM,CAAC,QAAQ,UAC/B,AAAAuQ,IACC,GAAM,CAAEtL,MAAAA,CAAK,CAAE,CAAGsL,EAClB,GACEtD,EAAmBmB,OAAO,EAAEvJ,8BACxBC,iBACJmI,EAAmBmB,OAAO,EAAEvJ,6BACzBK,gBACH,CACA,GACED,GACA,EACEgI,EAAmBmB,OAAO,CAACvJ,4BAA4B,CACpDC,eAAe,CAACG,KAAK,CAE1B,MACE,UAAC,EAAA4C,UAAA,KAAe,EAAC3F,KAAK,mBAAU,6KAMpC,GACE+C,GACA,GACEgI,EAAmBmB,OAAO,CAACvJ,4BAA4B,CACpDK,eAAe,CAACD,KAAK,CAE1B,MACE,UAAC,EAAA4C,UAAA,KAAe,EAAC3F,KAAK,mBAAU,kLAKtC,CAEA,OAAO,IACT,MAKN,UAAC,EAAA8M,WAAW,EACV3N,MAAM,2BACNrB,KAAK,QACLyO,MAAO,CAAC,CAAEC,SAAU,EAAK,EAAE,GAG7B,WAAC,EAAA5B,OAAA,MAAa,YACZ,UAAC,EAAA0D,qBAAqB,EACpBnP,MAAM,uCACNrB,KAAM,cACNyO,MAAO,CAAC,CAAEC,SAAU,EAAK,EAAE,GAE7B,UAAC,EAAAM,WAAW,EACV3N,MAAM,2BACNrB,KAAM,SACNyO,MAAO,CAAC,CAAEC,SAAU,EAAK,EAAE,GAE7B,UAAC,EAAA+B,eAAe,EAACpP,MAAM,2BAAOrB,KAAK,cAAc4L,MAAO,iBAMpE,8JCpRA,EAd6B,IAEzB,UAAC,EAAA8E,aAAa,EACZpL,MAAM,yDACNqL,QAAQ,kPAER,WAAC,EAAA9N,IAAI,EAACC,SAAQ,GAACkD,IAAI,mBACjB,UAAC,EAAA4K,aAAa,KACd,UAAC,EAAA/E,UAAU,iPCHZ,IAAM+E,EAA0B,KACrC,IAAMC,EAAe,KAAApQ,OAAA,EAAQ,IACpB,CAAC,EAAEqQ,OAAOC,QAAQ,CAACC,MAAM,CAAC,EAAE,EAAE,EAAAC,SAAA,OAAgB,CAAC,CAAC,CAAC,CACvD,EAAE,EAEC,CAACC,EAAkBC,EAAoB,CAAG,KAAAC,QAAA,IAC1CL,EAAW,KAAAM,WAAA,IAEjB,KAAAzM,SAAA,EAAU,KACR,IAAM0M,EAAOP,EAASQ,MAAM,CACzBhH,KAAK,CAAC,GACNtD,KAAK,CAAC,KACNV,IAAI,CAAC,AAAAkD,GAAQA,EAAK6F,UAAU,CAAC,WAC5BkC,QAAQ,QAAS,IAEjBF,GACFH,EAAoBG,EAExB,EAAG,CAACP,EAASQ,MAAM,CAAC,EAEpB,GAAM,EAAG,CAAEE,WAAAA,CAAU,CAAE,CAAC,CAAG,KAAAnR,QAAA,EAAS,EAAAqE,WAAW,EAEzC,CAAE+M,KAAAA,CAAI,CAAEnM,QAAAA,CAAO,CAAE,CAAG,KAAAoM,UAAA,EACxB,UACE,GAAIT,EAAkB,CACpB,MAAM,KAAAU,gBAAA,EAAiB,CAAEN,KAAMJ,CAAiB,GAChDC,EAAoBzO,KAAAA,GACpB,MACF,CAEA,MAAO,KAAAmP,gBAAA,GACT,EACA,CACEC,YAAa,CAACZ,EAAiB,CAC/Ba,UAAUC,CAAE,EACVP,EAAWO,EACb,CACF,GAGIC,EAAkB,KAAAxR,OAAA,EAAQ,KAC9B,IAAM2K,EAAM,IAAIC,IAAI,wDAKpB,OAJAD,EAAIE,YAAY,CAACC,MAAM,CAAC,SAAU,EAAA2G,aAAa,EAC/C9G,EAAIE,YAAY,CAACC,MAAM,CAAC,eAAgBsF,GACxCzF,EAAIE,YAAY,CAACC,MAAM,CAAC,QAAS,EAAA4G,UAAU,EAEpC/G,EAAIhD,IAAI,AACjB,EAAG,EAAE,EACL,MACE,UAAC,EAAA/C,IAAI,EAACE,QAASA,WACZmM,EACC,UAAC,EAAArM,IAAA,KAAS,EACR+M,OAAQ,UAAC,EAAAC,MAAM,EAAC/O,IAAKoO,EAAKY,UAAU,GACpChN,MAAOoM,EAAK1R,IAAI,CAChB8P,YAAY,uGAGd,WAAC,EAAAyC,KAAK,YACJ,UAAC,EAAA1K,UAAA,KAAe,WAAC,iKAGjB,UAAC,EAAA2K,IAAI,EAACnK,OAAO,QAAQoK,GAAIR,WACvB,UAAC,EAAArM,MAAM,EAAC1D,KAAK,mBAAU,yCAMnC,oSChEO,IAAMiB,EAAe,CAC1B,CAAC,EAAAuP,kBAAA,MAAwB,CAAC,CAAE,EAC5B,CAAC,EAAAA,kBAAA,MAAwB,CAAC,CAAE,EAC5B,CAAC,EAAAA,kBAAA,MAAwB,CAAC,CAAE,EAC5B,CAAC,EAAAA,kBAAA,MAAwB,CAAC,CAAE,EAC5B,CAAC,EAAAA,kBAAA,MAAwB,CAAC,CAAE,EAC5B,CAAC,EAAAA,kBAAA,MAAwB,CAAC,CAAE,CAC9B,EAEahP,EAAmB,CAC9B,CAAC,EAAAiP,qBAAA,MAA2B,CAAC,CAAE,EAC/B,CAAC,EAAAA,qBAAA,KAA0B,CAAC,CAAE,EAC9B,CAAC,EAAAA,qBAAA,OAA4B,CAAC,CAAE,EAChC,CAAC,EAAAA,qBAAA,QAA6B,CAAC,CAAE,CACnC,CAGG,GAAAA,qBAAA,MAA2B,CAC3B,EAAAA,qBAAA,KAA0B,CAC1B,EAAAA,qBAAA,OAA4B,CAC5B,EAAAA,qBAAA,QAA6B,CAGzB,IAAMpP,EAAiB,CAC5B,CAAC,EAAAqP,iBAAA,UAA2B,CAAC,CAAE,EAC/B,CAAC,EAAAA,iBAAA,OAAwB,CAAC,CAAE,EAC5B,CAAC,EAAAA,iBAAA,UAA2B,CAAC,CAAE,EAC/B,CAAC,EAAAA,iBAAA,UAA2B,CAAC,CAAE,CACjC,2GCxCO,SAASjS,EAAaC,CAAsB,EACjD,IAAMF,EAAe,KAAAqD,MAAA,EAAuB,MAe5C,MAdA,KAAAa,SAAA,EAAU,KAWRiO,AAVkB,WAChB,GAAIjS,EAAe,CACjB,IAAMkS,EAAS,MAAM,YAAO,CAAC,eAAe,EAAElS,EAAc,KAAK,CAAC,CAAC,gCACpC,WAA3B,OAAOkS,GAAQC,SACbrS,EAAa0N,OAAO,EACtB1N,CAAAA,EAAa0N,OAAO,CAAC1C,KAAK,CAACsH,eAAe,CAAG,CAAC,IAAI,EAAEF,EAAOC,OAAO,CAAC,CAAC,CAAC,AAAD,CAG1E,CACF,IAEF,EAAG,CAACnS,EAAc,EAEX,CACLF,aAAAA,CACF,CACF,sHCnBO,IAAMuS,EAAoB,EAAAC,CAAA,OAAQ,CAAC,CACxChR,KAAM,EAAAgR,CAAA,QAAS,CAAC,SAChBnL,OAAQ,EAAAmL,CAAA,OAAQ,GAChBtL,IAAK,EAAAsL,CAAA,OAAQ,GACbzM,KAAM,EAAAyM,CAAA,OAAQ,GAAG5D,UAAU,CAAC,MAC5BhK,MAAO,EAAA4N,CAAA,OAAQ,GACf/K,QAAS,EAAA+K,CAAA,OAAQ,GAAGC,SAAS,CAAC,AAAAC,GAAKA,AAAI,IAAJA,GACnCzM,YAAa,EAAAuM,CAAA,MAAO,CAAC,EAAAA,CAAA,KAAM,CAAC,CAAC,QAAS,MAAO,SAAU,cAAc,GACrElM,SAAU,EAAAkM,CAAA,OAAQ,EACpB,GAIaG,EAA0B,EAAAH,CAAA,OAAQ,CAAC,CAC9CI,KAAM,EAAAJ,CAAA,OAAQ,GACdK,KAAM,EAAAL,CAAA,OAAQ,GACdM,SAAU,EAAAN,CAAA,OAAQ,GAClBO,WAAY,EAAAP,CAAA,OAAQ,GACpBQ,SAAU,EAAAR,CAAA,OAAQ,GAClBjN,OAAQ,EAAAiN,CAAA,MAAO,CAACD,EAClB,gICpBO,IAAMU,EAA4B,EAAAT,CAAA,OAAQ,CAAC,CAChD1L,eAAgB,EAAA0L,CAAA,YAAa,GAC7B3L,QAAS,EAAA2L,CAAA,OAAQ,CAAC,CAChBlT,KAAM,EAAAkT,CAAA,OAAQ,EAChB,GACA1M,GAAI,EAAA0M,CAAA,OAAQ,GACZjO,MAAO,EAAAiO,CAAA,cAAe,EACxB,GAIaU,EAAmC,EAAAV,CAAA,MAAO,CACrDS,sKCRK,SAASlP,IACd,GAAM,CACJc,QAASpB,CAAmB,CAC5B0P,SAAUxP,CAAoB,CAC9BqN,KAAMnN,CAAY,CAClBC,QAASsP,CAAmB,CAC7B,CAAG,KAAAnC,UAAA,EACF,UACE,GAAI,CACF,IAAMD,EAAO,MAAM,KAAAqC,cAAA,IACnB,OAAO,EAAAV,uBAAA,MAA6B,CAAC3B,EACvC,CAAE,MAAOnD,EAAO,CACdvM,QAAQC,GAAG,CAAC,cAAesM,EAC7B,CAEF,EACA,CACEyF,OAAQ,EACV,GAGI,CACJtC,KAAMpN,CAAc,CACpBiB,QAASrB,CAAqB,CAC9B2P,SAAUzP,CAAsB,CAChCI,QAASyP,CAAqB,CAC/B,CAAG,KAAAtC,UAAA,EACF,UACE,GAAI,CACF,IAAMD,EAAO,MAAM,KAAAwC,iBAAA,EAAkB,CAAEC,SAAU,EAAG,GACpD,OAAO,EAAAP,gCAAA,MAAsC,CAAClC,EAChD,CAAE,MAAOnD,EAAO,CACdvM,QAAQC,GAAG,CAAC,cAAesM,EAC7B,CAEF,EACA,CAAEyF,OAAQ,EAAK,GAQjB,MAAO,CACLzP,aAAAA,EACAJ,oBAAAA,EACAE,qBAAAA,EACAC,eAAAA,EACAJ,sBAAAA,EACAE,uBAAAA,EACAI,QAZc,KAAA4P,WAAA,EAAY,KAC1BH,IACAH,GACF,EAAG,EAAE,CAUL,CACF,iHCxDO,IAAM5K,EAAqB,eAAAmL,OAAA,EAAQ,AAAChS,IACzC,OAAQA,GACN,KAAK,EAAAqQ,kBAAA,MAAwB,CAC3B,MAAO,CAAC,SAAK,SAAK,SAAK,SAAK,SAAK,SAAI,CAACxM,GAAG,CAAC,AAAAoO,GAAO,CAAC,EAAEA,EAAI,QAAC,CAAC,CAC5D,MAAK,EAAA5B,kBAAA,MAAwB,CAC3B,MAAO,CAAC,SAAK,SAAK,SAAK,SAAK,SAAI,CAACxM,GAAG,CAAC,AAAAoO,GAAO,CAAC,EAAEA,EAAI,QAAC,CAAC,CACvD,MAAK,EAAA5B,kBAAA,MAAwB,CAC3B,MAAO,CAAC,SAAK,SAAK,SAAK,SAAI,CAACxM,GAAG,CAAC,AAAAoO,GAAO,CAAC,EAAEA,EAAI,QAAC,CAAC,CAClD,MAAK,EAAA5B,kBAAA,MAAwB,CAC3B,MAAO,CAAC,SAAK,SAAK,SAAI,CAACxM,GAAG,CAAC,AAAAoO,GAAO,CAAC,EAAEA,EAAI,QAAC,CAAC,CAC7C,MAAK,EAAA5B,kBAAA,MAAwB,CAC3B,MAAO,CAAC,SAAK,SAAI,CAACxM,GAAG,CAAC,AAAAoO,GAAO,CAAC,EAAEA,EAAI,QAAC,CAAC,CACxC,MAAK,EAAA5B,kBAAA,MAAwB,CAC3B,MAAO,CAAC,SAAI,CAACxM,GAAG,CAAC,AAAAoO,GAAO,CAAC,EAAEA,EAAI,QAAC,CAAC,CACnC,SACE,MAAO,EAAE,AACb,CACF,sHCjBO,IAAM1J,EAAyB,eAAAyJ,OAAA,EAAQ,AAAChS,IAC7C,OAAQA,GACN,KAAK,EAAAqQ,kBAAA,MAAwB,CAC3B,OAAO,CACT,MAAK,EAAAA,kBAAA,MAAwB,CAC3B,OAAO,CACT,MAAK,EAAAA,kBAAA,MAAwB,CAC3B,OAAO,CACT,MAAK,EAAAA,kBAAA,MAAwB,CAC3B,OAAO,CACT,MAAK,EAAAA,kBAAA,MAAwB,CAC3B,OAAO,CACT,MAAK,EAAAA,kBAAA,MAAwB,CAC3B,OAAO,CACT,SACE,OAAO,CACX,CACF,gICjBO,SAASjG,IACd,GAAM,CAAElH,QAASgH,CAAsB,CAAEsH,SAAUrH,CAAK,CAAE,CAAG,KAAAmF,UAAA,EAC3D,MAAO,QAAEnL,GAAAA,CAAE,CAAEwG,KAAAA,CAAI,CAAyC,GACxD,MAAO,KAAAuH,eAAA,EAAgB,CAAE/N,GAAAA,EAAIwG,KAAAA,CAAK,EACpC,EACA,CACEgH,OAAQ,EACV,GAGF,MAAO,CACLzH,uBAAAA,EACAC,MAAAA,CACF,CACF,gLCTO,SAASI,IACd,GAAM,CAAC,CAAEvM,aAAAA,CAAY,CAAE,CAAC,CAAG,KAAAC,QAAA,EAAS,EAAAC,cAAc,EAC5C,CAAC,CAAEiU,SAAAA,CAAQ,CAAE,CAAC,CAAG,KAAAlU,QAAA,EAAS,EAAA2L,UAAU,EAEpC,CAAE1G,QAASmH,CAAkB,CAAEmH,SAAUlH,CAAgB,CAAE,CAC/D,KAAAgF,UAAA,EACE,MAAO9D,IACL,IAAM4G,EAAgB,KAAAC,oBAAA,EAAqB7G,EAAe,CACxD2G,SAAAA,EACAnU,aAAAA,CACF,GAGA,OAFe,MAAM,KAAAsU,WAAA,EAAYF,EAGnC,EACA,CAAET,OAAQ,EAAK,GAGnB,MAAO,CACLtH,mBAAAA,EACAC,iBAAAA,CACF,CACF,yHC3BO,SAASL,IACd,GAAM,CAAEoF,KAAAA,CAAI,CAAEnM,QAAAA,CAAO,CAAEsO,SAAAA,CAAQ,CAAEe,OAAAA,CAAM,CAAE,CAAG,KAAAjD,UAAA,EAC1C,MAAMnL,GACW,MAAM,KAAA4F,YAAA,EAAa5F,GAIpC,CAAEwN,OAAQ,EAAK,GAGjB,MAAO,CACL9H,UAAWwF,EACXvF,iBAAkB5G,EAClB6G,aAAcyH,EACdxH,aAAcuI,CAChB,CACF,uCChBO,SAAShG,EACd/B,CAA6C,CAC7C8B,CAAgB,EAEZA,AAAa,KAAbA,EACF9B,GAAMK,cAAc,cAAe,CAAC,GAAG,EAEvCL,GAAMK,cAAc,cAAexK,KAAAA,EAEvC,CAEO,SAASyM,EACdtC,CAA6C,CAC7CqC,CAAiB,EAEjB,GACE,AAAoB,UAApB,OAAOA,GACNA,CAAAA,EAASI,UAAU,CAAC,aAAeJ,EAASI,UAAU,CAAC,UAAS,EACjE,CACA,IAAMuF,EAAW,iBAAiBC,IAAI,CAAC,IAAIzJ,IAAI6D,GAAU6F,QAAQ,GAAG,CAAC,EAAE,AAC/C,WAApB,OAAOF,GAAyBA,EAASvF,UAAU,CAAC,OACtDzC,GAAMK,cAAc,KAAM2H,EAE9B,CACF,kNCzBO,IAAM7E,EAAmC,CAC9C,CACE,MAAMX,UAAU/B,CAAC,CAAE0H,CAAK,EACtB,GAAIC,MAAMC,OAAO,CAACF,IAAUA,AAAiB,IAAjBA,EAAMpO,MAAM,OAGtC,MAAM,AAAI8I,MAAM,yDAEpB,CACF,EACA,CAAEhB,SAAU,EAAK,EAClB,CAEYwB,EAAsB,CACjC,CAAExB,SAAU,EAAK,EACjB,CACE,MAAMW,UAAU/B,CAAC,CAAErK,CAAK,EACtB,GAAI,AAAiB,UAAjB,OAAOA,GAAsBkS,OAAOC,SAAS,CAACnS,IAAUA,EAAQ,QAGlE,MAAM,AAAIyM,MAAM,oDAGlB,GAAIzM,GAAS,IACX,MAAM,AAAIyM,MAAM,kIACX,GAAIzM,GAAS,IAClB,MAAM,AAAIyM,MAAM,iIAEpB,CACF,EACD,oCC9BM,SAASgF,EACd1P,CAAc,CACd,CAMC,KAND,CACEwP,SAAAA,CAAQ,CACRnU,aAAAA,CAAY,CAIb,CAND,EAQA,MAAO,CACLmG,GAAIxB,EAAEwB,EAAE,CACRlB,MAAON,EAAEM,KAAK,CACdwK,YAAa9K,EAAE8K,WAAW,CAC1B/H,OAAQ/C,EAAE+C,MAAM,CAChBP,eAAgBxC,EAAEwC,cAAc,EAAEoB,UAClCmH,YAAa/K,EAAE+K,WAAW,CAACnH,OAAO,GAClC3D,MAAOkQ,OAAOnQ,EAAEC,KAAK,EACrB+H,KAAM,CAACwH,CAAQ,CAACxP,EAAEgI,IAAI,CAAC,CAACqI,UAAU,CAAC,CACnCC,YAAatQ,EAAEsQ,WAAW,EAAEpP,IAAI,AAAA8G,GAAQwH,CAAQ,CAACxH,EAAK,CAACqI,UAAU,EACjEE,WAAY,CACVlV,CAAY,CAAC2E,EAAEwQ,kBAAkB,CAAC,EAAE,CAAC5U,aAAa,CAAC,CAACyU,UAAU,CAC/D,CACDI,wBAAyBC,OAAO1Q,EAAEwQ,kBAAkB,CAAC,EAAE,CAACvV,YAAY,EACpE0V,WAAY,CACVtV,CAAY,CAAC2E,EAAEwQ,kBAAkB,CAAC,EAAE,CAAC5U,aAAa,CAAC,CAACyU,UAAU,CAC/D,CACDO,wBAAyBF,OAAO1Q,EAAEwQ,kBAAkB,CAAC,EAAE,CAACvV,YAAY,EACpE4V,WAAY,CACVxV,CAAY,CAAC2E,EAAEwQ,kBAAkB,CAAC,EAAE,CAAC5U,aAAa,CAAC,CAACyU,UAAU,CAC/D,CACDS,wBAAyBJ,OAAO1Q,EAAEwQ,kBAAkB,CAAC,EAAE,CAACvV,YAAY,EACpE8V,WAAY,CACV1V,CAAY,CAAC2E,EAAEwQ,kBAAkB,CAAC,EAAE,CAAC5U,aAAa,CAAC,CAACyU,UAAU,CAC/D,CACDW,wBAAyBN,OAAO1Q,EAAEwQ,kBAAkB,CAAC,EAAE,CAACvV,YAAY,EACpEgW,WAAY,CACV5V,CAAY,CAAC2E,EAAEwQ,kBAAkB,CAAC,EAAE,CAAC5U,aAAa,CAAC,CAACyU,UAAU,CAC/D,CACDa,wBAAyBR,OAAO1Q,EAAEwQ,kBAAkB,CAAC,EAAE,CAACvV,YAAY,EACpEkW,qBAAsBnR,EAAEwQ,kBAAkB,CACvCtP,GAAG,CAAC,CAACuD,EAAMqB,IAAWrB,EAAKoB,cAAc,CAAG,CAAC,EAAEC,EAAQ,EAAE,CAAC,CAAG,MAC7DR,MAAM,CAAC,AAAC8L,GAAmB,AAAa,UAAb,OAAOA,EACvC,CACF,gGC9CO,SAAS/P,EAAUf,CAAa,EACrC,OAAOA,EACJkM,OAAO,CAAC,6BAAU,IAClBA,OAAO,CAAC,uCAAU,IAClBA,OAAO,CAAC,2BAAQ,IAChBA,OAAO,CAAC,eAAM,IACdA,OAAO,CAAC,WAAY,GACzB,sICAO,IAAM7M,EAAc,cAAA0R,KAAA,EAAmB,UAAUC,MAAM,CAAC,CAC7DC,MAAO,CACLC,QAAS9T,KAAAA,CACX,EACA+T,SAAU,CACR/R,QAAS,AAAA6R,GAAS,AAA+B,UAA/B,OAAOA,EAAMC,OAAO,EAAExW,IAC1C,EACA0W,QAAS,CAAC,CACZ,kLCVO,SAAStU,EACduU,CAA2B,CAC3BtU,CAA0B,EAE1B,OAAQA,GACN,KAAK,EAAAqQ,kBAAA,MAAwB,CAC3B,MAAO,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAE,CAACkE,EAAE,CAACD,EAAsB,EACrD,MAAK,EAAAjE,kBAAA,MAAwB,CAC3B,MAAO,CAAC,EAAG,EAAG,EAAG,EAAG,EAAE,CAACkE,EAAE,CAACD,EAAsB,EAClD,MAAK,EAAAjE,kBAAA,MAAwB,CAC3B,MAAO,CAAC,EAAG,EAAG,EAAG,EAAE,CAACkE,EAAE,CAACD,EAAsB,EAC/C,MAAK,EAAAjE,kBAAA,MAAwB,CAC3B,MAAO,CAAC,EAAG,EAAG,EAAE,CAACkE,EAAE,CAACD,EAAsB,EAC5C,MAAK,EAAAjE,kBAAA,MAAwB,CAC3B,MAAO,CAAC,EAAG,EAAE,CAACkE,EAAE,CAACD,EAAsB,EACzC,MAAK,EAAAjE,kBAAA,MAAwB,CAC3B,MAAO,CAAC,EAAE,CAACkE,EAAE,CAACD,EAAsB,EACtC,SACE,OAAO,CACX,CACF,CAEO,SAASE,EACdC,CAA0C,CAC1CC,CAAmC,CACnCzJ,CAAsD,SAEtD,AAAKyJ,EAGE,KAAA/L,OAAA,EAAQ8L,EAAW,AAAA7L,IACxB,IAAK,GAAM,CACT+L,wBAAAA,CAAuB,CACvBC,oBAAAA,CAAmB,CACnB9U,aAAAA,CAAY,CACb,GAAI4U,EAECC,EAG+B,UAA/B,OAAOC,GACPA,GAAuB,GAIvBhM,CAAAA,CAAK,CAAC9I,EAAa,CAAClC,YAAY,CAAGiX,KAAKC,GAAG,CACzCF,EAAsB,EACtB,EAAC,EAKL,OAAOhM,CAAK,CAAC9I,EAAa,AAGhC,GA3BS2U,CA4BX,0HC7DO,IAAM5E,EAAgB,uBAEhBC,EAAa"}