"use strict";(globalThis.webpackChunk_sinsa_web=globalThis.webpackChunk_sinsa_web||[]).push([[8780],{34020:(n,e,r)=>{r.d(e,{Z:()=>u});var t=r(87608),o=r.n(t),i=(r(87363),r(9122)),c=r(37708),l=r(42526),s=function(n){var e,r,t=n.componentCls,o=n.antCls;return(0,c.Z)({},"".concat(t,"-actions"),(r={marginBlock:0,marginInline:0,paddingBlock:0,paddingInline:0,listStyle:"none",display:"flex",gap:n.marginXS,background:n.colorBgContainer,borderBlockStart:"".concat(n.lineWidth,"px ").concat(n.lineType," ").concat(n.colorSplit),minHeight:42},(0,c.Z)(r,"& > *",{alignItems:"center",justifyContent:"center",flex:1,display:"flex",cursor:"pointer",color:n.colorTextSecondary,transition:"color 0.3s","&:hover":{color:n.colorPrimaryHover}}),(0,c.Z)(r,"& > li > div",{flex:1,width:"100%",marginBlock:n.marginSM,marginInline:0,color:n.colorTextSecondary,textAlign:"center",a:{color:n.colorTextSecondary,transition:"color 0.3s","&:hover":{color:n.colorPrimaryHover}},div:(e={position:"relative",display:"block",minWidth:32,fontSize:n.fontSize,lineHeight:n.lineHeight,cursor:"pointer","&:hover":{color:n.colorPrimaryHover,transition:"color 0.3s"}},(0,c.Z)(e,"a:not(".concat(o,"-btn),\n            > .anticon"),{display:"inline-block",width:"100%",color:n.colorTextSecondary,lineHeight:"22px",transition:"color 0.3s","&:hover":{color:n.colorPrimaryHover}}),(0,c.Z)(e,".anticon",{fontSize:n.cardActionIconSize,lineHeight:"22px"}),e),"&:not(:last-child)":{borderInlineEnd:"".concat(n.lineWidth,"px ").concat(n.lineType," ").concat(n.colorSplit)}}),r))};var a=r(97458);const u=function(n){var e=n.actions,r=n.prefixCls,t=function(n){return(0,l.Xj)("ProCardActions",(function(e){var r=(0,i.Z)((0,i.Z)({},e),{},{componentCls:".".concat(n),cardActionIconSize:16});return[s(r)]}))}(r),c=t.wrapSSR,u=t.hashId;return Array.isArray(e)&&null!=e&&e.length?c((0,a.jsx)("ul",{className:o()("".concat(r,"-actions"),u),children:e.map((function(n,t){return(0,a.jsx)("li",{style:{width:"".concat(100/e.length,"%"),padding:0,margin:0},className:o()("".concat(r,"-actions-item"),u),children:n},"action-".concat(t))}))})):c((0,a.jsx)("ul",{className:o()("".concat(r,"-actions"),u),children:e}))}},77811:(n,e,r)=>{r.d(e,{U9:()=>A,L0:()=>H,bg:()=>M});var t=r(37708),o=r(9122),i=r(78884),c=r(38080),l=r(31395),s=r(76656),a=r(17944),u=r(71610),d=r(35173),m=r(77705),p=r(20296),f=r(81821),h=r(87608),v=r.n(h),x=r(12895),g=r(26308),y=r(87363),Z=r.n(y),C=r(36490),S=r(15370),b=r(5827),R=r(97458),j=["onFinish","step","formRef","title","stepProps"];const F=function(n){var e=(0,y.useRef)(),r=(0,y.useContext)(M),t=(0,y.useContext)(A),l=(0,o.Z)((0,o.Z)({},n),t),s=l.onFinish,u=l.step,d=l.formRef,m=(l.title,l.stepProps,(0,a.Z)(l,j));return(0,S.ET)(!m.submitter,"StepForm \u4e0d\u5305\u542b\u63d0\u4ea4\u6309\u94ae\uff0c\u8bf7\u5728 StepsForm \u4e0a"),(0,y.useImperativeHandle)(d,(function(){return e.current}),[null==d?void 0:d.current]),(0,y.useEffect)((function(){if(l.name||l.step){var n=(l.name||l.step).toString();return null==r||r.regForm(n,l),function(){null==r||r.unRegForm(n)}}}),[]),r&&null!=r&&r.formArrayRef&&(r.formArrayRef.current[u||0]=e),(0,R.jsx)(b.I,(0,o.Z)({formRef:e,onFinish:function(){var n=(0,c.Z)((0,i.Z)().mark((function n(e){return(0,i.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(m.name&&(null==r||r.onFormFinish(m.name,e)),!s){n.next=9;break}return null==r||r.setLoading(!0),n.next=5,null==s?void 0:s(e);case 5:return n.sent&&(null==r||r.next()),null==r||r.setLoading(!1),n.abrupt("return");case 9:null!=r&&r.lastStep||null==r||r.next();case 10:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),onInit:function(n,t){var o;e.current=t,r&&null!=r&&r.formArrayRef&&(r.formArrayRef.current[u||0]=e),null==m||null===(o=m.onInit)||void 0===o||o.call(m,n,t)},layout:"vertical"},(0,C.Z)(m,["layoutType","columns"])))};var k=r(42526),P=function(n){return(0,t.Z)({},n.componentCls,{"&-container":{width:"max-content",minWidth:"420px",maxWidth:"100%",margin:"auto"},"&-steps-container":(0,t.Z)({maxWidth:"1160px",margin:"auto"},"".concat(n.antCls,"-steps-vertical"),{height:"100%"}),"&-step":{display:"none",marginBlockStart:"32px","&-active":{display:"block"},"> form":{maxWidth:"100%"}}})};var w=["current","onCurrentChange","submitter","stepsFormRender","stepsRender","stepFormRender","stepsProps","onFinish","formProps","containerStyle","formRef","formMapRef","layoutRender"],M=Z().createContext(void 0),I={horizontal:function(n){var e=n.stepsDom,r=n.formDom;return(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)(f.Row,{gutter:{xs:8,sm:16,md:24},children:(0,R.jsx)(f.Col,{span:24,children:e})}),(0,R.jsx)(f.Row,{gutter:{xs:8,sm:16,md:24},children:(0,R.jsx)(f.Col,{span:24,children:r})})]})},vertical:function(n){var e=n.stepsDom,r=n.formDom;return(0,R.jsxs)(f.Row,{align:"stretch",wrap:!0,gutter:{xs:8,sm:16,md:24},children:[(0,R.jsx)(f.Col,{xxl:4,xl:6,lg:7,md:8,sm:10,xs:12,children:Z().cloneElement(e,{style:{height:"100%"}})}),(0,R.jsx)(f.Col,{children:(0,R.jsx)("div",{style:{display:"flex",alignItems:"center",width:"100%",height:"100%"},children:r})})]})}},A=Z().createContext(null);function B(n){var e=(0,(0,y.useContext)(f.ConfigProvider.ConfigContext).getPrefixCls)("pro-steps-form"),r=function(n){return(0,k.Xj)("StepsForm",(function(e){var r=(0,o.Z)((0,o.Z)({},e),{},{componentCls:".".concat(n)});return[P(r)]}))}(e),h=r.wrapSSR,C=r.hashId,S=(n.current,n.onCurrentChange,n.submitter),b=n.stepsFormRender,j=n.stepsRender,F=n.stepFormRender,B=n.stepsProps,H=n.onFinish,T=n.formProps,W=n.containerStyle,z=n.formRef,D=n.formMapRef,N=n.layoutRender,E=(0,a.Z)(n,w),_=(0,y.useRef)(new Map),L=(0,y.useRef)(new Map),J=(0,y.useRef)([]),X=(0,y.useState)([]),Y=(0,s.Z)(X,2),U=Y[0],V=Y[1],q=(0,y.useState)(!1),G=(0,s.Z)(q,2),K=G[0],O=G[1],Q=(0,u.YB)(),$=(0,g.Z)(0,{value:n.current,onChange:n.onCurrentChange}),nn=(0,s.Z)($,2),en=nn[0],rn=nn[1],tn=(0,y.useMemo)((function(){return I[(null==B?void 0:B.direction)||"horizontal"]}),[null==B?void 0:B.direction]),on=(0,y.useMemo)((function(){return en===U.length-1}),[U.length,en]),cn=(0,y.useCallback)((function(n,e){L.current.has(n)||V((function(e){return[].concat((0,l.Z)(e),[n])})),L.current.set(n,e)}),[]),ln=(0,y.useCallback)((function(n){V((function(e){return e.filter((function(e){return e!==n}))})),L.current.delete(n),_.current.delete(n)}),[]);(0,y.useImperativeHandle)(D,(function(){return J.current}),[J.current]),(0,y.useImperativeHandle)(z,(function(){var n;return null===(n=J.current[en||0])||void 0===n?void 0:n.current}),[en,J.current]);var sn=(0,y.useCallback)(function(){var n=(0,c.Z)((0,i.Z)().mark((function n(e,r){var t;return(0,i.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(_.current.set(e,r),on&&H){n.next=3;break}return n.abrupt("return");case 3:return O(!0),t=d.T.apply(void 0,[{}].concat((0,l.Z)(Array.from(_.current.values())))),n.prev=5,n.next=8,H(t);case 8:n.sent&&(rn(0),J.current.forEach((function(n){var e;return null===(e=n.current)||void 0===e?void 0:e.resetFields()}))),n.next=15;break;case 12:n.prev=12,n.t0=n.catch(5),console.log(n.t0);case 15:return n.prev=15,O(!1),n.finish(15);case 18:case"end":return n.stop()}}),n,null,[[5,12,15,18]])})));return function(e,r){return n.apply(this,arguments)}}(),[on,H,O,rn]),an=(0,y.useMemo)((function(){var n=(0,m.n)(f.version,"4.24.0")>-1,r=n?{items:U.map((function(n){var e=L.current.get(n);return(0,o.Z)({key:n,title:null==e?void 0:e.title},null==e?void 0:e.stepProps)}))}:{};return(0,R.jsx)("div",{className:"".concat(e,"-steps-container ").concat(C).trim(),style:{maxWidth:Math.min(320*U.length,1160)},children:(0,R.jsx)(f.Steps,(0,o.Z)((0,o.Z)((0,o.Z)({},B),r),{},{current:en,onChange:void 0,children:!n&&U.map((function(n){var e=L.current.get(n);return(0,R.jsx)(f.Steps.Step,(0,o.Z)({title:null==e?void 0:e.title},null==e?void 0:e.stepProps),n)}))}))})}),[U,C,e,en,B]),un=(0,p.J)((function(){var n;null===(n=J.current[en].current)||void 0===n||n.submit()})),dn=(0,p.J)((function(){en<1||rn(en-1)})),mn=(0,y.useMemo)((function(){return!1!==S&&(0,R.jsx)(f.Button,(0,o.Z)((0,o.Z)({type:"primary",loading:K},null==S?void 0:S.submitButtonProps),{},{onClick:function(){var n;null==S||null===(n=S.onSubmit)||void 0===n||n.call(S),un()},children:Q.getMessage("stepsForm.next","\u4e0b\u4e00\u6b65")}),"next")}),[Q,K,un,S]),pn=(0,y.useMemo)((function(){return!1!==S&&(0,R.jsx)(f.Button,(0,o.Z)((0,o.Z)({},null==S?void 0:S.resetButtonProps),{},{onClick:function(){var n;dn(),null==S||null===(n=S.onReset)||void 0===n||n.call(S)},children:Q.getMessage("stepsForm.prev","\u4e0a\u4e00\u6b65")}),"pre")}),[Q,dn,S]),fn=(0,y.useMemo)((function(){return!1!==S&&(0,R.jsx)(f.Button,(0,o.Z)((0,o.Z)({type:"primary",loading:K},null==S?void 0:S.submitButtonProps),{},{onClick:function(){var n;null==S||null===(n=S.onSubmit)||void 0===n||n.call(S),un()},children:Q.getMessage("stepsForm.submit","\u63d0\u4ea4")}),"submit")}),[Q,K,un,S]),hn=(0,p.J)((function(){en>U.length-2||rn(en+1)})),vn=(0,y.useMemo)((function(){var n=[],e=en||0;if(e<1?1===U.length?n.push(fn):n.push(mn):e+1===U.length?n.push(pn,fn):n.push(pn,mn),n=n.filter(Z().isValidElement),S&&S.render){var r,t={form:null===(r=J.current[en])||void 0===r?void 0:r.current,onSubmit:un,step:en,onPre:dn};return S.render(t,n)}return S&&!1===(null==S?void 0:S.render)?null:n}),[U.length,mn,un,pn,dn,en,fn,S]),xn=(0,y.useMemo)((function(){return(0,x.Z)(n.children).map((function(n,r){var i=n.props,c=i.name||"".concat(r),l=en===r,s=l?{contentRender:F,submitter:!1}:{};return(0,R.jsx)("div",{className:v()("".concat(e,"-step"),C,(0,t.Z)({},"".concat(e,"-step-active"),l)),children:(0,R.jsx)(A.Provider,{value:(0,o.Z)((0,o.Z)((0,o.Z)((0,o.Z)({},s),T),i),{},{name:c,step:r}),children:n})},c)}))}),[T,C,e,n.children,en,F]),gn=(0,y.useMemo)((function(){return j?j(U.map((function(n){var e;return{key:n,title:null===(e=L.current.get(n))||void 0===e?void 0:e.title}})),an):an}),[U,an,j]),yn=(0,y.useMemo)((function(){return(0,R.jsxs)("div",{className:"".concat(e,"-container ").concat(C).trim(),style:W,children:[xn,b?null:(0,R.jsx)(f.Space,{children:vn})]})}),[W,xn,C,e,b,vn]),Zn=(0,y.useMemo)((function(){var n={stepsDom:gn,formDom:yn};return b?b(N?N(n):tn(n),vn):N?N(n):tn(n)}),[gn,yn,tn,b,vn,N]);return h((0,R.jsx)("div",{className:v()(e,C),children:(0,R.jsx)(f.Form.Provider,(0,o.Z)((0,o.Z)({},E),{},{children:(0,R.jsx)(M.Provider,{value:{loading:K,setLoading:O,regForm:cn,keyArray:U,next:hn,formArrayRef:J,formMapRef:L,lastStep:on,unRegForm:ln,onFormFinish:sn},children:Zn})}))}))}function H(n){return(0,R.jsx)(u._Y,{needDeps:!0,children:(0,R.jsx)(B,(0,o.Z)({},n))})}H.StepForm=F,H.useForm=f.Form.useForm}}]);