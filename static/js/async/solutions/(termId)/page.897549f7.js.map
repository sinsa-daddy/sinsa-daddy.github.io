{"version":3,"file":"static/js/async/solutions/(termId)/page.897549f7.js","sources":["webpack://@sinsa/web/./src/components/ExcludeAurorianFormList/index.tsx","webpack://@sinsa/web/./src/components/ExcludeAurorianFormList/utils.ts","webpack://@sinsa/web/./src/components/SolutionCard/CopilotBlock/constants.ts","webpack://@sinsa/web/./src/components/SolutionCard/CopilotBlock/index.tsx","webpack://@sinsa/web/./src/components/SolutionCard/helpers.ts","webpack://@sinsa/web/./src/components/SolutionCard/index.tsx","webpack://@sinsa/web/./src/components/TermChanger.tsx","webpack://@sinsa/web/./src/components/TermNotFound.tsx","webpack://@sinsa/web/./src/routes/solutions/[termId]/page.tsx","webpack://@sinsa/web/./src/services/get-reruns.ts","webpack://@sinsa/web/./src/services/real-random-rules.ts","webpack://@sinsa/web/./src/services/real-random.ts","webpack://@sinsa/web/./src/views/SolutionView/QueryForm/constants.ts","webpack://@sinsa/web/./src/views/SolutionView/QueryForm/hooks/use-initial-values.ts","webpack://@sinsa/web/./src/views/SolutionView/QueryForm/index.tsx","webpack://@sinsa/web/./src/views/SolutionView/SolutionAlert/constants.tsx","webpack://@sinsa/web/./src/views/SolutionView/SolutionAlert/index.tsx","webpack://@sinsa/web/./src/views/SolutionView/SolutionListView/index.tsx","webpack://@sinsa/web/./src/views/SolutionView/index.tsx"],"sourcesContent":["import {\n  ProForm,\n  ProFormDependency,\n  ProFormList,\n  ProFormRate,\n  ProFormSwitch,\n} from '@ant-design/pro-components';\nimport { useModel } from '@modern-js/runtime/model';\nimport { Button, Select, Tooltip } from 'antd';\nimport { Delete } from '@icon-park/react';\nimport { AdaptiveAurorianCard } from '../AdaptiveAurorianCard';\nimport { ensureExcludeKey } from './utils';\nimport { AuroriansModel, filterAuroriansOption } from '@/models/aurorians';\n\ninterface ExcludeFormListProps {\n  name: string;\n}\n\nexport const ExcludeAurorianFormList: React.FC<ExcludeFormListProps> = ({\n  name,\n  ...props\n}) => {\n  const [{ auroriansOptions, auroriansMap }] = useModel(AuroriansModel);\n\n  return (\n    <ProFormList\n      {...props}\n      creatorButtonProps={{\n        creatorButtonText: '添加排除的光灵',\n      }}\n      name={name}\n      alwaysShowItemLabel\n      actionRender={(field, action) => [\n        <Tooltip key=\"delete\" title=\"删除此光灵\">\n          <Button\n            style={{ marginLeft: '.5rem' }}\n            icon={<Delete />}\n            onClick={e => {\n              e.stopPropagation();\n              action.remove(field.name);\n            }}\n          />\n        </Tooltip>,\n      ]}\n    >\n      {() => {\n        return (\n          <ProForm.Group>\n            <ProForm.Item\n              label=\"排除的光灵\"\n              name={ensureExcludeKey('aurorianId')}\n              rules={[{ required: true }]}\n            >\n              <Select\n                options={auroriansOptions}\n                showSearch\n                allowClear={false}\n                placeholder={'支持按拼音搜索光灵, 比如 ad 可以搜到 安顿'}\n                filterOption={filterAuroriansOption}\n              />\n            </ProForm.Item>\n            <ProFormDependency name={[ensureExcludeKey('aurorianId')]}>\n              {({ aurorianId }) => {\n                if (aurorianId) {\n                  return (\n                    <AdaptiveAurorianCard\n                      readOnly\n                      mini\n                      aurorianId={aurorianId}\n                    />\n                  );\n                }\n                return null;\n              }}\n            </ProFormDependency>\n            <ProFormDependency name={[ensureExcludeKey('aurorianId')]}>\n              {({ aurorianId }) => {\n                if (aurorianId) {\n                  return (\n                    <ProFormSwitch\n                      label=\"仅排除突破\"\n                      name={ensureExcludeKey('excludeBreakthroughOnly')}\n                    />\n                  );\n                }\n                return null;\n              }}\n            </ProFormDependency>\n\n            <ProFormDependency\n              name={[\n                ensureExcludeKey('aurorianId'),\n                ensureExcludeKey('excludeBreakthroughOnly'),\n              ]}\n            >\n              {({ aurorianId, excludeBreakthroughOnly }) => {\n                const targetAurorian = auroriansMap[aurorianId];\n                if (excludeBreakthroughOnly && targetAurorian) {\n                  return (\n                    <ProFormRate\n                      name={ensureExcludeKey('excludeBreakthrough')}\n                      label=\"排除突破数\"\n                      fieldProps={{\n                        count: targetAurorian.rarity,\n                        allowHalf: false,\n                      }}\n                      tooltip=\"大于等于此突破数的光灵会被排除，但不会排除零破的此光灵\"\n                      rules={[{ required: true }]}\n                    />\n                  );\n                }\n                return null;\n              }}\n            </ProFormDependency>\n          </ProForm.Group>\n        );\n      }}\n    </ProFormList>\n  );\n};\n","import type { ExcludeDataType } from '@/views/SolutionView/schemas/query-params';\n\nexport function ensureExcludeKey(key: keyof ExcludeDataType) {\n  return key;\n}\n","import type { CopilotNextAssetType } from '@sinsa/schema';\n\nexport const AssetTypeTextMapper: Record<CopilotNextAssetType['type'], string> =\n  {\n    script33: '三十三号脚本',\n  };\n","import { clsx } from 'clsx';\nimport {\n  Button,\n  Dropdown,\n  Flex,\n  Popconfirm,\n  Space,\n  Tag,\n  Tooltip,\n  Typography,\n} from 'antd';\nimport React, { useCallback, useMemo } from 'react';\nimport numeral from 'numeral';\nimport { useBreakpoint } from '@ant-design/pro-components';\nimport {\n  MessageOne,\n  More,\n  Paperclip,\n  PreviewCloseOne,\n  Bug,\n  Caution,\n} from '@icon-park/react';\nimport type {\n  AurorianNextType,\n  CopilotNextType,\n  TermNextType,\n} from '@sinsa/schema';\nimport { AdaptiveAuroriansTeam } from './AdaptiveAuroriansTeam';\nimport styles from './styles.module.less';\nimport { AssetTypeTextMapper } from './constants';\nimport { RelativeTimeText } from '@/components/RelativeTimeText';\nimport { trimTitle } from '@/components/utils';\nimport { useSolutionResultContext } from '@/views/SolutionView/context';\nimport { QueryFormAction } from '@/views/SolutionView/hooks/use-trigger-form-action/constants';\nimport { realRandomService } from '@/services/real-random';\n\ninterface CopilotBlockProps {\n  copilot: CopilotNextType;\n  currentTerm: TermNextType;\n  className?: string;\n\n  readOnly?: boolean;\n}\n\nenum MenuKey {\n  IgnoreCopilot = 'IgnoreCopilot',\n}\n\nfunction useLarge() {\n  const screen = useBreakpoint();\n  const isLarge = useMemo(\n    () => screen === 'lg' || screen === 'xl' || screen === 'xxl',\n    [screen],\n  );\n\n  return isLarge;\n}\n\nexport const CopilotBlock = React.memo<CopilotBlockProps>(\n  ({ copilot, currentTerm, className, readOnly }) => {\n    const isLarge = useLarge();\n    const hasAsset = useMemo(() => {\n      return Array.isArray(copilot.assets);\n    }, [copilot.assets]);\n\n    const displayTitle = useMemo(\n      () => trimTitle(copilot.title),\n      [copilot.title],\n    );\n\n    const { triggerFormAction } = useSolutionResultContext();\n\n    const handleClickMenu = useCallback(\n      (info: { key: string }) => {\n        switch (info.key) {\n          case MenuKey.IgnoreCopilot:\n            triggerFormAction({\n              type: QueryFormAction.IgnoreCopilot,\n              copilot,\n            });\n            break;\n          default:\n            break;\n        }\n      },\n      [copilot.copilot_id],\n    );\n\n    const handleReplace = useCallback(\n      (_aurorian: AurorianNextType) => {\n        triggerFormAction({\n          type: QueryFormAction.ReplaceAurorian,\n          aurorian: _aurorian,\n          copilot,\n          currentTerm,\n        });\n      },\n      [copilot.copilot_id, currentTerm.term_id],\n    );\n\n    const realRandomResult = useMemo(() => {\n      return realRandomService.isRealRandom(copilot);\n    }, [copilot.copilot_id]);\n\n    return (\n      <div className={clsx(styles.CopilotBlock, className)}>\n        <AdaptiveAuroriansTeam\n          aurorianRequirements={copilot.aurorian_requirements}\n          readOnly={readOnly}\n          onReplace={handleReplace}\n        />\n        <div className={styles.PaddingContainer}>\n          <Flex className={styles.Header} wrap=\"nowrap\" align=\"center\">\n            <span className={styles.Score}>\n              {numeral(copilot.score).format('0,0')}\n            </span>\n            <Flex className={styles.Author} align=\"center\" gap={4}>\n              <Space.Compact size=\"small\">\n                {!readOnly ? (\n                  <Dropdown\n                    menu={{\n                      items: [\n                        {\n                          key: MenuKey.IgnoreCopilot,\n                          label: (\n                            <span>\n                              <PreviewCloseOne /> 排除此作业\n                            </span>\n                          ),\n                        },\n                      ],\n                      onClick: handleClickMenu,\n                    }}\n                  >\n                    <Button icon={<More />} />\n                  </Dropdown>\n                ) : null}\n\n                <Button\n                  icon={\n                    <Tooltip title=\"报告收录错误\">\n                      <Bug />\n                    </Tooltip>\n                  }\n                  onClick={e => {\n                    e.stopPropagation();\n                    const params = {\n                      有收录问题的作业所在荒典期数: copilot.term_id,\n                      有收录问题的作业视频链接: `${copilot.author_name} ${copilot.title} https://www.bilibili.com/video/${copilot.href}`,\n                    };\n\n                    const queryString = Object.entries(params)\n                      .map(\n                        ([key, value]) =>\n                          `prefill_${window.encodeURIComponent(\n                            key,\n                          )}=${window.encodeURIComponent(value)}`,\n                      )\n                      .join('&');\n                    window.open(\n                      `https://fwf92qm5h53.feishu.cn/share/base/form/shrcnFMYfIOulCFwcl5ELDfGCVf?${queryString}`,\n                      '_blank',\n                    );\n                  }}\n                />\n              </Space.Compact>\n              <RelativeTimeText time={copilot.upload_time} />\n\n              {copilot.description && !isLarge ? (\n                <Tooltip title={copilot.description}>\n                  {copilot.description ? <MessageOne size={18} /> : null}\n                </Tooltip>\n              ) : null}\n\n              <span\n                className={clsx(\n                  styles.AuthorName,\n                  !isLarge && styles.AuthorSmall,\n                )}\n              >\n                {copilot.author_name}\n              </span>\n            </Flex>\n          </Flex>\n          <div className={styles.Title}>\n            <Typography.Link\n              href={`https://www.bilibili.com/video/${copilot.href}`}\n              target=\"_blank\"\n              className={clsx(\n                realRandomResult.isRealRandomResult && styles.NotWritableTitle,\n              )}\n              title={copilot.title}\n              ellipsis={true}\n              onClick={e => {\n                e.stopPropagation();\n                window.browserClient.sendEvent?.({\n                  name: 'go_to_copilot',\n                  metrics: {\n                    score: copilot.score,\n                  },\n                  categories: {\n                    copilot_source: copilot.source_type,\n                    author: copilot.author_id,\n                    author_name: copilot.author_name,\n                    term_id: copilot.term_id,\n                    href: copilot.href,\n                    copilot_id: copilot.copilot_id,\n                    title: copilot.title,\n                  },\n                });\n              }}\n            >\n              {currentTerm?.term_id &&\n              copilot.term_id !== currentTerm.term_id ? (\n                <Tooltip title={`复刻 ${copilot.term_id} 期荒典`}>\n                  <Tag color=\"red\">复刻</Tag>\n                </Tooltip>\n              ) : null}\n              {displayTitle}\n            </Typography.Link>\n          </div>\n          {realRandomResult.isRealRandomResult ? (\n            <>\n              <Typography.Text type=\"secondary\" strong>\n                <Caution /> 此作业抄不了：\n                <Tooltip\n                  title={realRandomResult.stack.map(i => i.reason).join('、')}\n                >\n                  <span className={styles.ReasonText}>查看原因</span>\n                </Tooltip>{' '}\n                <Typography.Link\n                  onClick={e => {\n                    e.stopPropagation();\n                    handleClickMenu({\n                      key: MenuKey.IgnoreCopilot,\n                    });\n                  }}\n                >\n                  排除此作业\n                </Typography.Link>\n              </Typography.Text>\n            </>\n          ) : null}\n          {copilot.description && isLarge ? (\n            <Typography.Paragraph type=\"secondary\">\n              {copilot.description}\n            </Typography.Paragraph>\n          ) : null}\n          {hasAsset && isLarge\n            ? copilot.assets?.map((asset, index) => (\n                <Popconfirm\n                  // eslint-disable-next-line react/no-array-index-key\n                  key={`${asset.type}${index}`}\n                  okText=\"确认\"\n                  title=\"此资源仅为临时存档。是否开始下载？\"\n                  onConfirm={() => {\n                    const el = document.createElement('a');\n                    el.href = asset.script33.link;\n                    el.click();\n                  }}\n                >\n                  <Typography.Link>\n                    <Paperclip /> {AssetTypeTextMapper[asset.type]}\n                    存档\n                  </Typography.Link>\n                </Popconfirm>\n              ))\n            : null}\n        </div>\n      </div>\n    );\n  },\n  (prev, next) =>\n    prev.className === next.className &&\n    prev.copilot.copilot_id === next.copilot.copilot_id &&\n    prev.currentTerm.term_id === next.currentTerm.term_id,\n);\n","import { memoize } from 'lodash-es';\n\nexport const getSolutionTitle = memoize((k?: number): string => {\n  switch (k) {\n    case 1:\n      return '一队方案';\n    case 2:\n      return '两队方案';\n    case 3:\n      return '三队方案';\n    case 4:\n      return '四队方案';\n    default:\n      return '匹配方案';\n  }\n});\n","import type { Solution } from '@sinsa/solution-calculator/dist/types/types';\nimport { Card, Typography } from 'antd';\nimport React, { useMemo } from 'react';\nimport { isEqual } from 'lodash-es';\nimport numeral from 'numeral';\nimport type { CopilotNextType, TermNextType } from '@sinsa/schema';\nimport { CopilotBlock } from './CopilotBlock';\nimport styles from './styles.module.less';\nimport { getSolutionTitle } from './helpers';\n\nconst copilotRowKey = (c: CopilotNextType) => c.copilot_id;\n\nexport interface SolutionCardProps {\n  solution: Solution;\n  currentTerm: TermNextType;\n  index: number;\n}\n\nexport const SolutionCard = React.memo<SolutionCardProps>(\n  ({ solution, currentTerm, index }) => {\n    const sorted = useMemo(() => {\n      return [...solution.copilots].sort((a, b) => b.score - a.score);\n    }, [solution]);\n\n    return (\n      <Card className={styles.SolutionCard} bodyStyle={{ paddingBottom: 16 }}>\n        <div className={styles.TotalScore}>\n          <Typography.Text strong>{`#${index + 1} ${getSolutionTitle(\n            solution.copilots.length,\n          )} ${numeral(solution.totalScore).format('0,0')}`}</Typography.Text>\n        </div>\n\n        {sorted.map(copilot => {\n          return (\n            <CopilotBlock\n              className={styles.ControlledCopilotBlock}\n              key={copilotRowKey(copilot)}\n              copilot={copilot}\n              currentTerm={currentTerm}\n            />\n          );\n        })}\n      </Card>\n    );\n  },\n  (prev, next) =>\n    isEqual(\n      prev.solution.copilots.map(c => c.copilot_id),\n      next.solution.copilots.map(c => c.copilot_id),\n    ) &&\n    prev.currentTerm.term_id === next.currentTerm.term_id &&\n    prev.index === next.index,\n);\n","import { useModel } from '@modern-js/runtime/model';\nimport { Select } from 'antd';\nimport { useNavigate, useParams } from '@modern-js/runtime/router';\nimport { useMemo } from 'react';\nimport { TermsModel } from '@/models/terms';\nimport type { RoutePath } from '@/views/GlobalLayout/constants';\n\nexport function useTargetTermFromParams() {\n  const params = useParams<{ termId: string | 'latest' }>();\n  const [{ termsMap, latestTerm }] = useModel(TermsModel);\n\n  const targetTerm = useMemo(() => {\n    if (!params.termId) {\n      return undefined;\n    }\n    return params.termId === 'latest' ? latestTerm : termsMap[params.termId];\n  }, [params.termId, latestTerm?.term_id]);\n\n  return {\n    targetTerm,\n  };\n}\n\nexport const TermChanger: React.FC<{\n  pathFn: typeof RoutePath.Copilots | typeof RoutePath.Solutions;\n}> = ({ pathFn }) => {\n  const [terms] = useModel(TermsModel);\n  const { targetTerm } = useTargetTermFromParams();\n  const navigate = useNavigate();\n\n  return (\n    <Select\n      value={targetTerm?.term_id}\n      options={terms.termsOptions}\n      placeholder=\"荒典期数\"\n      onChange={nextTerm => {\n        navigate(\n          pathFn(nextTerm === terms.latestTerm?.term_id ? 'latest' : nextTerm),\n        );\n      }}\n    />\n  );\n};\n","import { useModel } from '@modern-js/runtime/model';\nimport { Button, Result } from 'antd';\nimport { Link } from '@modern-js/runtime/router';\nimport { TermsModel } from '@/models/terms';\nimport { RoutePath } from '@/views/GlobalLayout/constants';\n\nexport const TermNotFound: React.FC = () => {\n  const [{ latestTerm }] = useModel(TermsModel);\n\n  return (\n    <Result\n      title=\"暂时没有这期荒典作业\"\n      subTitle=\"检查链接是否正确或返回最近荒典作业\"\n      icon={\n        <img\n          alt=\"未找到作业\"\n          src={`https://s2.loli.net/2024/04/27/BAlKp9ERMiDo8cN.png`}\n        />\n      }\n      extra={\n        latestTerm ? (\n          <Link to={RoutePath.Copilots('latest')}>\n            <Button type=\"primary\">返回最近作业</Button>\n          </Link>\n        ) : (\n          <Link to={RoutePath.Home}>\n            <Button type=\"primary\">返回首页</Button>\n          </Link>\n        )\n      }\n    />\n  );\n};\n","/* eslint-disable no-nested-ternary */\nimport { PageContainer } from '@ant-design/pro-components';\nimport { useMemo } from 'react';\nimport { useRequest } from 'ahooks';\nimport { Space, Typography } from 'antd';\nimport { TermNotFound } from '@/components/TermNotFound';\nimport { TermChanger, useTargetTermFromParams } from '@/components/TermChanger';\nimport { RoutePath } from '@/views/GlobalLayout/constants';\nimport { RelativeTimeText } from '@/components/RelativeTimeText';\nimport { SolutionView } from '@/views/SolutionView';\nimport { getRerunsCopilots } from '@/services/get-reruns';\n\nconst SolutionsPage: React.FC = () => {\n  const { targetTerm: currentTerm } = useTargetTermFromParams();\n  const { data, error, loading } = useRequest(\n    () =>\n      currentTerm?.term_id\n        ? getRerunsCopilots(currentTerm)\n        : (Promise.resolve({}) as ReturnType<typeof getRerunsCopilots>),\n    {\n      ready: Boolean(currentTerm?.term_id),\n      refreshDeps: [currentTerm?.term_id],\n    },\n  );\n\n  const copilots = useMemo(() => Object.values(data ?? []), [data]);\n\n  return (\n    <PageContainer\n      content={\n        <Space wrap>\n          <TermChanger pathFn={RoutePath.Solutions} />\n          {copilots[0] ? (\n            <Typography.Text>\n              上次作业更新 <RelativeTimeText time={copilots[0].upload_time} />\n            </Typography.Text>\n          ) : null}\n          <Typography.Text type=\"secondary\">\n            Tips: 点击匹配作业中光灵头像可唤出菜单一键排除光灵或仅排除突破 ❤\n          </Typography.Text>\n        </Space>\n      }\n      title=\"作业匹配\"\n      loading={loading}\n    >\n      {error || !copilots?.length ? (\n        <TermNotFound />\n      ) : currentTerm ? (\n        <SolutionView copilots={copilots} currentTerm={currentTerm} />\n      ) : (\n        <TermNotFound />\n      )}\n    </PageContainer>\n  );\n};\n\nexport default SolutionsPage;\n","import type { CopilotNextType, TermNextType } from '@sinsa/schema';\nimport { getCopilots } from './http';\n\nexport async function getRerunsCopilots(term: TermNextType) {\n  let result: Record<CopilotNextType['copilot_id'], CopilotNextType> = {};\n  const allCopilotsArray = await Promise.all(\n    [term.term_id, ...(Array.isArray(term.reruns) ? term.reruns : [])].map(\n      termId => getCopilots(termId),\n    ),\n  );\n\n  for (const allCopilots of allCopilotsArray) {\n    result = {\n      ...result,\n      ...allCopilots,\n    };\n  }\n\n  return result;\n}\n","import type { CopilotNextType } from '@sinsa/schema';\n\nexport interface RealRandomMessage {\n  level: 'error';\n  reason: string;\n}\n\nexport type RealRandomRule = (\n  c: CopilotNextType,\n) => RealRandomMessage | undefined;\n\nexport const REAL_RANDOM_RULES: RealRandomRule[] = [\n  // 莱莎一破深色格真随机\n  function RyzaOneBk(c) {\n    const ryza = c.aurorian_requirements.find(a => a.aurorian_id === 'ryza');\n\n    if (typeof ryza?.breakthrough === 'number' && ryza.breakthrough >= 3) {\n      return {\n        level: 'error',\n        reason: '光灵莱莎一破深色格效果',\n      };\n    }\n  },\n];\n","import type { CopilotNextType } from '@sinsa/schema';\nimport { REAL_RANDOM_RULES } from './real-random-rules';\nimport type { RealRandomMessage } from './real-random-rules';\n\nexport interface IsRealRandomResultType {\n  stack: RealRandomMessage[];\n  isRealRandomResult: boolean;\n}\n\nexport class RealRandomService {\n  private static instance: RealRandomService | null = null;\n\n  public static getInstance(): RealRandomService {\n    if (RealRandomService.instance === null) {\n      RealRandomService.instance = new RealRandomService();\n    }\n    return RealRandomService.instance;\n  }\n\n  private cache: Map<CopilotNextType['copilot_id'], IsRealRandomResultType>;\n\n  protected constructor() {\n    this.cache = new Map();\n  }\n\n  isRealRandom(copilot: CopilotNextType): IsRealRandomResultType {\n    const cacheResult = this.cache.get(copilot.copilot_id);\n    if (cacheResult) {\n      return cacheResult;\n    }\n    const result: RealRandomMessage[] = [];\n    for (const fn of REAL_RANDOM_RULES) {\n      const r = fn(copilot);\n      if (r) {\n        result.push(r);\n      }\n    }\n\n    return {\n      stack: result,\n      isRealRandomResult: result.some(r => r.level === 'error'),\n    };\n  }\n}\n\nexport const realRandomService = RealRandomService.getInstance();\n","export const LOCAL_STORAGE_SETTING_KEY_PREFIX =\n  'SINSA_DADDY_SOLUTIONS_FILTER_KEY_V1';\n\nexport const EXTENDED_TEAM_COUNT = [\n  { label: '一队', value: 1 },\n  { label: '两队', value: 2 },\n  { label: '三队', value: 3 },\n  { label: '四队', value: 4 },\n];\n","import { useLocalStorageState } from 'ahooks';\nimport { useMemo } from 'react';\nimport type { TermNextType } from '@sinsa/schema';\nimport type { QueryParamsType } from '../../schemas/query-params';\n\ninterface UseInitialValuesArgs {\n  termId: TermNextType['term_id'];\n}\n\nconst LOCAL_STORAGE_SETTING_KEY_PREFIX = 'SINSA_DADDY_SOLUTIONS_FILTER_KEY_V1';\n\nconst DEFAULT_INITIAL_VALUES: QueryParamsType = {\n  k: 3,\n  exclude: [{}] as any[],\n};\n\nexport function useInitialValues({ termId }: UseInitialValuesArgs) {\n  const LOCAL_STORAGE_SETTING_KEY = useMemo(\n    () => `${LOCAL_STORAGE_SETTING_KEY_PREFIX}_${termId}` as const,\n    [termId],\n  );\n\n  const [loaclInitialValues, setLocalInitialValues] =\n    useLocalStorageState<QueryParamsType>(LOCAL_STORAGE_SETTING_KEY, {\n      defaultValue: undefined,\n    });\n\n  return {\n    initialValues: loaclInitialValues ?? DEFAULT_INITIAL_VALUES,\n    setLocalInitialValues,\n  };\n}\n","import type { SubmitterProps } from '@ant-design/pro-components';\nimport {\n  ProFormSelect,\n  ProFormDependency,\n  ProFormSwitch,\n  ProFormRadio,\n  ProForm,\n} from '@ant-design/pro-components';\nimport { useCallback, useMemo } from 'react';\nimport { Space, Typography } from 'antd';\nimport type { CopilotNextType, TermNextType } from '@sinsa/schema';\nimport { Search } from '@icon-park/react';\nimport type { QueryParamsType } from '../schemas/query-params';\nimport { useSolutionResultContext } from '../context';\nimport { useInitialValues } from './hooks/use-initial-values';\nimport { EXTENDED_TEAM_COUNT } from './constants';\nimport { ensureQueryKey } from './utils';\nimport { ExcludeAurorianFormList } from '@/components/ExcludeAurorianFormList';\n\ninterface QueryFormProps {\n  termId: TermNextType['term_id'];\n  copilots: CopilotNextType[];\n}\n\nexport const QueryForm: React.FC<QueryFormProps> = ({ termId, copilots }) => {\n  const { initialValues, setLocalInitialValues } = useInitialValues({ termId });\n\n  const { loadingSolutionResult, solutionResult, form, requestSolution } =\n    useSolutionResultContext();\n\n  const submitter = useMemo<SubmitterProps>(() => {\n    return {\n      searchConfig: { submitText: '寻找方案' },\n      submitButtonProps: {\n        icon: <Search theme=\"outline\" />,\n      },\n      render(_, dom) {\n        const display = [...dom];\n        if (typeof solutionResult?.allSolutions.solutions.length === 'number') {\n          display.push(\n            <Typography.Text key=\"count\">\n              已为您找到{' '}\n              <Typography.Text strong>\n                {solutionResult.allSolutions.solutions.length}\n              </Typography.Text>{' '}\n              个作业匹配方案\n            </Typography.Text>,\n          );\n        }\n        return <Space wrap>{display}</Space>;\n      },\n    };\n  }, [solutionResult?.allSolutions.solutions.length]);\n\n  const handleValuesChange = useCallback(\n    (_: unknown, allValues: QueryParamsType) => {\n      if (allValues.enableSaveLocalStorage) {\n        setLocalInitialValues(allValues);\n      } else {\n        setLocalInitialValues(undefined);\n      }\n      setLocalInitialValues(\n        allValues.enableSaveLocalStorage ? allValues : undefined,\n      );\n    },\n    [],\n  );\n\n  const ignoreOptions = useMemo(() => {\n    return copilots.map(c => {\n      return {\n        label: `${c.author_name} ${Math.floor(c.score / 10000)}W`,\n        value: c.copilot_id,\n      };\n    });\n  }, [copilots]);\n\n  const handleOnFinish = useCallback(\n    async (params: QueryParamsType) => {\n      window.browserClient.sendLog?.({\n        extra: {\n          k: params.k,\n          disable_alternative: String(Boolean(params.disableAlternative)),\n          enable_save_local_storage: String(\n            Boolean(params.enableSaveLocalStorage),\n          ),\n          term_id: termId,\n          name: 'query_solutions_log',\n        },\n        content: params.enableExclude\n          ? params.exclude\n              ?.map(\n                exc =>\n                  `${exc.aurorianId}${\n                    exc.excludeBreakthroughOnly\n                      ? `_${exc.excludeBreakthrough ?? '0'}`\n                      : ''\n                  }`,\n              )\n              .join(',') ?? ''\n          : '-',\n      });\n\n      await requestSolution(copilots, params);\n    },\n    [copilots],\n  );\n\n  return (\n    <ProForm<QueryParamsType>\n      onFinish={handleOnFinish}\n      layout=\"vertical\"\n      initialValues={initialValues}\n      submitter={submitter}\n      loading={loadingSolutionResult}\n      onValuesChange={handleValuesChange}\n      form={form}\n    >\n      <ProForm.Group>\n        <ProFormRadio.Group\n          name={ensureQueryKey('k')}\n          label=\"队伍数量\"\n          rules={[{ required: true }]}\n          options={EXTENDED_TEAM_COUNT}\n          allowClear={false}\n          radioType=\"button\"\n        />\n        <ProFormSwitch\n          name={ensureQueryKey('disableAlternative')}\n          label=\"不考虑可替自由位\"\n          tooltip=\"开启后，计算的队伍方案中绝对不会出现重复光灵，满足图鉴大佬的强迫症\"\n        />\n        <ProForm.Group>\n          <ProFormSwitch\n            name={ensureQueryKey('enableExclude')}\n            label=\"额外排除光灵\"\n            tooltip=\"排除光灵会忽略可替自由位\"\n          />\n          <ProFormDependency name={[ensureQueryKey('enableExclude')]}>\n            {({ enableExclude }: Pick<QueryParamsType, 'enableExclude'>) => {\n              return enableExclude ? (\n                <ExcludeAurorianFormList name={ensureQueryKey('exclude')} />\n              ) : null;\n            }}\n          </ProFormDependency>\n        </ProForm.Group>\n        <ProFormSwitch\n          name={ensureQueryKey('enableSaveLocalStorage')}\n          label=\"记住我的设置\"\n          tooltip=\"开启后，这一期荒典筛选的设置将会储存在您的浏览器本地，避免繁琐重复筛选\"\n        />\n      </ProForm.Group>\n      <ProFormDependency name={[ensureQueryKey('copilotsIgnore')]}>\n        {({ copilotsIgnore }: Pick<QueryParamsType, 'copilotsIgnore'>) => {\n          return copilotsIgnore?.length ? (\n            <ProFormSelect\n              mode=\"multiple\"\n              name={ensureQueryKey('copilotsIgnore')}\n              label=\"已额外排除的作业\"\n              options={ignoreOptions}\n            />\n          ) : null;\n        }}\n      </ProFormDependency>\n      {/* <ProFormDependency name={[ensureQueryKey('copilotsDiff')]}>\n        {({ copilotsDiff }: Pick<QueryParamsType, 'copilotsDiff'>) => {\n          console.log('copilotsDiff', copilotsDiff);\n          return null;\n        }}\n      </ProFormDependency> */}\n    </ProForm>\n  );\n};\n","import type { TermNextType } from '@sinsa/schema';\nimport { Typography, type AlertProps } from 'antd';\n\nexport const COMMON_ALERT_PROPS: AlertProps = {\n  type: 'error',\n  showIcon: false,\n  banner: true,\n};\n\nexport const ALERT_MAP = new Map<TermNextType['term_id'], AlertProps>([\n  [\n    'cn-26',\n    {\n      message:\n        '光灵黑潮目前装备技能存在 Bug 使得荒典分数可能存在虚高问题。官方将于 1 月 10 日更新后修复。本期黑潮队伍分数仅供参考。',\n      action: (\n        <Typography.Link\n          href={`https://www.bilibili.com/read/cv29262782/`}\n          target=\"_blank\"\n        >\n          查看官方公告\n        </Typography.Link>\n      ),\n    },\n  ],\n  [\n    'cn-42',\n    {\n      message:\n        '光灵安西娅目前装备技能存在 Bug 使得她配合森龙露科亚伤害爆炸。后续官方可能会修复。本期安西娅队伍分数仅供参考，没抄的同学赶紧抄作业',\n    },\n  ],\n  [\n    'cn-44',\n    {\n      message:\n        '光灵安西娅目前装备技能存在 Bug 使得她攻击小怪叠层后伤害爆炸。后续官方可能会修复。本期安西娅队伍分数仅供参考，没抄的同学赶紧抄作业',\n    },\n  ],\n  // [\n  //   'cn-36',\n  //   {\n  //     message:\n  //       '3月20日版本更新后, 本期荒典首领恶面花在部分情况下存在猛毒层数减少异常问题，导致抄作业失败，所以可能不是练度不够而是游戏有 bug, 请等待官方修复',\n  //   },\n  // ],\n  [\n    'cn-58',\n    {\n      message:\n        '部份作业是荒典克制 bug 前投稿的，可能会有分数虚低的情况，可多关注高配低分作业',\n    },\n  ],\n  [\n    'cn-60',\n    {\n      message:\n        '本期复刻第 46 期荒典轴，请关注新增包含莱因哈特的作业。46 期作业已在本期同步',\n      action: (\n        <Typography.Link\n          href={`https://t.bilibili.com/972085604650057730`}\n          target=\"_blank\"\n        >\n          查看象拔蛇皮蚌动态\n        </Typography.Link>\n      ),\n    },\n  ],\n]);\n","import type { TermNextType } from '@sinsa/schema';\nimport React from 'react';\nimport { Alert } from 'antd';\nimport { ALERT_MAP, COMMON_ALERT_PROPS } from './constants';\n\ninterface SolutionAlertProps {\n  currentTerm: TermNextType;\n}\n\nexport const SolutionAlert = React.memo<SolutionAlertProps>(\n  ({ currentTerm }) => {\n    const targetProps = ALERT_MAP.get(currentTerm.term_id);\n    if (!targetProps) {\n      return null;\n    }\n    return <Alert {...COMMON_ALERT_PROPS} {...targetProps} />;\n  },\n  (a, b) => a.currentTerm.term_id === b.currentTerm.term_id,\n);\n","import { ConfigProvider, Empty, List, Result, Typography } from 'antd';\nimport { useEffect, useMemo, useRef, useState } from 'react';\nimport type { Solution } from '@sinsa/solution-calculator/dist/types/types';\nimport type { TermNextType } from '@sinsa/schema';\nimport { useSolutionResultContext } from '../context';\nimport styles from './styles.module.less';\nimport { SolutionCard } from '@/components/SolutionCard';\nimport { IS_FOOL } from '@/globalTheme';\n\nconst getRowKey = (sc: Solution) =>\n  sc.copilots.map(c => c.copilot_id).join(',');\n\nconst EmptyImageStyle: React.CSSProperties = { opacity: 0.5 };\n\nexport interface SolutionListViewProps {\n  currentTerm: TermNextType;\n}\n\nexport const SolutionListView: React.FC<SolutionListViewProps> = ({\n  currentTerm,\n}) => {\n  const inViewRef = useRef<HTMLDivElement>(null);\n\n  const { loadingSolutionResult, solutionResult } = useSolutionResultContext();\n\n  const [current, setCurrent] = useState(1);\n\n  useEffect(() => {\n    if (solutionResult && current !== 1) {\n      setCurrent(1);\n    }\n  }, [solutionResult]);\n\n  const pagination = useMemo(() => {\n    return {\n      align: 'center' as const,\n      defaultPageSize: 5,\n      current,\n      onChange(page: number) {\n        setCurrent(page);\n        window.scrollTo({\n          top: inViewRef.current!.offsetTop,\n          behavior: 'smooth',\n        });\n      },\n      showSizeChanger: false,\n    };\n  }, [current]);\n\n  return (\n    <>\n      <div className={styles.Mount} ref={inViewRef} />\n      <ConfigProvider\n        renderEmpty={name => {\n          if (name === 'List') {\n            return solutionResult?.allSolutions.solutions.length === 0 ? (\n              <Result\n                icon={\n                  <img\n                    width={100}\n                    src={\n                      IS_FOOL\n                        ? `https://s2.loli.net/2024/04/27/syG7QYUrkiPlXbm.png`\n                        : `https://s2.loli.net/2024/04/27/BAlKp9ERMiDo8cN.png`\n                    }\n                    alt=\"醒山daddy: 很抱歉\"\n                  />\n                }\n                title=\"没能找到匹配的作业\"\n                subTitle={\n                  <div>\n                    1. 可以适当降低搜索的队伍数量。例如搜索两队 + 自己自动一队\n                    <br />\n                    2. 当前作业数量较少。可等待作业站更新后再次搜索\n                  </div>\n                }\n              />\n            ) : (\n              <Empty\n                image={\n                  <img\n                    src={\n                      IS_FOOL\n                        ? `https://s2.loli.net/2024/04/27/syG7QYUrkiPlXbm.png`\n                        : `https://s2.loli.net/2024/04/27/nJBRArYMHoT9vEw.png`\n                    }\n                    alt=\"醒山daddy: 信心\"\n                  />\n                }\n                imageStyle={EmptyImageStyle}\n                description={\n                  <Typography.Text type=\"secondary\">\n                    准备好寻找作业匹配了！\n                  </Typography.Text>\n                }\n              />\n            );\n          }\n          return <Empty image={Empty.PRESENTED_IMAGE_SIMPLE} />;\n        }}\n      >\n        <List<Solution>\n          loading={loadingSolutionResult}\n          dataSource={solutionResult?.allSolutions.solutions}\n          pagination={\n            solutionResult?.allSolutions.solutions.length ? pagination : false\n          }\n          rowKey={getRowKey}\n          renderItem={item => (\n            <SolutionCard\n              index={solutionResult?.rankSet.get(item) ?? 0}\n              solution={item}\n              currentTerm={currentTerm}\n            />\n          )}\n        />\n      </ConfigProvider>\n    </>\n  );\n};\n","import { Card, Flex } from 'antd';\nimport type { CopilotNextType, TermNextType } from '@sinsa/schema';\n\nimport { SolutionResultProvider } from './context';\nimport { QueryForm } from './QueryForm';\nimport { SolutionListView } from './SolutionListView';\nimport { SolutionAlert } from './SolutionAlert';\n\ninterface SolutionViewProps {\n  copilots: CopilotNextType[];\n  currentTerm: TermNextType;\n}\n\nexport const SolutionView: React.FC<SolutionViewProps> = ({\n  copilots,\n  currentTerm,\n}) => {\n  return (\n    <SolutionResultProvider>\n      <Flex vertical gap=\"middle\">\n        <SolutionAlert currentTerm={currentTerm} />\n        <Card>\n          <QueryForm copilots={copilots} termId={currentTerm.term_id} />\n        </Card>\n        <SolutionListView currentTerm={currentTerm} />\n      </Flex>\n    </SolutionResultProvider>\n  );\n};\n"],"names":["ExcludeAurorianFormList","name","props","auroriansOptions","auroriansMap","useModel","AuroriansModel","ProFormList","creatorButtonProps","creatorButtonText","alwaysShowItemLabel","actionRender","field","action","Tooltip","title","Button","style","marginLeft","icon","Delete","onClick","e","stopPropagation","remove","ProForm","label","ensureExcludeKey","rules","required","Select","options","showSearch","allowClear","placeholder","filterOption","filterAuroriansOption","ProFormDependency","aurorianId","AdaptiveAurorianCard","readOnly","mini","ProFormSwitch","excludeBreakthroughOnly","targetAurorian","ProFormRate","fieldProps","count","rarity","allowHalf","tooltip","key","AssetTypeTextMapper","script33","MenuKey","CopilotBlock","copilot","currentTerm","className","isLarge","useLarge","screen","useBreakpoint","useMemo","hasAsset","Array","isArray","assets","displayTitle","trimTitle","triggerFormAction","useSolutionResultContext","handleClickMenu","useCallback","info","type","QueryFormAction","copilot_id","handleReplace","_aurorian","aurorian","term_id","realRandomResult","realRandomService","clsx","AdaptiveAuroriansTeam","aurorianRequirements","aurorian_requirements","onReplace","Flex","wrap","align","score","format","gap","Space","size","Dropdown","menu","items","PreviewCloseOne","More","Bug","queryString","Object","entries","author_name","href","map","value","window","encodeURIComponent","join","open","RelativeTimeText","time","upload_time","description","MessageOne","Typography","target","isRealRandomResult","ellipsis","browserClient","sendEvent","metrics","categories","copilot_source","source_type","author","author_id","Tag","color","strong","Caution","stack","i","reason","asset","index","Popconfirm","okText","onConfirm","el","document","createElement","link","click","Paperclip","prev","next","getSolutionTitle","memoize","k","copilotRowKey","c","SolutionCard","solution","sorted","copilots","sort","a","b","Card","bodyStyle","paddingBottom","length","totalScore","isEqual","useTargetTermFromParams","params","useParams","termsMap","latestTerm","TermsModel","targetTerm","termId","TermChanger","pathFn","terms","navigate","useNavigate","termsOptions","onChange","nextTerm","TermNotFound","Result","subTitle","alt","src","extra","Link","to","RoutePath","data","error","loading","useRequest","getRerunsCopilots","Promise","resolve","ready","Boolean","refreshDeps","values","PageContainer","content","SolutionView","term","result","allCopilots","all","reruns","getCopilots","REAL_RANDOM_RULES","ryza","find","aurorian_id","breakthrough","level","RealRandomService","getInstance","instance","isRealRandom","cacheResult","cache","get","fn","r","push","some","Map","EXTENDED_TEAM_COUNT","DEFAULT_INITIAL_VALUES","exclude","useInitialValues","LOCAL_STORAGE_SETTING_KEY","loaclInitialValues","setLocalInitialValues","useLocalStorageState","defaultValue","undefined","initialValues","QueryForm","loadingSolutionResult","solutionResult","form","requestSolution","submitter","searchConfig","submitText","submitButtonProps","Search","theme","render","_","dom","display","allSolutions","solutions","handleValuesChange","allValues","enableSaveLocalStorage","ignoreOptions","Math","floor","handleOnFinish","sendLog","disable_alternative","String","disableAlternative","enable_save_local_storage","enableExclude","exc","excludeBreakthrough","onFinish","layout","onValuesChange","ProFormRadio","ensureQueryKey","radioType","copilotsIgnore","ProFormSelect","mode","COMMON_ALERT_PROPS","showIcon","banner","ALERT_MAP","message","SolutionAlert","targetProps","Alert","getRowKey","sc","EmptyImageStyle","opacity","SolutionListView","inViewRef","useRef","current","setCurrent","useState","useEffect","pagination","defaultPageSize","page","scrollTo","top","offsetTop","behavior","showSizeChanger","ref","ConfigProvider","renderEmpty","width","IS_FOOL","Empty","image","imageStyle","List","dataSource","rowKey","renderItem","item","rankSet","SolutionResultProvider","vertical"],"mappings":"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"}