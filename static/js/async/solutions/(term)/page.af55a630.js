/*! For license information please see page.af55a630.js.LICENSE.txt */
(globalThis.webpackChunk_sinsa_web=globalThis.webpackChunk_sinsa_web||[]).push([["453"],{363733:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return o}});var n=r("450348"),a={},o=function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),o=1;o<t;o++)r[o-1]=arguments[o];var l=[],i=[],s=function(e){var t,r=(0,n.createContext)(a);l.push(r),i.push((t=r,function(){var e=(0,n.useContext)(t);return e}))};r.length?r.forEach(function(e){return s(e.name)}):s(e.name);var u=function(t){for(var a=t.children,o=e(function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],!(t.indexOf(r)>=0)&&(a[r]=e[r]);return a}(t,["children"])),i=a,s=0;s<l.length;s+=1){var u=l[s],c=r[s]||function(e){return e};i=(0,n.createElement)(u.Provider,{value:c(o)},i)}return i};return[u].concat(i)}},493130:function(e,t,r){"use strict";e.exports=r.p+"static/image/sorry.06ca1022.png"},432182:function(e,t,r){"use strict";e.exports={AurorianCard:"AurorianCard-d42393",aurorianCard:"AurorianCard-d42393",BlackContainer:"BlackContainer-e8c720",blackContainer:"BlackContainer-e8c720",BreakThrough:"BreakThrough-ce2a97",breakThrough:"BreakThrough-ce2a97",MetaAttributeContainer:"MetaAttributeContainer-_81be2",metaAttributeContainer:"MetaAttributeContainer-_81be2",MetaClass:"MetaClass-_18f93",metaClass:"MetaClass-_18f93",MetaContainer:"MetaContainer-_9d666",metaContainer:"MetaContainer-_9d666",MetaFirstAttribute:"MetaFirstAttribute-_39683",metaFirstAttribute:"MetaFirstAttribute-_39683",MetaSecondAttribute:"MetaSecondAttribute-b69352",metaSecondAttribute:"MetaSecondAttribute-b69352",NameContainer:"NameContainer-a93283",nameContainer:"NameContainer-a93283",SameSize:"SameSize-_8fcb7",sameSize:"SameSize-_8fcb7",SameSizeMeta:"SameSizeMeta-_798c6",sameSizeMeta:"SameSizeMeta-_798c6",Skin:"Skin-_6e8ba",skin:"Skin-_6e8ba"}},981939:function(e,t,r){"use strict";e.exports={ControlledCopilotBlock:"ControlledCopilotBlock-dc36e2",controlledCopilotBlock:"ControlledCopilotBlock-dc36e2",SolutionCard:"SolutionCard-ebad4e",solutionCard:"SolutionCard-ebad4e",TotalScore:"TotalScore-_372c2",totalScore:"TotalScore-_372c2"}},940904:function(e,t,r){"use strict";e.exports={Mount:"Mount-_70740",mount:"Mount-_70740"}},737084:function(e,t,r){"use strict";r.r(t),r.d(t,{AurorianCard:function(){return m}});var n=r("766791"),a=r("450348"),o=r.n(a),l=r("67348"),i=r("375748"),s=r("835079"),u=r("432182"),c=r("675122"),d=r("439538");let m=o().memo(e=>{let{name:t,breakthrough:o,isReplaceable:m,sameSize:h}=e,[{auroriansMap:p}]=(0,l.useModel)(d.AuroriansModel),x=(0,a.useMemo)(()=>p[t],[p,t]),b=(0,a.useRef)(null);return(0,a.useEffect)(()=>{x?.aurorian_name&&r("532662")(`@/assets/skins/${x.aurorian_name}.webp`.replace("@/assets/skins/","./")).then(e=>{"string"==typeof e?.default&&b.current&&(b.current.style.backgroundImage=`url(${e.default})`)}).catch(()=>{})},[x?.aurorian_name]),(0,n.jsx)(i.Badge.Ribbon,{style:{fontSize:"12px",display:m?"block":"none",zIndex:1e4},text:m?"\u53EF\u66FF":void 0,children:(0,n.jsxs)("div",{className:(0,s.clsx)(u.AurorianCard,h&&u.SameSize),ref:b,children:[x?.class&&x?.attribute?(0,n.jsxs)("div",{className:(0,s.clsx)(u.MetaContainer,h&&u.SameSizeMeta),children:[(0,n.jsx)("img",{className:u.MetaClass,alt:x.class,src:c.ClassURLMapper[x.class]}),(0,n.jsxs)("div",{className:u.MetaAttributeContainer,children:[(0,n.jsx)("img",{className:u.MetaFirstAttribute,alt:x.attribute,src:c.ElementURLMapper[x.attribute]}),x.secondary_attribute?(0,n.jsx)("img",{className:u.MetaSecondAttribute,alt:x.secondary_attribute,src:c.ElementURLMapper[x.secondary_attribute]}):null]})]}):null,(0,n.jsxs)("div",{className:u.NameContainer,children:[(0,n.jsx)("div",{title:x?.aurorian_name,children:x?.aurorian_cn_name}),"number"==typeof o&&x?.rarity?(0,n.jsx)(i.ConfigProvider,{theme:{components:{Rate:{starBg:"white",starSize:8}}},children:(0,n.jsx)(i.Rate,{className:u.BreakThrough,disabled:!0,value:o,count:c.RarityMapper[x.rarity]})}):null]})]})})})},814647:function(e,t,r){"use strict";r.r(t),r.d(t,{ExcludeAurorianFormList:function(){return d}});var n=r("766791"),a=r("928958"),o=r("67348"),l=r("375748"),i=r("134640"),s=r("675122"),u=r("737084"),c=r("439538");let d=e=>{let{name:t,...r}=e,[{auroriansOptions:d,auroriansMap:m}]=(0,o.useModel)(c.AuroriansModel);return(0,n.jsx)(a.ProFormList,{...r,creatorButtonProps:{creatorButtonText:"\u6DFB\u52A0\u6392\u9664\u7684\u5149\u7075"},name:t,alwaysShowItemLabel:!0,actionRender:(e,t)=>[(0,n.jsx)(l.Tooltip,{title:"\u5220\u9664\u6B64\u5149\u7075",children:(0,n.jsx)(l.Button,{style:{marginLeft:".5rem"},icon:(0,n.jsx)(i.Delete,{}),onClick:r=>{r.stopPropagation(),t.remove(e.name)}})},"delete")],children:()=>(0,n.jsxs)(a.ProForm.Group,{children:[(0,n.jsx)(a.ProForm.Item,{label:"\u6392\u9664\u7684\u5149\u7075",name:"aurorianName",rules:[{required:!0}],children:(0,n.jsx)(l.Select,{options:d,showSearch:!0,allowClear:!1,placeholder:"\u652F\u6301\u6309\u62FC\u97F3\u641C\u7D22\u5149\u7075, \u6BD4\u5982 ad \u53EF\u4EE5\u641C\u5230 \u5B89\u987F",filterOption:c.filterAuroriansOption})}),(0,n.jsx)(a.ProFormDependency,{name:["aurorianName"],children:e=>{let{aurorianName:t}=e;return t?(0,n.jsx)(u.AurorianCard,{sameSize:!0,name:t}):null}},"excludeBreakthroughOnly"),(0,n.jsx)(a.ProFormDependency,{name:["aurorianName"],children:e=>{let{aurorianName:t}=e;return t?(0,n.jsx)(a.ProFormSwitch,{label:"\u4EC5\u6392\u9664\u7A81\u7834",name:"excludeBreakthroughOnly"}):null}},"excludeBreakthroughOnly"),(0,n.jsx)(a.ProFormDependency,{name:["aurorianName","excludeBreakthroughOnly"],children:e=>{let{aurorianName:t,excludeBreakthroughOnly:r}=e,o=m[t];return r&&o?(0,n.jsx)(a.ProFormRate,{name:"excludeBreakthrough",label:"\u6392\u9664\u7A81\u7834\u6570",fieldProps:{count:s.RarityMapper[o.rarity],allowHalf:!1},tooltip:"\u5927\u4E8E\u7B49\u4E8E\u6B64\u7A81\u7834\u6570\u7684\u5149\u7075\u4F1A\u88AB\u6392\u9664\uFF0C\u4F46\u4E0D\u4F1A\u6392\u9664\u96F6\u7834\u7684\u6B64\u5149\u7075",rules:[{required:!0}]}):null}},"excludeBreakthrough")]})})}},643394:function(e,t,r){"use strict";r.r(t),r.d(t,{SolutionCard:function(){return h}});var n=r("766791"),a=r("375748"),o=r("450348"),l=r.n(o),i=r("667227"),s=r("132802"),u=r.n(s),c=r("764059"),d=r("981939");let m=e=>e.bv,h=l().memo(e=>{let{solution:t,currentTerm:r,index:l,onIgnore:i}=e,s=(0,o.useMemo)(()=>[...t.copilots].sort((e,t)=>t.score-e.score),[t]);return(0,n.jsxs)(a.Card,{className:d.SolutionCard,bodyStyle:{paddingBottom:16},children:[(0,n.jsx)("div",{className:d.TotalScore,children:(0,n.jsx)(a.Typography.Text,{strong:!0,children:`#${l+1} \u{5339}\u{914D}\u{65B9}\u{6848} ${u()(t.totalScore).format("0,0")}`})}),s.map(e=>(0,n.jsx)(c.CopilotBlock,{className:d.ControlledCopilotBlock,copilot:e,currentTerm:r,onIgnore:i},m(e)))]})},(e,t)=>(0,i.isEqual)(e.solution.copilots.map(e=>e.bv),t.solution.copilots.map(e=>e.bv))&&e.currentTerm.term===t.currentTerm.term&&e.index===t.index)},504308:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return p}});var n=r("766791"),a=r("928958"),o=r("450348"),l=r("260740"),i=r("375748"),s=r("18363"),u=r("718606"),c=r("885561"),d=r("605442"),m=r("216746"),h=r("459648"),p=()=>{let{targetTerm:e}=(0,u.useTargetTermFromParams)(),{data:t,error:r,loading:p}=(0,l.useRequest)(()=>e?.term?(0,c.getCopilots)(e.term):Promise.resolve({}),{ready:!!e?.term,refreshDeps:[e?.term]}),x=(0,o.useMemo)(()=>Object.values(t??[]),[t]);return(0,n.jsx)(a.PageContainer,{content:(0,n.jsxs)(i.Space,{wrap:!0,children:[(0,n.jsx)(u.TermChanger,{pathFn:d.RoutePath.Solutions}),x[0]?(0,n.jsxs)(i.Typography.Text,{children:["\u4E0A\u6B21\u4F5C\u4E1A\u66F4\u65B0 ",(0,n.jsx)(m.RelativeTimeText,{time:x[0].upload_time})]}):null,(0,n.jsx)(i.Typography.Text,{type:"secondary",children:"Tips: \u70B9\u51FB\u5339\u914D\u4F5C\u4E1A\u4E2D\u5149\u7075\u5934\u50CF\u53EF\u5524\u51FA\u83DC\u5355\u4E00\u952E\u6392\u9664\u5149\u7075\u6216\u4EC5\u6392\u9664\u7A81\u7834 \u2764"})]}),title:"\u4F5C\u4E1A\u5339\u914D",loading:p,children:r?(0,n.jsx)(s.TermNotFound,{}):e?(0,n.jsx)(h.SolutionView,{copilots:x,currentTerm:e}):null})}},541e3:function(e,t,r){"use strict";r.r(t),r.d(t,{QueryForm:function(){return m}});var n=r("766791"),a=r("928958"),o=r("450348"),l=r("375748"),i=r("134640"),s=r("714874"),u=r("764104"),c=r("234106"),d=r("814647");let m=e=>{let{term:t,copilots:r}=e,{initialValues:m,setLocalInitialValues:h}=(0,u.useInitialValues)({term:t}),{loadingSolutionResult:p,solutionResult:x,form:b,requestSolution:g}=(0,s.useSolutionResultContext)(),S=(0,o.useMemo)(()=>({searchConfig:{submitText:"\u5BFB\u627E\u65B9\u6848"},submitButtonProps:{icon:(0,n.jsx)(i.Search,{theme:"outline"})},render(e,t){let r=[...t];return"number"==typeof x?.allSolutions.solutions.length&&r.push((0,n.jsxs)(l.Typography.Text,{children:["\u5DF2\u4E3A\u60A8\u627E\u5230"," ",(0,n.jsx)(l.Typography.Text,{strong:!0,children:x.allSolutions.solutions.length})," ","\u4E2A\u4F5C\u4E1A\u5339\u914D\u65B9\u6848"]},"count")),(0,n.jsx)(l.Space,{wrap:!0,children:r})}}),[x?.allSolutions.solutions.length]),f=(0,o.useCallback)((e,t)=>{t.enableSaveLocalStorage?h(t):h(void 0),h(t.enableSaveLocalStorage?t:void 0)},[]),C=(0,o.useMemo)(()=>r.map(e=>({label:`${e.author} ${Math.floor(e.score/1e4)}W`,value:e.bv})),[r]),j=(0,o.useCallback)(async e=>{await g(r,e)},[r]);return(0,n.jsxs)(a.ProForm,{onFinish:j,layout:"vertical",initialValues:m,submitter:S,loading:p,onValuesChange:f,form:b,children:[(0,n.jsxs)(a.ProForm.Group,{children:[(0,n.jsx)(a.ProFormRadio.Group,{name:"k",label:"\u961F\u4F0D\u6570\u91CF",rules:[{required:!0}],options:c.EXTENDED_TEAM_COUNT,allowClear:!1,radioType:"button"}),(0,n.jsx)(a.ProFormSwitch,{name:"disableAlternative",label:"\u4E0D\u8003\u8651\u53EF\u66FF\u81EA\u7531\u4F4D",tooltip:"\u5F00\u542F\u540E\uFF0C\u8BA1\u7B97\u7684\u961F\u4F0D\u65B9\u6848\u4E2D\u7EDD\u5BF9\u4E0D\u4F1A\u51FA\u73B0\u91CD\u590D\u5149\u7075\uFF0C\u6EE1\u8DB3\u56FE\u9274\u5927\u4F6C\u7684\u5F3A\u8FEB\u75C7"}),(0,n.jsxs)(a.ProForm.Group,{children:[(0,n.jsx)(a.ProFormSwitch,{name:"enableExclude",label:"\u989D\u5916\u6392\u9664\u5149\u7075",tooltip:"\u6392\u9664\u5149\u7075\u4F1A\u5FFD\u7565\u53EF\u66FF\u81EA\u7531\u4F4D"}),(0,n.jsx)(a.ProFormDependency,{name:["enableExclude"],children:e=>{let{enableExclude:t}=e;return t?(0,n.jsx)(d.ExcludeAurorianFormList,{name:"exclude"}):null}})]}),(0,n.jsx)(a.ProFormSwitch,{name:"enableSaveLocalStorage",label:"\u8BB0\u4F4F\u6211\u7684\u8BBE\u7F6E",tooltip:"\u5F00\u542F\u540E\uFF0C\u8FD9\u4E00\u671F\u8352\u5178\u7B5B\u9009\u7684\u8BBE\u7F6E\u5C06\u4F1A\u50A8\u5B58\u5728\u60A8\u7684\u6D4F\u89C8\u5668\u672C\u5730\uFF0C\u907F\u514D\u7E41\u7410\u91CD\u590D\u7B5B\u9009"})]}),(0,n.jsx)(a.ProFormDependency,{name:["copilotsIgnore"],children:e=>{let{copilotsIgnore:t}=e;return t?.length?(0,n.jsx)(a.ProFormSelect,{mode:"multiple",name:"copilotsIgnore",label:"\u5DF2\u989D\u5916\u6392\u9664\u7684\u4F5C\u4E1A",options:C}):null}})]})}},873329:function(e,t,r){"use strict";r.r(t),r.d(t,{SolutionListView:function(){return h}});var n=r("766791"),a=r("375748"),o=r("450348"),l=r("260740"),i=r("667227"),s=r("714874"),u=r("493130"),c=r("940904"),d=r("643394");let m=e=>e.copilots.map(e=>e.bv).join(""),h=e=>{let{currentTerm:t}=e,r=(0,o.useRef)(null),{loadingSolutionResult:h,solutionResult:p,form:x}=(0,s.useSolutionResultContext)(),[b,g]=(0,o.useState)(1);(0,o.useEffect)(()=>{p&&1!==b&&g(1)},[p]);let S=(0,o.useMemo)(()=>({align:"center",defaultPageSize:5,current:b,onChange(e){g(e),window.scrollTo({top:r.current.offsetTop,behavior:"smooth"})},showSizeChanger:!1}),[b]),f=(0,l.useMemoizedFn)(e=>{if("aurorian"===e.type&&e.aurorianName){x.setFieldValue("enableExclude",!0);let t=x.getFieldValue("exclude");Array.isArray(t)&&(t.find(t=>t.aurorianName===e.aurorianName)?a.notification.error({message:`\u{8FD9}\u{4E2A}\u{5149}\u{7075}\u{5DF2}\u{7ECF}\u{5728}\u{6392}\u{9664}\u{5217}\u{8868}\u{4E2D}\u{4E86} \u{2764}`}):(1===t.length&&(0,i.isEmpty)(t[0])&&t.pop(),e.breakthrough?x.setFieldValue("exclude",[...t,{aurorianName:e.aurorianName,excludeBreakthroughOnly:!0,excludeBreakthrough:e.breakthrough}]):x.setFieldValue("exclude",[...t,{aurorianName:e.aurorianName}]),x.submit()))}else if("copilot"===e.type){let t=x.getFieldValue("copilotsIgnore");Array.isArray(t)?x.setFieldValue("copilotsIgnore",[...t,e.bv]):x.setFieldValue("copilotsIgnore",[e.bv]),x.submit()}});return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:c.Mount,ref:r}),(0,n.jsx)(a.ConfigProvider,{renderEmpty:e=>"List"===e?p?.allSolutions.solutions.length===0?(0,n.jsx)(a.Result,{icon:(0,n.jsx)("img",{width:100,src:u,alt:"\u9192\u5C71daddy: \u5F88\u62B1\u6B49"}),title:"\u6CA1\u80FD\u627E\u5230\u5339\u914D\u7684\u4F5C\u4E1A",subTitle:(0,n.jsxs)("div",{children:["1. \u53EF\u4EE5\u9002\u5F53\u964D\u4F4E\u641C\u7D22\u7684\u961F\u4F0D\u6570\u91CF\u3002\u4F8B\u5982\u641C\u7D22\u4E24\u961F + \u81EA\u5DF1\u81EA\u52A8\u4E00\u961F",(0,n.jsx)("br",{}),"2. \u5F53\u524D\u4F5C\u4E1A\u6570\u91CF\u8F83\u5C11\u3002\u53EF\u7B49\u5F85\u4F5C\u4E1A\u7AD9\u66F4\u65B0\u540E\u518D\u6B21\u641C\u7D22"]})}):(0,n.jsx)(a.Empty,{image:a.Empty.PRESENTED_IMAGE_SIMPLE,description:"\u51C6\u5907\u597D\u5BFB\u627E\u4F5C\u4E1A\u4E86\uFF01"}):(0,n.jsx)(a.Empty,{image:a.Empty.PRESENTED_IMAGE_SIMPLE}),children:(0,n.jsx)(a.List,{loading:h,dataSource:p?.allSolutions.solutions,pagination:S,rowKey:m,renderItem:e=>(0,n.jsx)(d.SolutionCard,{index:p?.rankSet.get(e)??0,solution:e,currentTerm:t,onIgnore:f})})})]})}},459648:function(e,t,r){"use strict";r.r(t),r.d(t,{SolutionView:function(){return s}});var n=r("766791"),a=r("375748"),o=r("714874"),l=r("541000"),i=r("873329");let s=e=>{let{copilots:t,currentTerm:r}=e;return(0,n.jsx)(o.SolutionResultProvider,{children:(0,n.jsxs)(a.Flex,{vertical:!0,gap:"middle",children:[26===r.term?(0,n.jsx)(a.Alert,{type:"error",showIcon:!1,banner:!0,message:"\u5149\u7075\u9ED1\u6F6E\u76EE\u524D\u88C5\u5907\u6280\u80FD\u5B58\u5728 Bug \u4F7F\u5F97\u8352\u5178\u5206\u6570\u53EF\u80FD\u5B58\u5728\u865A\u9AD8\u95EE\u9898\u3002\u5B98\u65B9\u5C06\u4E8E 1 \u6708 10 \u65E5\u66F4\u65B0\u540E\u4FEE\u590D\u3002\u672C\u671F\u9ED1\u6F6E\u961F\u4F0D\u5206\u6570\u4EC5\u4F9B\u53C2\u8003\u3002",action:(0,n.jsx)(a.Typography.Link,{href:"https://www.bilibili.com/read/cv29262782/",target:"_blank",children:"\u67E5\u770B\u5B98\u65B9\u516C\u544A"})}):null,(0,n.jsx)(a.Card,{children:(0,n.jsx)(l.QueryForm,{copilots:t,term:r.term})}),(0,n.jsx)(i.SolutionListView,{currentTerm:r})]})})}},28549:function(e,t,r){"use strict";r.r(t),r.d(t,{solutionAlgorithm:function(){return a}});class n{static getInstance(){return null===n.instance&&(n.instance=new n),n.instance}calculateAllSolutions(e,t,n){return new Promise((a,o)=>{let l=new Worker(new URL(r.p+r.u("651"),r.b));l.addEventListener("message",e=>{a(e.data),l.terminate()}),l.addEventListener("error",e=>{o(e),l.terminate()}),l.postMessage({context:e,k:t,options:n})})}constructor(){}}n.instance=null;let a=n.getInstance()},234106:function(e,t,r){"use strict";r.r(t),r.d(t,{EXTENDED_TEAM_COUNT:function(){return n}});let n=[{label:"\u4E00\u961F",value:1},{label:"\u4E24\u961F",value:2},{label:"\u4E09\u961F",value:3},{label:"\u56DB\u961F",value:4}]},764104:function(e,t,r){"use strict";r.r(t),r.d(t,{useInitialValues:function(){return l}});var n=r("260740"),a=r("450348");let o={k:3,exclude:[{}]};function l(e){let{term:t}=e,r=(0,a.useMemo)(()=>`SINSA_DADDY_SOLUTIONS_FILTER_KEY_V1_${t}`,[t]),[l,i]=(0,n.useLocalStorageState)(r,{defaultValue:void 0});return{initialValues:l??o,setLocalInitialValues:i}}},714874:function(e,t,r){"use strict";r.r(t),r.d(t,{SolutionResultProvider:function(){return l},useSolutionResultContext:function(){return i}});var n=r("363733"),a=r("928958"),o=r("642862");let[l,i]=(0,n.default)(()=>{let{solutionResult:e,loadingSolutionResult:t,requestSolution:r}=(0,o.useRequestSolution)(),[n]=a.ProForm.useForm();return{solutionResult:e,loadingSolutionResult:t,requestSolution:r,form:n}})},642862:function(e,t,r){"use strict";r.r(t),r.d(t,{useRequestSolution:function(){return s}});var n=r("260740"),a=r("67348"),o=r("734513"),l=r("439538"),i=r("28549");function s(){let[{WHOLE_BOX:e,auroriansMap:t}]=(0,a.useModel)(l.AuroriansModel),{data:r,loading:s,runAsync:u}=(0,n.useRequest)(async(r,n)=>{let{exclude:a,k:l,disableAlternative:s,copilotsIgnore:u,enableExclude:c}=n,d=c&&Array.isArray(a)?(0,o.withoutExclude)(e.aurorian_summaries,a,t):e.aurorian_summaries,m=await i.solutionAlgorithm.calculateAllSolutions({copilots:r,availableBox:d},l,{disableAlternative:s,copilotsIgnore:u}),h=new WeakMap;for(let e=0;e<m.solutions.length;e++){let t=m.solutions[e];h.set(t,e)}return{allSolutions:m,rankSet:h}},{manual:!0});return{solutionResult:r,loadingSolutionResult:s,requestSolution:u}}}}]);