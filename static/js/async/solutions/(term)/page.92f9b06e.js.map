{"version":3,"file":"static/js/async/solutions/(term)/page.92f9b06e.js","sources":["../../node_modules/.pnpm/@svgr+webpack@8.0.1_typescript@5.0.4/node_modules/@svgr/webpack/dist/index.js??ruleSet[1].rules[4].oneOf[5].use[0]!../../node_modules/.pnpm/@modern-js+builder-shared@2.42.1_@babel+traverse@7.23.5_esbuild@0.17.19_react-dom@18.2.0_react@18.2.0_typescript@5.0.4/node_modules/@modern-js/builder-shared/compiled/url-loader/index.js??ruleSet[1].rules[4].oneOf[5].use[1]!./src/components/CopilotsTable/assets/icon-message.svg","../../node_modules/.pnpm/@svgr+webpack@8.0.1_typescript@5.0.4/node_modules/@svgr/webpack/dist/index.js??ruleSet[1].rules[4].oneOf[5].use[0]!../../node_modules/.pnpm/@modern-js+builder-shared@2.42.1_@babel+traverse@7.23.5_esbuild@0.17.19_react-dom@18.2.0_react@18.2.0_typescript@5.0.4/node_modules/@modern-js/builder-shared/compiled/url-loader/index.js??ruleSet[1].rules[4].oneOf[5].use[1]!./src/components/ExcludeAurorianFormList/assets/icon-delete.svg","../../node_modules/.pnpm/@svgr+webpack@8.0.1_typescript@5.0.4/node_modules/@svgr/webpack/dist/index.js??ruleSet[1].rules[4].oneOf[5].use[0]!../../node_modules/.pnpm/@modern-js+builder-shared@2.42.1_@babel+traverse@7.23.5_esbuild@0.17.19_react-dom@18.2.0_react@18.2.0_typescript@5.0.4/node_modules/@modern-js/builder-shared/compiled/url-loader/index.js??ruleSet[1].rules[4].oneOf[5].use[1]!./src/components/SolutionCard/CopilotBlock/assets/icon-message.svg","./src/components/AurorianCard/index.tsx","./src/components/AuroriansTeam/index.tsx","./src/components/CopilotsTable/columns.tsx","./src/components/CopilotsTable/index.tsx","./src/components/ExcludeAurorianFormList/index.tsx","./src/components/RelativeTimeText/index.tsx","./src/components/SolutionCard/CopilotBlock/AdaptiveAuroriansTeam/AdaptiveAurorianCard/index.tsx","./src/components/SolutionCard/CopilotBlock/AdaptiveAuroriansTeam/index.tsx","./src/components/SolutionCard/CopilotBlock/index.tsx","./src/components/SolutionCard/index.tsx","./src/containers/CopilotSolution.tsx","./src/containers/TermChanger.tsx","./src/containers/TermNotFound.tsx","./src/routes/solutions/[term]/page.tsx","./src/components/SolutionCard/CopilotBlock/AdaptiveAuroriansTeam/AdaptiveAurorianCard/constants.ts","./src/components/SolutionCard/CopilotBlock/AdaptiveAuroriansTeam/AdaptiveAurorianCard/hooks/use-lazy-image.ts","./src/services/solution-algorithm.ts"],"sourcesContent":["var _path, _path2;\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nimport * as React from \"react\";\nconst SvgIconMessage = props => /*#__PURE__*/React.createElement(\"svg\", _extends({\n  xmlns: \"http://www.w3.org/2000/svg\",\n  width: \"1rem\",\n  height: \"1rem\",\n  fill: \"none\",\n  viewBox: \"0 0 48 48\"\n}, props), _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n  fill: \"#DC5950\",\n  stroke: \"#333\",\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\",\n  strokeWidth: 4,\n  d: \"M44 6H4v30h9v5l10-5h21z\"\n})), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n  stroke: \"#FFF\",\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\",\n  strokeWidth: 4,\n  d: \"M14 19.5v3M24 19.5v3M34 19.5v3\"\n})));\nexport { SvgIconMessage as ReactComponent };\nexport default \"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iMXJlbSIgaGVpZ2h0PSIxcmVtIiB2aWV3Qm94PSIwIDAgNDggNDgiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CiAgICA8cGF0aCBkPSJNNDQgNkg0VjM2SDEzVjQxTDIzIDM2SDQ0VjZaIiBmaWxsPSIjREM1OTUwIiBzdHJva2U9IiMzMzMiIHN0cm9rZS13aWR0aD0iNCIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogICAgICAgIHN0cm9rZS1saW5lam9pbj0icm91bmQiIC8+CiAgICA8cGF0aCBkPSJNMTQgMTkuNVYyMi41IiBzdHJva2U9IiNGRkYiIHN0cm9rZS13aWR0aD0iNCIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiAvPgogICAgPHBhdGggZD0iTTI0IDE5LjVWMjIuNSIgc3Ryb2tlPSIjRkZGIiBzdHJva2Utd2lkdGg9IjQiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgLz4KICAgIDxwYXRoIGQ9Ik0zNCAxOS41VjIyLjUiIHN0cm9rZT0iI0ZGRiIgc3Ryb2tlLXdpZHRoPSI0IiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIC8+Cjwvc3ZnPgo=\";","var _path, _path2, _path3, _path4;\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nimport * as React from \"react\";\nconst SvgIconDelete = props => /*#__PURE__*/React.createElement(\"svg\", _extends({\n  xmlns: \"http://www.w3.org/2000/svg\",\n  width: \"1em\",\n  height: \"1em\",\n  fill: \"none\",\n  viewBox: \"0 0 48 48\"\n}, props), _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n  fill: \"#DC5950\",\n  stroke: \"#333\",\n  strokeLinejoin: \"round\",\n  strokeWidth: 4,\n  d: \"M9 10v34h30V10z\"\n})), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n  stroke: \"#FFF\",\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\",\n  strokeWidth: 4,\n  d: \"M20 20v13M28 20v13\"\n})), _path3 || (_path3 = /*#__PURE__*/React.createElement(\"path\", {\n  stroke: \"#333\",\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\",\n  strokeWidth: 4,\n  d: \"M4 10h40\"\n})), _path4 || (_path4 = /*#__PURE__*/React.createElement(\"path\", {\n  fill: \"#DC5950\",\n  stroke: \"#333\",\n  strokeLinejoin: \"round\",\n  strokeWidth: 4,\n  d: \"m16 10 3.289-6h9.488L32 10z\"\n})));\nexport { SvgIconDelete as ReactComponent };\nexport default \"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iMWVtIiBoZWlnaHQ9IjFlbSIgdmlld0JveD0iMCAwIDQ4IDQ4IiBmaWxsPSJub25lIgogICAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICAgIDxwYXRoIGQ9Ik05IDEwVjQ0SDM5VjEwSDlaIiBmaWxsPSIjREM1OTUwIiBzdHJva2U9IiMzMzMiIHN0cm9rZS13aWR0aD0iNCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgLz4KICAgIDxwYXRoIGQ9Ik0yMCAyMFYzMyIgc3Ryb2tlPSIjRkZGIiBzdHJva2Utd2lkdGg9IjQiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgLz4KICAgIDxwYXRoIGQ9Ik0yOCAyMFYzMyIgc3Ryb2tlPSIjRkZGIiBzdHJva2Utd2lkdGg9IjQiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgLz4KICAgIDxwYXRoIGQ9Ik00IDEwSDQ0IiBzdHJva2U9IiMzMzMiIHN0cm9rZS13aWR0aD0iNCIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiAvPgogICAgPHBhdGggZD0iTTE2IDEwTDE5LjI4OSA0SDI4Ljc3NzFMMzIgMTBIMTZaIiBmaWxsPSIjREM1OTUwIiBzdHJva2U9IiMzMzMiIHN0cm9rZS13aWR0aD0iNCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgLz4KPC9zdmc+Cg==\";","var _path, _path2;\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nimport * as React from \"react\";\nconst SvgIconMessage = props => /*#__PURE__*/React.createElement(\"svg\", _extends({\n  xmlns: \"http://www.w3.org/2000/svg\",\n  width: 16,\n  height: 16,\n  fill: \"none\",\n  viewBox: \"0 0 48 48\"\n}, props), _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n  fill: \"#DC5950\",\n  stroke: \"#333\",\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\",\n  strokeWidth: 4,\n  d: \"M44 6H4v30h9v5l10-5h21z\"\n})), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n  stroke: \"#FFF\",\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\",\n  strokeWidth: 4,\n  d: \"M14 19.5v3M24 19.5v3M34 19.5v3\"\n})));\nexport { SvgIconMessage as ReactComponent };\nexport default \"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iMTZweCIgaGVpZ2h0PSIxNnB4IiB2aWV3Qm94PSIwIDAgNDggNDgiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CiAgICA8cGF0aCBkPSJNNDQgNkg0VjM2SDEzVjQxTDIzIDM2SDQ0VjZaIiBmaWxsPSIjREM1OTUwIiBzdHJva2U9IiMzMzMiIHN0cm9rZS13aWR0aD0iNCIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogICAgICAgIHN0cm9rZS1saW5lam9pbj0icm91bmQiIC8+CiAgICA8cGF0aCBkPSJNMTQgMTkuNVYyMi41IiBzdHJva2U9IiNGRkYiIHN0cm9rZS13aWR0aD0iNCIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiAvPgogICAgPHBhdGggZD0iTTI0IDE5LjVWMjIuNSIgc3Ryb2tlPSIjRkZGIiBzdHJva2Utd2lkdGg9IjQiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgLz4KICAgIDxwYXRoIGQ9Ik0zNCAxOS41VjIyLjUiIHN0cm9rZT0iI0ZGRiIgc3Ryb2tlLXdpZHRoPSI0IiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIC8+Cjwvc3ZnPgo=\";","import React, { useEffect, useMemo, useRef } from 'react';\nimport { useModel } from '@modern-js/runtime/model';\nimport { type AurorianType } from '@sinsa/schema';\nimport { Badge, ConfigProvider, Rate } from 'antd';\nimport { clsx } from 'clsx';\nimport styles from './styles.module.less';\nimport { ClassURLMapper, ElementURLMapper, RarityMapper } from './constants';\nimport { AuroriansModel } from '@/models/aurorians';\n\ninterface AurorianCardProps {\n  name: string;\n  breakthrough?: number;\n  isReplaceable?: boolean;\n  sameSize?: boolean;\n}\n\nexport const AurorianCard = React.memo<AurorianCardProps>(\n  ({ name, breakthrough, isReplaceable, sameSize }) => {\n    const [{ auroriansMap }] = useModel(AuroriansModel);\n    const aurorian = useMemo(\n      () => auroriansMap[name] as AurorianType | undefined,\n      [auroriansMap, name],\n    );\n\n    const cardRef = useRef<HTMLDivElement>(null);\n\n    useEffect(() => {\n      if (aurorian?.aurorian_name) {\n        import(`@/assets/skins/${aurorian.aurorian_name}.webp`)\n          .then(esm => {\n            if (typeof esm?.default === 'string') {\n              if (cardRef.current) {\n                cardRef.current.style.backgroundImage = `url(${esm.default})`;\n              }\n            }\n          })\n          .catch(() => {\n            // ignore\n          });\n      }\n    }, [aurorian?.aurorian_name]);\n\n    return (\n      <Badge.Ribbon\n        style={{\n          fontSize: '12px',\n          display: isReplaceable ? 'block' : 'none',\n          zIndex: 10000,\n        }}\n        text={isReplaceable ? '可替' : undefined}\n      >\n        <div\n          className={clsx(styles.AurorianCard, sameSize && styles.SameSize)}\n          ref={cardRef}\n        >\n          {aurorian?.class && aurorian?.attribute ? (\n            <div\n              className={clsx(\n                styles.MetaContainer,\n                sameSize && styles.SameSizeMeta,\n              )}\n            >\n              <img\n                className={styles.MetaClass}\n                alt={aurorian.class}\n                src={ClassURLMapper[aurorian.class]}\n              />\n              <div className={styles.MetaAttributeContainer}>\n                <img\n                  className={styles.MetaFirstAttribute}\n                  alt={aurorian.attribute}\n                  src={ElementURLMapper[aurorian.attribute]}\n                />\n                {aurorian.secondary_attribute ? (\n                  <img\n                    className={styles.MetaSecondAttribute}\n                    alt={aurorian.secondary_attribute}\n                    src={ElementURLMapper[aurorian.secondary_attribute]}\n                  />\n                ) : null}\n              </div>\n            </div>\n          ) : null}\n          <div className={styles.NameContainer}>\n            <div title={aurorian?.aurorian_name}>\n              {aurorian?.aurorian_cn_name}\n            </div>\n\n            {typeof breakthrough === 'number' && aurorian?.rarity ? (\n              <ConfigProvider\n                theme={{\n                  components: {\n                    Rate: {\n                      starBg: 'white',\n                      starSize: 8,\n                    },\n                  },\n                }}\n              >\n                <Rate\n                  className={styles.BreakThrough}\n                  disabled\n                  value={breakthrough}\n                  count={RarityMapper[aurorian.rarity]}\n                />\n              </ConfigProvider>\n            ) : null}\n          </div>\n        </div>\n      </Badge.Ribbon>\n    );\n  },\n);\n","import type { CopilotType } from '@sinsa/schema';\nimport type React from 'react';\nimport { AurorianCard } from '../AurorianCard';\nimport styles from './styles.module.less';\n\ninterface AuroriansTeamProps {\n  aurorianSummaries: CopilotType['aurorian_summaries'];\n}\n\nexport const AuroriansTeam: React.FC<AuroriansTeamProps> = ({\n  aurorianSummaries,\n}) => {\n  return (\n    <div className={styles.AuroriansTeam}>\n      {aurorianSummaries.map(\n        ({ aurorian_name, breakthrough, is_replaceable }) => {\n          return (\n            <AurorianCard\n              key={aurorian_name}\n              name={aurorian_name}\n              breakthrough={breakthrough}\n              isReplaceable={is_replaceable}\n            />\n          );\n        },\n      )}\n    </div>\n  );\n};\n","import type { ProColumns } from '@ant-design/pro-components';\nimport type { CopilotType, TermType } from '@sinsa/schema';\nimport { Tag, Tooltip, Typography } from 'antd';\nimport { AuroriansTeam } from '../AuroriansTeam';\nimport { RelativeTimeText } from '../RelativeTimeText';\nimport { ReactComponent as IconMessage } from './assets/icon-message.svg';\nimport styles from './styles.module.less';\n\nexport interface TableParams {\n  title?: CopilotType['title'];\n  author?: CopilotType['author'];\n  term?: number;\n  dataSource?: CopilotType[];\n  score?: [number, undefined] | [number, number] | [undefined, number];\n  bv?: string;\n}\n\nexport interface GetColumnsContext {\n  currentTerm?: TermType;\n  showScoreSorter?: boolean;\n}\n\nexport function getCopilotsColumns({\n  currentTerm,\n  showScoreSorter,\n}: GetColumnsContext): ProColumns<CopilotType>[] {\n  return [\n    {\n      title: '光灵配置',\n      dataIndex: 'aurorian_summaries',\n      hideInSearch: true,\n      render(_, entity) {\n        return <AuroriansTeam aurorianSummaries={entity.aurorian_summaries} />;\n      },\n      width: 80 * 5 + 24,\n    },\n    {\n      title: '分数',\n      dataIndex: 'score',\n      valueType: 'digit',\n      hideInSearch: true,\n      width: 100,\n      sorter: showScoreSorter,\n      align: 'right',\n    },\n    {\n      title: '作者',\n      dataIndex: 'author',\n      valueType: 'select',\n      hideInSearch: true,\n      ellipsis: true,\n      width: 160,\n      renderText(dom, entity) {\n        return (\n          <div className={styles.AuthorContainer}>\n            <span>{dom}</span>\n            <Tooltip title={entity.description}>\n              {entity.description ? <IconMessage /> : null}\n            </Tooltip>\n          </div>\n        );\n      },\n    },\n    {\n      title: '标题',\n      dataIndex: 'title',\n      ellipsis: true,\n      render(_, entity) {\n        return (\n          <Typography.Link\n            href={`https://www.bilibili.com/video/${entity.bv}`}\n            target=\"_blank\"\n            title={entity.title}\n          >\n            {currentTerm?.term &&\n            entity.rerun_terms?.includes(currentTerm.term) ? (\n              <Tooltip title={`复刻第 ${entity.term} 期荒典作业`}>\n                <Tag color=\"red\">复刻</Tag>\n              </Tooltip>\n            ) : null}\n            {entity.title}\n          </Typography.Link>\n        );\n      },\n    },\n    {\n      title: '上传时间',\n      dataIndex: 'upload_time',\n      valueType: 'dateTime',\n      width: 160,\n      hideInSearch: true,\n      render(_, entity) {\n        return <RelativeTimeText time={entity.upload_time} />;\n      },\n    },\n    {\n      title: 'BV 号',\n      dataIndex: 'bv',\n      hideInTable: true,\n      fieldProps: { placeholder: 'BVXXXXXXXXXX' },\n    },\n  ];\n}\n","import { useCallback, useMemo, useRef } from 'react';\nimport type { ActionType } from '@ant-design/pro-components';\nimport { ProTable } from '@ant-design/pro-components';\nimport type { CopilotType, TermType } from '@sinsa/schema';\nimport type { SortOrder } from 'antd/es/table/interface';\nimport { Card } from 'antd';\nimport { type TableParams, getCopilotsColumns } from './columns';\n\ninterface CopilotsTableProps {\n  dataSource: CopilotType[];\n  currentTerm?: TermType;\n}\n\nexport function copilotRowKey(c: CopilotType) {\n  return c.bv;\n}\n\nconst TABLE_CONST_PROPS = {\n  pagination: {\n    pageSize: 5,\n    size: 'default',\n    position: ['bottomCenter'] as any,\n    showTotal(total: number): string {\n      return `总共 ${total} 条作业`;\n    },\n  },\n  scroll: { x: 'max-content', scrollToFirstRowOnChange: true },\n} as const;\n\nexport const CopilotsTable: React.FC<CopilotsTableProps> = ({\n  dataSource,\n  currentTerm: term,\n}) => {\n  const actionRef = useRef<ActionType>();\n\n  const deps = useMemo(\n    (): TableParams => ({\n      term: term?.term,\n      dataSource,\n    }),\n    [term?.term, dataSource],\n  );\n\n  const request = useCallback(\n    async (params: TableParams, sort: Record<string, SortOrder>) => {\n      const base =\n        params.dataSource?.filter(item => {\n          let ok = true;\n          if (params.title) {\n            ok = item.title.includes(params.title);\n          }\n          // min\n          if (typeof params.score?.[0] === 'number') {\n            ok = params.score[0] <= item.score;\n          }\n\n          // max\n          if (typeof params.score?.[1] === 'number') {\n            ok = item.score <= params.score[1];\n          }\n\n          // bv\n          if (typeof params.bv === 'string' && params.bv.startsWith('BV')) {\n            ok = item.bv === params.bv;\n          }\n          return ok;\n        }) ?? [];\n      return {\n        data: sort.score\n          ? base.sort((a, b) =>\n              sort.score === 'ascend' ? a.score - b.score : b.score - a.score,\n            )\n          : base,\n        success: true,\n      };\n    },\n    [],\n  );\n\n  const columns = useMemo(\n    () => getCopilotsColumns({ currentTerm: term, showScoreSorter: true }),\n    [term?.term],\n  );\n\n  return (\n    <Card>\n      <ProTable<CopilotType, TableParams>\n        rowKey={copilotRowKey}\n        actionRef={actionRef}\n        columns={columns}\n        params={deps}\n        request={request}\n        search={false}\n        toolBarRender={false}\n        ghost\n        {...TABLE_CONST_PROPS}\n      />\n    </Card>\n  );\n};\n","import {\n  ProForm,\n  ProFormDependency,\n  ProFormList,\n  ProFormRate,\n  ProFormSwitch,\n} from '@ant-design/pro-components';\nimport { useModel } from '@modern-js/runtime/model';\nimport { Button, Select, Tooltip } from 'antd';\nimport { RarityMapper } from '../AurorianCard/constants';\nimport { AurorianCard } from '../AurorianCard';\nimport { ReactComponent as IconDelete } from './assets/icon-delete.svg';\nimport { AuroriansModel, filterAuroriansOption } from '@/models/aurorians';\n\ninterface ExcludeFormListProps {\n  name: string;\n}\n\nexport const ExcludeAurorianFormList: React.FC<ExcludeFormListProps> = ({\n  name,\n  ...props\n}) => {\n  const [{ auroriansOptions, auroriansMap }] = useModel(AuroriansModel);\n\n  return (\n    <ProFormList\n      {...props}\n      creatorButtonProps={{\n        creatorButtonText: '添加排除的光灵',\n      }}\n      name={name}\n      alwaysShowItemLabel\n      actionRender={(field, action, _, count) => {\n        if (count > 1) {\n          return [\n            <Tooltip key=\"delete\" title=\"删除此光灵\">\n              <Button\n                style={{ marginLeft: '.5rem' }}\n                icon={<IconDelete style={{ verticalAlign: '-2px' }} />}\n                onClick={e => {\n                  e.stopPropagation();\n                  action.remove(field.name);\n                }}\n              />\n            </Tooltip>,\n          ];\n        }\n        return [];\n      }}\n    >\n      {() => {\n        return (\n          <ProForm.Group>\n            <ProForm.Item\n              label=\"排除的光灵\"\n              name={'aurorianName'}\n              rules={[{ required: true }]}\n            >\n              <Select\n                options={auroriansOptions}\n                showSearch\n                allowClear={false}\n                placeholder={'支持按拼音搜索光灵, 比如 ad 可以搜到 安顿'}\n                filterOption={filterAuroriansOption}\n              />\n            </ProForm.Item>\n            <ProFormDependency\n              key=\"excludeBreakthroughOnly\"\n              name={['aurorianName']}\n            >\n              {({ aurorianName }) => {\n                if (aurorianName) {\n                  return <AurorianCard sameSize name={aurorianName} />;\n                }\n                return null;\n              }}\n            </ProFormDependency>\n            <ProFormDependency\n              key=\"excludeBreakthroughOnly\"\n              name={['aurorianName']}\n            >\n              {({ aurorianName }) => {\n                if (aurorianName) {\n                  return (\n                    <ProFormSwitch\n                      label=\"仅排除突破\"\n                      name=\"excludeBreakthroughOnly\"\n                    />\n                  );\n                }\n                return null;\n              }}\n            </ProFormDependency>\n\n            <ProFormDependency\n              key=\"excludeBreakthrough\"\n              name={['aurorianName', 'excludeBreakthroughOnly']}\n            >\n              {({ aurorianName, excludeBreakthroughOnly }) => {\n                const targetAurorian = auroriansMap[aurorianName];\n                if (excludeBreakthroughOnly && targetAurorian) {\n                  return (\n                    <ProFormRate\n                      name=\"excludeBreakthrough\"\n                      label=\"排除突破数\"\n                      fieldProps={{\n                        count: RarityMapper[targetAurorian.rarity],\n                        allowHalf: false,\n                      }}\n                      tooltip=\"大于等于此突破数的光灵会被排除，但不会排除零破的此光灵\"\n                      rules={[{ required: true }]}\n                    />\n                  );\n                }\n                return null;\n              }}\n            </ProFormDependency>\n          </ProForm.Group>\n        );\n      }}\n    </ProFormList>\n  );\n};\n","import { Tooltip } from 'antd';\nimport dayjs from 'dayjs';\nimport React from 'react';\nimport styles from './styles.module.less';\n\ninterface RelativeTimeTextProps {\n  time: Date;\n}\n\nexport const RelativeTimeText = React.memo<RelativeTimeTextProps>(\n  ({ time }) => {\n    return (\n      <Tooltip title={dayjs(time).format('YYYY-MM-DD HH:mm:ss')}>\n        <span className={styles.RelativeTimeText}>{dayjs(time).fromNow()}</span>\n      </Tooltip>\n    );\n  },\n  (prev, cur) => prev.time.valueOf() === cur.time.valueOf(),\n);\n","import React, { useMemo } from 'react';\nimport { useModel } from '@modern-js/runtime/model';\nimport type { AurorianType } from '@sinsa/schema';\nimport clsx from 'clsx';\nimport type { MenuProps } from 'antd';\nimport { ConfigProvider, Flex, Rate, Tag, Dropdown } from 'antd';\nimport { useBreakpoint } from '@ant-design/pro-components';\nimport { motion } from 'framer-motion';\nimport type { IgnoreMessage } from '../../../types';\nimport styles from './styles.module.less';\nimport { useLazyImage } from './hooks/use-lazy-image';\nimport { ClassURLMapper, ElementURLMapper, RarityMapper } from './constants';\nimport { AuroriansModel } from '@/models/aurorians';\n\ninterface AdaptiveArurorianCardProps {\n  name: string;\n  breakthrough?: number;\n  isReplaceable?: boolean;\n  onIgnore?: (msg: IgnoreMessage) => void;\n}\n\nexport const AdaptiveAurorianCard = React.memo<AdaptiveArurorianCardProps>(\n  ({ name, breakthrough, isReplaceable, onIgnore }) => {\n    const [{ auroriansMap }] = useModel(AuroriansModel);\n    const aurorian = useMemo(\n      () => auroriansMap[name] as AurorianType | undefined,\n      [auroriansMap, name],\n    );\n    const { containerRef } = useLazyImage(aurorian?.aurorian_name);\n\n    const screen = useBreakpoint();\n    const rateTheme = useMemo(() => {\n      let starSize = 10;\n      switch (screen) {\n        case 'xs':\n          starSize = 10;\n          break;\n        case 'sm':\n          starSize = 12;\n          break;\n        default:\n          starSize = 13;\n          break;\n      }\n      return {\n        components: {\n          Rate: {\n            starBg: 'white',\n            starSize,\n          },\n        },\n      };\n    }, [screen]);\n\n    const items: MenuProps['items'] = [\n      {\n        label: `排除${aurorian?.aurorian_cn_name}`,\n        key: 'ignore',\n      },\n      {\n        label: `仅排除此突破数的${aurorian?.aurorian_cn_name}`,\n        key: 'ignore-breakthrough',\n      },\n    ];\n\n    return (\n      <Dropdown\n        trigger={['click']}\n        getPopupContainer={() => document.body}\n        menu={{\n          items,\n          onClick: ({ key }) => {\n            console.log('key', key);\n            if (!aurorian?.aurorian_name) {\n              return;\n            }\n            switch (key) {\n              case 'ignore-breakthrough':\n                onIgnore?.({\n                  aurorianName: aurorian.aurorian_name,\n                  breakthrough,\n                });\n                break;\n              case 'ignore':\n                onIgnore?.({\n                  aurorianName: aurorian.aurorian_name,\n                });\n                break;\n              default:\n                break;\n            }\n          },\n        }}\n      >\n        <motion.div\n          ref={containerRef}\n          className={clsx(styles.AdaptiveAurorianCard, styles.BackgroundImage)}\n          whileHover={{ opacity: 0.6 }}\n          whileTap={{ opacity: 0.2 }}\n        >\n          {aurorian ? (\n            <>\n              <Flex vertical className={styles.NameContainer}>\n                <span>{aurorian?.aurorian_cn_name}</span>\n                {typeof breakthrough === 'number' && aurorian?.rarity ? (\n                  <ConfigProvider theme={rateTheme}>\n                    <Rate\n                      className={styles.BreakThrough}\n                      disabled\n                      value={breakthrough}\n                      count={RarityMapper[aurorian.rarity]}\n                    />\n                  </ConfigProvider>\n                ) : null}\n              </Flex>\n              <Flex className={styles.MetaContainer}>\n                <img\n                  className={styles.MetaClass}\n                  alt={aurorian.class}\n                  src={ClassURLMapper[aurorian.class]}\n                />\n                <Flex align=\"center\">\n                  <img\n                    className={styles.MetaFirstAttribute}\n                    alt={aurorian.attribute}\n                    src={ElementURLMapper[aurorian.attribute]}\n                  />\n                  {aurorian.secondary_attribute ? (\n                    <img\n                      className={styles.MetaSecondAttribute}\n                      alt={aurorian.secondary_attribute}\n                      src={ElementURLMapper[aurorian.secondary_attribute]}\n                    />\n                  ) : null}\n                </Flex>\n              </Flex>\n            </>\n          ) : null}\n          {isReplaceable ? (\n            <Tag className={styles.ReplaceableTag} color={'#dc5950'}>\n              可替\n            </Tag>\n          ) : null}\n        </motion.div>\n      </Dropdown>\n    );\n  },\n);\n","import type { CopilotType } from '@sinsa/schema';\nimport type React from 'react';\nimport { Flex } from 'antd';\nimport type { IgnoreMessage } from '../../types';\nimport styles from './styles.module.less';\nimport { AdaptiveAurorianCard } from './AdaptiveAurorianCard';\n\ninterface AdaptiveAuroriansTeamProps {\n  aurorianSummaries: CopilotType['aurorian_summaries'];\n  onIgnore?: (msg: IgnoreMessage) => void;\n}\n\nexport const AdaptiveAuroriansTeam: React.FC<AdaptiveAuroriansTeamProps> = ({\n  aurorianSummaries,\n  onIgnore,\n}) => {\n  return (\n    <Flex className={styles.AuroriansTeam}>\n      {aurorianSummaries.map(\n        ({ aurorian_name, breakthrough, is_replaceable }) => {\n          return (\n            <AdaptiveAurorianCard\n              key={aurorian_name}\n              name={aurorian_name}\n              breakthrough={breakthrough}\n              isReplaceable={is_replaceable}\n              onIgnore={onIgnore}\n            />\n          );\n        },\n      )}\n    </Flex>\n  );\n};\n","import type { CopilotType, TermType } from '@sinsa/schema';\nimport { clsx } from 'clsx';\nimport { Flex, Tag, Tooltip, Typography } from 'antd';\nimport React from 'react';\nimport numeral from 'numeral';\nimport type { IgnoreMessage } from '../types';\nimport { AdaptiveAuroriansTeam } from './AdaptiveAuroriansTeam';\nimport styles from './styles.module.less';\nimport { ReactComponent as IconMessage } from './assets/icon-message.svg';\nimport { RelativeTimeText } from '@/components/RelativeTimeText';\n\ninterface CopilotBlockProps {\n  copilot: CopilotType;\n  currentTerm: TermType;\n  className?: string;\n  onIgnore?: (msg: IgnoreMessage) => void;\n}\n\nexport const CopilotBlock = React.memo<CopilotBlockProps>(\n  ({ copilot, currentTerm, className, onIgnore }) => {\n    return (\n      <div className={clsx(styles.CopilotBlock, className)}>\n        <AdaptiveAuroriansTeam\n          onIgnore={onIgnore}\n          aurorianSummaries={copilot.aurorian_summaries}\n        />\n        <div className={styles.PaddingContainer}>\n          <Flex className={styles.Header}>\n            <Typography.Link\n              href={`https://www.bilibili.com/video/${copilot.bv}`}\n              target=\"_blank\"\n              title={copilot.title}\n            >\n              <span className={styles.Score}>\n                {numeral(copilot.score).format('0,0')}\n              </span>\n            </Typography.Link>\n            <Flex className={styles.Author} align=\"center\">\n              <Typography.Text strong>{copilot.author}</Typography.Text>\n              {copilot.description ? (\n                <Typography.Text className={styles.Dot} type=\"secondary\">\n                  ·\n                </Typography.Text>\n              ) : null}\n              {copilot.description ? (\n                <Tooltip title={copilot.description}>\n                  {copilot.description ? <IconMessage /> : null}\n                </Tooltip>\n              ) : null}\n              <Typography.Text className={styles.Dot} type=\"secondary\">\n                ·\n              </Typography.Text>\n              <RelativeTimeText time={copilot.upload_time} />\n            </Flex>\n          </Flex>\n          <div className={styles.Title}>\n            <Typography.Link\n              href={`https://www.bilibili.com/video/${copilot.bv}`}\n              target=\"_blank\"\n              title={copilot.title}\n              ellipsis={true}\n            >\n              {currentTerm?.term &&\n              copilot.rerun_terms?.includes(currentTerm.term) ? (\n                <Tooltip title={`复刻第 ${copilot.term} 期荒典作业`}>\n                  <Tag color=\"red\">复刻</Tag>\n                </Tooltip>\n              ) : null}\n              {copilot.title\n                .replace('【白夜极光】', '')\n                .replace('白夜极光', '')\n                .replace('荒典', '')}\n            </Typography.Link>\n          </div>\n        </div>\n      </div>\n    );\n  },\n  (prev, next) =>\n    prev.className === next.className &&\n    prev.copilot.bv === next.copilot.bv &&\n    prev.currentTerm.term === next.currentTerm.term,\n);\n","import type { TermType } from '@sinsa/schema';\nimport type { Solution } from '@sinsa/solution-calculator/dist/types/types';\nimport { Card, Typography } from 'antd';\nimport React, { useMemo } from 'react';\nimport { isEqual } from 'lodash-es';\nimport numeral from 'numeral';\nimport { copilotRowKey } from '../CopilotsTable';\nimport { CopilotBlock } from './CopilotBlock';\nimport styles from './styles.module.less';\nimport type { IgnoreMessage } from './types';\n\nexport interface SolutionCardProps {\n  solution: Solution;\n  currentTerm: TermType;\n  index: number;\n  onIgnore?: (msg: IgnoreMessage) => void;\n}\n\nexport const SolutionCard = React.memo<SolutionCardProps>(\n  ({ solution, currentTerm, index, onIgnore }) => {\n    const sorted = useMemo(() => {\n      return [...solution.copilots].sort((a, b) => b.score - a.score);\n    }, [solution]);\n    return (\n      <Card className={styles.SolutionCard} bodyStyle={{ paddingBottom: 16 }}>\n        <div className={styles.TotalScore}>\n          <Typography.Text strong>{`#${index + 1} 匹配方案 ${numeral(\n            solution.totalScore,\n          ).format('0,0')}`}</Typography.Text>\n        </div>\n\n        {sorted.map(copilot => {\n          return (\n            <CopilotBlock\n              className={styles.ControlledCopilotBlock}\n              key={copilotRowKey(copilot)}\n              copilot={copilot}\n              currentTerm={currentTerm}\n              onIgnore={onIgnore}\n            />\n          );\n        })}\n      </Card>\n    );\n  },\n  (prev, next) =>\n    isEqual(\n      prev.solution.copilots.map(c => c.bv),\n      next.solution.copilots.map(c => c.bv),\n    ) &&\n    prev.currentTerm.term === next.currentTerm.term &&\n    prev.index === next.index,\n);\n","/* eslint-disable max-lines */\nimport type { ProFormInstance } from '@ant-design/pro-components';\nimport {\n  ProForm,\n  ProFormDependency,\n  ProFormRadio,\n  ProFormSwitch,\n} from '@ant-design/pro-components';\nimport type { CopilotType, TermType } from '@sinsa/schema';\nimport {\n  Card,\n  ConfigProvider,\n  Empty,\n  List,\n  Result,\n  Space,\n  Typography,\n  notification,\n} from 'antd';\nimport { useModel } from '@modern-js/runtime/model';\nimport { produce } from 'immer';\nimport {\n  useLocalStorageState,\n  useMemoizedFn,\n  useRequest,\n  useUpdateEffect,\n} from 'ahooks';\nimport { useMemo, useRef, useState } from 'react';\nimport type { Solution } from '@sinsa/solution-calculator/dist/types/types';\nimport { isEmpty } from 'lodash-es';\nimport SINSA_SORRY from './assets/sorry.png';\nimport { AuroriansModel } from '@/models/aurorians';\nimport { ExcludeAurorianFormList } from '@/components/ExcludeAurorianFormList';\nimport { solutionAlgorithm } from '@/services/solution-algorithm';\nimport { SolutionCard } from '@/components/SolutionCard';\nimport type { IgnoreMessage } from '@/components/SolutionCard/types';\n\ninterface CopilotSolutionProps {\n  dataSource: CopilotType[];\n  currentTerm: TermType;\n}\n\ninterface QueryParams {\n  k: number;\n  box: 'whole' | 'my-box';\n  disalbeAlternative?: boolean;\n  enableExclude?: boolean;\n  exclude?: {\n    aurorianName: string;\n    excludeBreakthrough?: number;\n    excludeBreakthroughOnly?: boolean;\n  }[];\n  enableSaveLocalStorage?: boolean;\n}\n\nconst initialValues = { k: 3, box: 'whole', exclude: [{}] as any[] } as const;\n\nconst EXTENDED_TEAM_COUNT = [\n  { label: '一队', value: 1 },\n  { label: '两队', value: 2 },\n  { label: '三队', value: 3 },\n  { label: '四队', value: 4 },\n];\n\nexport const CopilotSolution: React.FC<CopilotSolutionProps> = ({\n  dataSource,\n  currentTerm,\n}) => {\n  const [{ WHOLE_BOX }] = useModel(AuroriansModel);\n\n  const formRef = useRef<ProFormInstance>();\n  const [current, setCurrent] = useState(1);\n  const inViewRef = useRef<HTMLDivElement>(null);\n  const LOCAL_STORAGE_SETTING_KEY = useMemo(\n    () => `SINSA_DADDY_SOLUTIONS_FILTER_KEY_V1_${currentTerm.term}` as const,\n    [currentTerm.term],\n  );\n\n  const [localSetting, setLocalSetting] = useLocalStorageState(\n    LOCAL_STORAGE_SETTING_KEY,\n    {\n      defaultValue: undefined,\n    },\n  );\n\n  const [copilotsIgnore, setCopilotsIgnore] = useState<CopilotType['bv'][]>(\n    () => [],\n  );\n\n  const { data, loading, runAsync } = useRequest(\n    async (params: QueryParams) => {\n      let filterBox = WHOLE_BOX.aurorian_summaries;\n      if (params.exclude) {\n        filterBox = produce(WHOLE_BOX.aurorian_summaries, draft => {\n          for (const aurorianInExclude of params.exclude!) {\n            if (!aurorianInExclude.excludeBreakthroughOnly) {\n              delete draft[aurorianInExclude.aurorianName];\n            } else if (\n              typeof aurorianInExclude.excludeBreakthrough === 'number' &&\n              aurorianInExclude.excludeBreakthrough >= 1\n            ) {\n              draft[aurorianInExclude.aurorianName].breakthrough =\n                aurorianInExclude.excludeBreakthrough - 1;\n            }\n          }\n        });\n      }\n\n      const allSolutions = await solutionAlgorithm.calculateAllSolutions(\n        { copilots: dataSource, availableBox: filterBox },\n        params.k,\n        { disalbeAlternative: params.disalbeAlternative, copilotsIgnore },\n      );\n\n      const rankSet = new WeakMap<Solution, number>();\n      for (let i = 0; i < allSolutions.solutions.length; i++) {\n        const target = allSolutions.solutions[i];\n        rankSet.set(target, i);\n      }\n\n      gtag('event', 'get_solution_result', {\n        k: params.k,\n        box: params.box,\n        disalbeAlternative: params.disalbeAlternative,\n        enableExclude: params.enableExclude,\n        solutions_length: allSolutions.solutions.length,\n        exclude: params.exclude\n          ?.map(\n            xclude =>\n              `${xclude.aurorianName}_${\n                (xclude.excludeBreakthroughOnly &&\n                  xclude.excludeBreakthrough) ||\n                ''\n              }`,\n          )\n          .join(','),\n      });\n\n      return {\n        allSolutions,\n        rankSet,\n      };\n    },\n    {\n      manual: true,\n      defaultParams: [initialValues],\n      refreshDeps: [copilotsIgnore],\n    },\n  );\n\n  useUpdateEffect(() => {\n    formRef.current?.submit();\n  }, [copilotsIgnore]);\n\n  const handleIgnore = useMemoizedFn((msg: IgnoreMessage) => {\n    if (!formRef.current) {\n      return;\n    }\n    if (msg.aurorianName) {\n      formRef.current.setFieldValue('enableExclude', true);\n      const prevExcludeArray = formRef.current.getFieldValue(\n        'exclude',\n      ) as QueryParams['exclude'];\n      if (Array.isArray(prevExcludeArray)) {\n        const target = prevExcludeArray.find(\n          t => t.aurorianName === msg.aurorianName,\n        );\n        if (!target) {\n          if (prevExcludeArray.length === 1 && isEmpty(prevExcludeArray[0])) {\n            prevExcludeArray.pop();\n          }\n          if (msg.breakthrough) {\n            formRef.current.setFieldValue('exclude', [\n              ...prevExcludeArray,\n              {\n                aurorianName: msg.aurorianName,\n                excludeBreakthroughOnly: true,\n                excludeBreakthrough: msg.breakthrough,\n              },\n            ]);\n          } else {\n            formRef.current.setFieldValue('exclude', [\n              ...prevExcludeArray,\n              { aurorianName: msg.aurorianName },\n            ]);\n          }\n          formRef.current.submit();\n        } else {\n          notification.error({\n            message: `这个光灵已经在排除列表中了 ❤`,\n          });\n        }\n      }\n    }\n  });\n\n  return (\n    <>\n      <Card style={{ marginBottom: '1rem' }}>\n        <ProForm<QueryParams>\n          formRef={formRef}\n          onFinish={async params => {\n            await runAsync(params);\n            setCurrent(1);\n          }}\n          initialValues={localSetting ?? initialValues}\n          layout=\"vertical\"\n          submitter={{\n            // render: (_, dom) => <FooterToolbar>{dom}</FooterToolbar>,\n            onReset() {\n              setCopilotsIgnore([]);\n            },\n            searchConfig: { submitText: '寻找匹配方案' },\n            render(_, dom) {\n              return (\n                <Space wrap>\n                  {dom}\n                  {data?.allSolutions ? (\n                    <Typography.Text>\n                      已为您找到{' '}\n                      <Typography.Text strong>\n                        {data?.allSolutions.solutions.length}\n                      </Typography.Text>{' '}\n                      个匹配方案\n                    </Typography.Text>\n                  ) : null}\n                  {copilotsIgnore.length ? (\n                    <Typography.Text>\n                      已忽略{' '}\n                      <Typography.Text strong>\n                        {copilotsIgnore.length}\n                      </Typography.Text>{' '}\n                      个作业\n                    </Typography.Text>\n                  ) : null}\n                </Space>\n              );\n            },\n          }}\n          loading={loading}\n          onValuesChange={(_, allValues) => {\n            if (allValues.enableSaveLocalStorage) {\n              const currentFormValues = formRef.current?.getFieldsValue();\n              if (currentFormValues) {\n                setLocalSetting(currentFormValues);\n              }\n            } else {\n              setLocalSetting(undefined);\n            }\n          }}\n        >\n          <ProForm.Group>\n            <ProFormRadio.Group\n              name=\"k\"\n              label=\"队伍数量\"\n              rules={[{ required: true }]}\n              options={EXTENDED_TEAM_COUNT}\n              allowClear={false}\n              radioType=\"button\"\n            />\n\n            {/* <ProFormRadio.Group\n              name=\"box\"\n              label=\"Box 匹配\"\n              options={[\n                { label: '全图鉴满突破 Box', value: 'whole' },\n                { label: '自定义 Box', value: 'my-box', disabled: true },\n              ]}\n              allowClear={false}\n              radioType=\"button\"\n              rules={[{ required: true }]}\n              extra=\"自定义 Box 匹配暂不支持，无法选中，敬请期待w\"\n            /> */}\n            <ProFormSwitch\n              name={'disalbeAlternative'}\n              label=\"不考虑可替自由位\"\n              tooltip=\"开启后，计算的队伍方案中绝对不会出现重复光灵，满足图鉴大佬的强迫症\"\n            />\n            <ProForm.Group>\n              <ProFormSwitch\n                name=\"enableExclude\"\n                label=\"额外排除光灵\"\n                tooltip=\"排除光灵会忽略可替自由位\"\n              />\n              <ProFormDependency name={['enableExclude']}>\n                {({ enableExclude }) => {\n                  if (enableExclude) {\n                    return <ExcludeAurorianFormList name={'exclude'} />;\n                  }\n                  return null;\n                }}\n              </ProFormDependency>\n            </ProForm.Group>\n            <ProFormSwitch\n              name={'enableSaveLocalStorage'}\n              label=\"记住我的设置\"\n              tooltip=\"开启后，这一期荒典筛选的设置将会储存在您的浏览器本地，避免繁琐重复筛选\"\n            />\n          </ProForm.Group>\n        </ProForm>\n      </Card>\n      <div ref={inViewRef} />\n      <ConfigProvider\n        renderEmpty={name => {\n          if (name === 'List') {\n            return data?.allSolutions?.solutions?.length === 0 ? (\n              <Result\n                icon={\n                  <img width={100} src={SINSA_SORRY} alt=\"醒山daddy: 很抱歉\" />\n                }\n                title=\"没能找到匹配的作业\"\n                subTitle={\n                  <div>\n                    <div>\n                      1. 可以适当降低搜索的队伍数量。例如搜索两队 + 自己自动一队\n                    </div>\n                    <div>2. 当前作业数量较少。可等待作业站更新后再次搜索</div>\n                  </div>\n                }\n              />\n            ) : (\n              <Empty\n                image={Empty.PRESENTED_IMAGE_SIMPLE}\n                description=\"准备好寻找作业了！\"\n              />\n            );\n          }\n          return <Empty image={Empty.PRESENTED_IMAGE_SIMPLE} />;\n        }}\n      >\n        <List\n          loading={loading}\n          dataSource={data?.allSolutions?.solutions}\n          pagination={{\n            align: 'center',\n            defaultPageSize: 5,\n            current,\n            onChange(page) {\n              setCurrent(page);\n              window.scrollTo({\n                top: inViewRef.current!.offsetTop,\n                behavior: 'smooth',\n              });\n            },\n            showSizeChanger: false,\n          }}\n          rowKey={sc => sc.copilots.map(c => c.bv).join('')}\n          renderItem={item => {\n            return (\n              <SolutionCard\n                index={data?.rankSet.get(item) ?? 0}\n                solution={item}\n                currentTerm={currentTerm}\n                onIgnore={handleIgnore}\n              />\n            );\n          }}\n        />\n      </ConfigProvider>\n    </>\n  );\n};\n","import { useModel } from '@modern-js/runtime/model';\nimport { Select } from 'antd';\nimport { useNavigate, useParams } from '@modern-js/runtime/router';\nimport { TermsModel } from '@/models/terms';\nimport type { RoutePath } from '@/views/GlobalLayout/constants';\n\nexport const TermChanger: React.FC<{\n  pathFn: typeof RoutePath.Copilots | typeof RoutePath.Solutions;\n}> = ({ pathFn }) => {\n  const params = useParams<{ term: `${number}` }>();\n  const [terms] = useModel(TermsModel);\n  const navigate = useNavigate();\n\n  return (\n    <Select\n      value={params.term && Number.parseInt(params.term, 10)}\n      options={terms.termsOptions}\n      placeholder=\"荒典期数\"\n      onChange={(nextTerm: number) => {\n        navigate(pathFn(nextTerm));\n      }}\n    />\n  );\n};\n","import { useModel } from '@modern-js/runtime/model';\nimport { Button, Result } from 'antd';\nimport { Link } from '@modern-js/runtime/router';\nimport { TermsModel } from '@/models/terms';\nimport { RoutePath } from '@/views/GlobalLayout/constants';\n\nexport const TermNotFound: React.FC = () => {\n  const [{ latestTerm: currentTerm }] = useModel(TermsModel);\n\n  return (\n    <Result\n      status=\"404\"\n      title=\"暂时没有这期荒典作业\"\n      subTitle=\"检查链接是否正确或返回最近荒典作业\"\n      extra={\n        currentTerm ? (\n          <Link to={RoutePath.Copilots(currentTerm.term)}>\n            <Button type=\"primary\">返回最近作业</Button>\n          </Link>\n        ) : (\n          <Link to={RoutePath.Home}>\n            <Button type=\"primary\">返回首页</Button>\n          </Link>\n        )\n      }\n    />\n  );\n};\n","/* eslint-disable no-nested-ternary */\nimport { useParams } from '@modern-js/runtime/router';\nimport { PageContainer } from '@ant-design/pro-components';\nimport { useMemo } from 'react';\nimport { useRequest } from 'ahooks';\nimport { useModel } from '@modern-js/runtime/model';\nimport { Space, Typography } from 'antd';\nimport { TermNotFound } from '@/containers/TermNotFound';\nimport { TermChanger } from '@/containers/TermChanger';\nimport { CopilotSolution } from '@/containers/CopilotSolution';\nimport { TermsModel } from '@/models/terms';\nimport { http } from '@/services/fetch';\nimport { RoutePath } from '@/views/GlobalLayout/constants';\nimport { RelativeTimeText } from '@/components/RelativeTimeText';\n\nconst SolutionsPage: React.FC = () => {\n  const params = useParams<{ term: `${number}` }>();\n  const [{ termsMap }] = useModel(TermsModel);\n  const currentTerm = useMemo(\n    () => params.term && termsMap[params.term],\n    [params.term],\n  );\n  const { data, error, loading } = useRequest(\n    () =>\n      currentTerm?.term\n        ? http.getCopilots(currentTerm.term)\n        : (Promise.resolve({}) as ReturnType<typeof http.getCopilots>),\n    { ready: Boolean(currentTerm?.term), refreshDeps: [currentTerm?.term] },\n  );\n\n  const copilots = useMemo(() => Object.values(data ?? []), [data]);\n\n  return (\n    <PageContainer\n      content={\n        <Space>\n          <TermChanger pathFn={RoutePath.Solutions} />\n          {copilots[0] ? (\n            <Typography.Text>\n              上次作业更新 <RelativeTimeText time={copilots[0].upload_time} />\n            </Typography.Text>\n          ) : null}\n          <Typography.Text type=\"secondary\">\n            Tips: 点击匹配作业中光灵头像可唤出菜单一键排除光灵或仅排除突破 ❤\n          </Typography.Text>\n        </Space>\n      }\n      title=\"作业匹配\"\n      loading={loading}\n    >\n      {error ? (\n        <TermNotFound />\n      ) : currentTerm ? (\n        <CopilotSolution dataSource={copilots} currentTerm={currentTerm} />\n      ) : null}\n    </PageContainer>\n  );\n};\n\nexport default SolutionsPage;\n","import {\n  AurorianAttributeType,\n  AurorianClassType,\n  AurorianRarityType,\n} from '@sinsa/schema';\nimport E1 from '@/assets/elements/1.webp';\nimport E2 from '@/assets/elements/2.webp';\nimport E3 from '@/assets/elements/3.webp';\nimport E4 from '@/assets/elements/4.webp';\nimport C1 from '@/assets/classes/2001.webp';\nimport C2 from '@/assets/classes/2002.webp';\nimport C3 from '@/assets/classes/2003.webp';\nimport C4 from '@/assets/classes/2004.webp';\n\nexport const RarityMapper = {\n  [AurorianRarityType.Star6]: 6,\n  [AurorianRarityType.Star5]: 5,\n  [AurorianRarityType.Star4]: 4,\n  [AurorianRarityType.Star3]: 3,\n  [AurorianRarityType.Star2]: 2,\n  [AurorianRarityType.Star1]: 1,\n};\n\nexport const ElementURLMapper = {\n  [AurorianAttributeType.Water]: E1,\n  [AurorianAttributeType.Fire]: E2,\n  [AurorianAttributeType.Forest]: E3,\n  [AurorianAttributeType.Thunder]: E4,\n};\n\nexport const ElementTextMapper = {\n  [AurorianAttributeType.Water]: '水',\n  [AurorianAttributeType.Fire]: '火',\n  [AurorianAttributeType.Forest]: '森',\n  [AurorianAttributeType.Thunder]: '雷',\n};\n\nexport const ClassURLMapper = {\n  [AurorianClassType.Converter]: C1,\n  [AurorianClassType.Sniper]: C2,\n  [AurorianClassType.Detonator]: C3,\n  [AurorianClassType.Supporter]: C4,\n};\n","import { useEffect, useRef } from 'react';\n\nexport function useLazyImage(aurorian_name?: string) {\n  const containerRef = useRef<HTMLDivElement>(null);\n  useEffect(() => {\n    const loadImage = async () => {\n      if (aurorian_name) {\n        const module = await import(`@/assets/skins/${aurorian_name}.webp`);\n        if (typeof module?.default === 'string') {\n          if (containerRef.current) {\n            containerRef.current.style.backgroundImage = `url(${module.default})`;\n          }\n        }\n      }\n    };\n    loadImage();\n  }, [aurorian_name]);\n\n  return {\n    containerRef,\n  };\n}\n","import type {\n  CalcOptions,\n  SolutionContext,\n  AllSolutions,\n} from '@sinsa/solution-calculator/dist/types/types';\n\nexport class SolutionAlgorithmService {\n  private static instance: SolutionAlgorithmService | null = null;\n\n  public static getInstance(): SolutionAlgorithmService {\n    if (SolutionAlgorithmService.instance === null) {\n      SolutionAlgorithmService.instance = new SolutionAlgorithmService();\n    }\n    return SolutionAlgorithmService.instance;\n  }\n\n  protected constructor() {\n    // noop\n  }\n\n  calculateAllSolutions(\n    context: SolutionContext,\n    k: number,\n    options: CalcOptions,\n  ): Promise<AllSolutions> {\n    return new Promise((resolve, reject) => {\n      const worker = new Worker(\n        new URL('@sinsa/solution-calculator', import.meta.url),\n      );\n\n      worker.addEventListener('message', event => {\n        const result = event.data;\n        resolve(result);\n        worker.terminate();\n      });\n\n      worker.addEventListener('error', error => {\n        reject(error);\n        worker.terminate();\n      });\n\n      worker.postMessage({ context, k, options });\n    });\n  }\n}\n\nexport const solutionAlgorithm = SolutionAlgorithmService.getInstance();\n"],"names":["_path","_path2","_extends","Object","assign","bind","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","SvgIconMessage","props","xmlns","width","height","fill","viewBox","stroke","strokeLinecap","strokeLinejoin","strokeWidth","d","_path3","_path4","SvgIconDelete","AurorianCard","name","breakthrough","isReplaceable","sameSize","auroriansMap","useModel","AuroriansModel","aurorian","useMemo","cardRef","useRef","useEffect","aurorian_name","then","esm","default","current","style","backgroundImage","catch","Badge","fontSize","display","zIndex","text","undefined","className","clsx","ref","class","attribute","alt","src","ClassURLMapper","ElementURLMapper","secondary_attribute","title","aurorian_cn_name","rarity","ConfigProvider","theme","components","Rate","starBg","starSize","disabled","value","count","RarityMapper","AuroriansTeam","aurorianSummaries","map","is_replaceable","getCopilotsColumns","currentTerm","showScoreSorter","dataIndex","hideInSearch","render","_","entity","aurorian_summaries","valueType","sorter","align","ellipsis","renderText","dom","Tooltip","description","Typography","href","bv","term","rerun_terms","includes","Tag","color","RelativeTimeText","time","upload_time","hideInTable","fieldProps","placeholder","copilotRowKey","c","TABLE_CONST_PROPS","pagination","pageSize","size","position","showTotal","total","scroll","x","scrollToFirstRowOnChange","CopilotsTable","dataSource","actionRef","deps","request","useCallback","params","sort","base","filter","item","ok","score","startsWith","data","a","b","success","columns","Card","ProTable","rowKey","search","toolBarRender","ghost","ExcludeAurorianFormList","auroriansOptions","ProFormList","creatorButtonProps","creatorButtonText","alwaysShowItemLabel","actionRender","field","action","Button","marginLeft","icon","verticalAlign","onClick","e","stopPropagation","remove","ProForm","label","rules","required","Select","options","showSearch","allowClear","filterOption","filterAuroriansOption","ProFormDependency","aurorianName","ProFormSwitch","excludeBreakthroughOnly","targetAurorian","ProFormRate","allowHalf","tooltip","format","fromNow","prev","cur","valueOf","AdaptiveAurorianCard","onIgnore","containerRef","useLazyImage","screen","useBreakpoint","rateTheme","items","Dropdown","trigger","getPopupContainer","document","body","menu","console","log","motion","whileHover","opacity","whileTap","Flex","vertical","AdaptiveAuroriansTeam","CopilotBlock","copilot","strong","author","type","replace","next","SolutionCard","solution","index","sorted","copilots","bodyStyle","paddingBottom","totalScore","isEqual","initialValues","k","box","exclude","EXTENDED_TEAM_COUNT","CopilotSolution","WHOLE_BOX","formRef","setCurrent","useState","inViewRef","LOCAL_STORAGE_SETTING_KEY","localSetting","setLocalSetting","useLocalStorageState","defaultValue","copilotsIgnore","setCopilotsIgnore","loading","runAsync","useRequest","filterBox","produce","draft","aurorianInExclude","excludeBreakthrough","allSolutions","solutionAlgorithm","availableBox","disalbeAlternative","rankSet","WeakMap","solutions","set","gtag","enableExclude","solutions_length","xclude","join","manual","defaultParams","refreshDeps","useUpdateEffect","submit","handleIgnore","useMemoizedFn","msg","setFieldValue","prevExcludeArray","getFieldValue","Array","isArray","find","t","notification","message","isEmpty","pop","marginBottom","onFinish","layout","submitter","onReset","searchConfig","submitText","Space","wrap","onValuesChange","allValues","enableSaveLocalStorage","currentFormValues","getFieldsValue","ProFormRadio","radioType","renderEmpty","Result","subTitle","Empty","image","List","defaultPageSize","onChange","page","window","scrollTo","top","offsetTop","behavior","showSizeChanger","sc","renderItem","get","TermChanger","pathFn","useParams","terms","TermsModel","navigate","useNavigate","Number","parseInt","termsOptions","nextTerm","TermNotFound","latestTerm","status","extra","Link","to","RoutePath","termsMap","error","http","Promise","resolve","ready","Boolean","values","PageContainer","content","AurorianRarityType","AurorianAttributeType","AurorianClassType","loadImage","module","SolutionAlgorithmService","getInstance","instance","calculateAllSolutions","context","reject","worker","Worker","URL","addEventListener","event","terminate","postMessage"],"mappings":"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"}