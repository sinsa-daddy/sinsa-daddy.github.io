/*! For license information please see 273.be846405.js.LICENSE.txt */
(self.webpackChunk_sinsa_web=self.webpackChunk_sinsa_web||[]).push([["273"],{250229:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=n("332590"),i=n("949494"),o=n("716770"),a=n("962295");t.default=function(){function e(){this.name="click-collector",this.DELAY_TIME=300}return e.prototype.setup=function(e,t){var n=e.getConfig().collectors;!1===(void 0===n?{}:n).action||a.document.addEventListener("click",function(e){var n=(0,i.getCurrentTime)(e.timeStamp),a=(0,i.formatNumber)(performance.now()-e.timeStamp),s=e.target;if(s instanceof HTMLElement){var u=(0,o.getClosestTargetAncestorElement)(s,["button","a","input","select","option","textarea"]);if(u){var c=u.localName,f=u.nodeName,l=u.innerText,d=(c||f).toLowerCase(),v=u.getAttribute("type"),p=l&&": "+(20<l.length?l.slice(0,20)+"...":l);t({event_type:r.RumEventType.ACTION,type:"click",name:"click on "+(v?v+"-":"")+d+p,target_name:(0,o.getElementXpath)(s),duration:a,times:1,timestamp:n})}}},!0)},e}()},652682:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=n("332590"),i=n("269947"),o=n("962295");t.default=function(){function e(){this.name="exception-collector",this.MAX_STACK_NUM=5}return e.prototype.setup=function(e,t){var n=e.getConfig().collectors,a=void 0===n?{}:n;!1!==a.consoleError&&(0,r.interceptFunction)(o.global.console,"error",function(){for(var e=arguments.length,n=Array(e),o=0;o<e;o++)n[o]=arguments[o];(n||[]).forEach(function(e){"object"==typeof e&&e.stack&&t({event_type:r.RumEventType.EXCEPTION,source:"console",type:"error",name:(0,i.getErrorNameByMessage)(e.stack),message:e.message,stack:e.stack,times:1})})}),!1!==a.jsError&&o.global.addEventListener("error",function(e){e.preventDefault();var n=e.colno,o=e.lineno,a=e.filename,s=e.error,u=e.message;s||(s={}),t({event_type:r.RumEventType.EXCEPTION,source:"event",type:"error",name:s.name||(0,i.getErrorNameByMessage)(u),message:s.message||u,file:a,stack:s.stack,line:o,column:n,times:1})}),o.global.addEventListener("unhandledrejection",function(e){e.preventDefault();var n=e.reason;"object"==typeof n&&n.stack&&t({event_type:r.RumEventType.EXCEPTION,source:"event",type:"error",name:(0,i.getErrorNameByMessage)(n.stack),message:n.message,stack:n.stack,times:1})})},e}()},224587:function(e,t,n){"use strict";var r=n("707177");t.__esModule=!0,t.default=void 0;var i=r(n("254468")),o=r(n("100395")),a=r(n("725530")),s=n("332590"),u=n("554072"),c=n("381388"),f=n("496255"),l=n("949494"),d=n("962295"),v=n("347288"),p=d.global.PerformanceObserver;t.default=function(){function e(){this.name="api-collector",this.entryTypes=["xmlhttprequest","fetch"],this.cachedEntries=[],this.cachedApiAttrs=[],this.ctx=void 0,this.sendEvent=void 0}var t=e.prototype;return t.setup=function(e,t){var n=e.getConfig().collectors;!1===(void 0===n?{}:n).api||(this.sendEvent=t,this.ctx=e,this.perfObserver(),this.hackXhr(),this.hackFetch())},t.perfObserver=function(){var e=this;(0,s.isFunction)(p)&&new PerformanceObserver(function(t){var n=t.getEntries().filter(function(t){return e.entryTypes.includes(t.initiatorType)});n&&n.length&&n.forEach(function(t){e.mergeDataAndSend({entry:t})})}).observe({type:"resource",buffered:!0})},t.injectTracing=function(e,t){var n=this.ctx.getConfig(),r=n.tracing,i=n.pid,o=(0,s.parseTracingOptions)(r),a=o.enable,u=o.allowedUrls,c=o.sample,f=o.tracestate,l=o.baggage;if(a){var p=(0,s.generateTraceId)(),h=(0,s.generateSpanId)(),m=(0,s.performDraw)(c),g=(0,v.getSessionID)();u.push({match:function(e){return/^https?:\/\/*/.test(e)&&(0,s.startsWith)(e,d.location.origin)},propagatorTypes:["tracecontext"]});var y=(0,s.find)(u,function(t){return(0,s.matchList)([t.match],e.url)});if(y){var _=(0,s.makeTracingHeaders)(p,h,m,y.propagatorTypes,void 0===f||f?"rum=v2&browser&"+i+"&"+g:void 0,void 0!==l&&l?"rum=v2,appType=browser,pid="+i+",sid="+g:void 0);m&&(e.trace_id=p,e.trace_data=JSON.stringify({spanId:h,sampled:m,headers:_})),t(_)}}},t.hackXhr=function(){var e=XMLHttpRequest.prototype,t=this;(0,s.interceptFunction)(e,"open",function(e,n){var r=n+"",i=e.toUpperCase();(0,s.urlMatch)(r)||"HEAD"===i||(this.apiAttr={},this.apiAttr.url=(0,c.fixRelativeUrl)(r),this.apiAttr.method=i,this.apiAttr.view=(0,f.getCurView)(t.ctx),this._start_time=(0,l.getCurrentTime)())}),(0,s.interceptFunction)(e,"send",function(){var e=this;this.apiAttr&&t.injectTracing(this.apiAttr,function(t){Object.keys(t).forEach(function(n){e.setRequestHeader(n,t[n])})}),this.addEventListener("loadend",function(){if(e.apiAttr){var n,r=e.status,i=e.statusText;e.response,e.apiAttr.status_code=r,e.apiAttr.message=i,(0,s.isFunction)(p)||(n={name:e.apiAttr.url,entryType:"xmlhttprequest",duration:(0,l.getCurrentTime)()-e._start_time}),t.mergeDataAndSend({attr:e.apiAttr,entry:n})}})})},t.hackFetch=function(){var e=this;(0,l.hackFunction)(d.global,"fetch",function(t){return function(n,r){void 0===r&&(r={});var o,u,v,h,m=n instanceof Request?n.url:(0,s.isString)(n)?n:n.toString(),g=(null===(u=r)||void 0===u||null===(v=u.method)||void 0===v?void 0:v.toUpperCase())||"GET";if((0,s.urlMatch)(m)||"HEAD"===g||"no-cors"===(null===(h=r)||void 0===h?void 0:h.mode))return t.call(d.global,n,r);var y=(0,l.getCurrentTime)(),_={};return _.url=(0,c.fixRelativeUrl)(m),_.method=g,_.view=(0,f.getCurView)(e.ctx),e.injectTracing(_,function(e){r.headers=r.headers||{},Object.keys(e).forEach(function(t){r.headers[t]=e[t]})}),t.call(d.global,n,r).then((o=(0,a.default)(i.default.mark(function e(t){var n,r,o;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=(n=t.clone()).status,o=n.statusText,_.status_code=r,_.message=o,e.abrupt("return",t);case 5:case"end":return e.stop()}},e)})),function(){return o.apply(this,arguments)}),function(e){throw _.message=e+"",e}).finally(function(){var t;(0,s.isFunction)(p)||(t={name:_.url,entryType:"fetch",duration:(0,l.getCurrentTime)()-y}),e.mergeDataAndSend({attr:_,entry:t})})}})},t.mergeDataAndSend=function(e){var t=this;try{var n=function(e,n){var r=t.ctx.getConfig().parseResourceName,i=e.url,a=e.status_code,f=e.view,l=(0,u.getResourceStatusByCode)(a);t.sendEvent((0,o.default)({event_type:s.RumEventType.RESOURCE,url:i,name:(0,c.getResourceName)(i,r),type:n.initiatorType||n.entryType,success:l},e,(0,u.calcResourceTimingData)(n),{view:f}))},r=e.attr,i=e.entry;if(r&&i)return void n(r,i);var a=this.cachedApiAttrs,f=this.cachedEntries;if(r){var l=f.find(function(e){return e.name===r.url});if(!l)return void a.push(r);f=f.filter(function(e){return e.name!==l.name}),n(r,l)}if(i){var d=a.find(function(e){return e.url===i.name});if(!d)return void f.push(i);a=a.filter(function(e){return e.url!==d.url}),n(d,i)}}catch(e){}},e}()},520611:function(e,t,n){"use strict";var r=n("707177");t.__esModule=!0,t.default=void 0;var i=r(n("100395")),o=n("332590"),a=n("554072"),s=n("381388"),u=n("496255"),c=n("962295");function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var l=c.global.PerformanceObserver;t.default=function(){function e(){this.name="static-resource-collector",this.entryTypes=["audio","video","track","script","css","img","image","link","other"],this.cachedErrors=[],this.WAIT_FOR_ERROR_TIME=1e3}return e.prototype.setup=function(e,t){var n=this,r=e.getConfig().collectors;if(!1!==(void 0===r?{}:r).staticResource&&(0,o.isFunction)(l)){c.document.addEventListener("error",function(e){n.cachedErrors.push(e)},!0),new l(function(t){var r=t.getEntries().filter(function(e){return n.entryTypes.includes(e.initiatorType)});if(r&&r.length){var i=(0,u.getCurView)(e);r.forEach(function(e){setTimeout(function(){d(e,i)},n.WAIT_FOR_ERROR_TIME)})}}).observe({type:"resource",buffered:!0});var d=function(r,u){for(var c,l=e.getConfig(),d=l.parseResourceName,v=r.responseStatus||200,p=r.name,h=r.initiatorType||r.entryType,m=(0,a.getResourceStatusByCode)(v),g=(0,i.default)({event_type:o.RumEventType.RESOURCE,url:p,name:(0,s.getResourceName)(p,d),type:h,method:"GET",status_code:v,success:m},(0,a.calcResourceTimingData)(r),{view:u}),y=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?f(e,t):void 0}}(e))){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(n.cachedErrors);!(c=y()).done;){var _,E,b=c.value;(p===(null===(_=b.target)||void 0===_?void 0:_.src)||p===(null===(E=b.target)||void 0===E?void 0:E.href))&&(g.success=a.ResourceStatus.Failed,delete g.status_code)}n.cachedErrors=n.cachedErrors.filter(function(e){var t,n;return p!==(null===(t=e.target)||void 0===t?void 0:t.src)&&p!==(null===(n=e.target)||void 0===n?void 0:n.href)}),(0,o.urlMatch)(g.url)||t(g)}}},e}()},709713:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=n("332590"),i=n("949494"),o=n("381388"),a=n("962295");t.default=function(){function e(){var e=this;this.name="perf-collector",this.ctx=void 0,this.sendEvent=void 0,this.sendPerf=function(){setTimeout(function(){var t=performance.getEntriesByType("navigation")[0],n=t.loadEventEnd,s=t.domInteractive,u=t.domContentLoadedEventEnd,c=t.domComplete,f=(performance.getEntriesByType("paint").find(function(e){return"first-contentful-paint"===e.name})||{}).startTime;e.sendEvent({event_type:r.RumEventType.VIEW,type:"perf",url:(0,o.getCurrentURL)(),referrer:a.document.referrer||"",loading_type:"initial_load",timing_data:JSON.stringify(t),first_contentful_paint:(0,i.formatNumber)(f),dom_interactive:(0,i.formatNumber)(s),dom_content_loaded:(0,i.formatNumber)(u),dom_complete:(0,i.formatNumber)(c),load_event:(0,i.formatNumber)(n)})},0)}}var t=e.prototype;return t.setup=function(e,t){var n=e.getConfig().collectors;!1===(void 0===n?{}:n).perf||(this.ctx=e,this.sendEvent=t,a.global.addEventListener("load",this.sendPerf))},t.destroy=function(){a.global.removeEventListener("load",this.sendPerf)},e}()},23297:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=n("332590"),i=n("381388"),o=n("347288"),a=n("962295"),s=a.history&&!!a.history.pushState&&!!a.history.replaceState;t.default=function(){function e(){var e=this;this.name="pv-collector",this.ctx=void 0,this.sendEvent=void 0,this.prevUrl=void 0,this.sendPv=function(t,n,i){void 0===i&&(i="route_change");var a=e.getViewName(t),s=e.prevUrl;e.prevUrl=t,s&&a===e.getViewName(s)||(e.ctx.addView({id:(0,o.getViewId)(),name:a}),e.sendEvent({event_type:r.RumEventType.VIEW,type:"pv",name:a,url:t,referrer:n,loading_type:i}))},this.historyFn=function(){var t=2<arguments.length?2>=arguments.length?void 0:arguments[2]:void 0;if(t){var n=a.location.origin+t,r=e.prevUrl;e.sendPv(n,r)}},this.popstateFn=function(){var t=(0,i.getCurrentURL)(),n=e.prevUrl;e.sendPv(t,n)}}var t=e.prototype;return t.setup=function(e,t){this.ctx=e,this.sendEvent=t,this.sendPv((0,i.getCurrentURL)(),a.document.referrer||"","initial_load");var n=this.getSpaMode();s&&n&&((0,r.interceptFunction)(a.global.history,"pushState",this.historyFn),(0,r.interceptFunction)(a.global.history,"replaceState",this.historyFn),a.global.addEventListener("popstate",this.popstateFn))},t.getSpaMode=function(){var e=this.ctx.getConfig().spaMode;return(0,r.isUndefined)(e)&&(e=!0),!!e&&("history"!==e&&"hash"!==e?"history":e)},t.getViewName=function(e){var t=this.ctx.getConfig(),n=this.getSpaMode(),o=(0,i.getPathByURL)(e,"hash"===n);return(0,r.isFunction)(t.parseViewName)&&(o=t.parseViewName(e)),o},t.destroy=function(){s&&a.global.removeEventListener("popstate",this.popstateFn)},e}()},783326:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=n("332590"),i=n("949494"),o=n("381388"),a=n("496255"),s=n("767032"),u=n("962295");t.default=function(){function e(){this.name="web-vitals-collector",this.ctx=void 0,this.sendEvent=void 0}var t=e.prototype;return t.setup=function(e,t){var n=e.getConfig().collectors;!1===(void 0===n?{}:n).webVitals||(this.ctx=e,this.sendEvent=t,this.sendWebvitals())},t.sendWebvitals=function(){var e=this,t=(0,a.getCurView)(this.ctx);(0,s.onLCP)(function(n){e.sendEvent({event_type:r.RumEventType.VIEW,type:"webvitals",url:(0,o.getCurrentURL)(),referrer:u.document.referrer||"",loading_type:"initial_load",largest_contentful_paint:(0,i.formatNumber)(n.value),view:t})}),(0,s.onFID)(function(n){e.sendEvent({event_type:r.RumEventType.VIEW,type:"webvitals",url:(0,o.getCurrentURL)(),referrer:u.document.referrer||"",loading_type:"initial_load",first_input_delay:(0,i.formatNumber)(n.value),view:t})}),(0,s.onCLS)(function(n){e.sendEvent({event_type:r.RumEventType.VIEW,type:"webvitals",url:(0,o.getCurrentURL)(),referrer:u.document.referrer||"",loading_type:"initial_load",cumulative_layout_shift:(0,i.formatNumber)(n.value),view:t})})},e}()},341438:function(e,t,n){"use strict";var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=i(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!=a&&Object.prototype.hasOwnProperty.call(e,a)){var s=o?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(r,a,s):r[a]=e[a]}return r.default=e,n&&n.set(e,r),r}(n("101633"));function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(i=function(e){return e?n:t})(e)}t.__esModule=!0,t.default=void 0,t.ArmsRum=r.ArmsRum;t.default=r.default},306893:function(e,t,n){"use strict";var r=n("707177");t.__esModule=!0,t.default=void 0;var i=r(n("100395")),o=n("347288"),a=n("949494"),s=n("496255");t.default=function(){function e(){this.name="default-processor"}return e.prototype.process=function(e){var t=e.getRumEvent(),n=(0,s.getCurView)(e);return(0,i.default)({timestamp:(0,a.getCurrentTime)(),event_id:(0,o.getEventId)(),view:n},t)},e}()},68215:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=n("347288"),i=n("949494");t.default=function(){function e(){this.name="session-processor",this.lastTime=(0,i.getCurrentTime)(),this.sessionOvertime=36e5}return e.prototype.process=function(e){var t=(0,i.getCurrentTime)();return t-this.lastTime>this.sessionOvertime&&(0,r.setSessionID)(),this.lastTime=t,e.getRumEvent()},e}()},80016:function(e,t,n){"use strict";var r=n("707177");t.__esModule=!0,t.default=void 0;var i=r(n("100395")),o=r(n("817779")),a=n("332590"),s=n("347288"),u=n("962295"),c=function(e){function t(){for(var t,n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).name="browser-reporter",t}(0,o.default)(t,e);var n=t.prototype;return n.init=function(){var e=this;u.document.addEventListener("visibilitychange",function(){"hidden"===u.document.visibilityState&&e.flushEventQueue()})},n.request=function(e,t,n){var r,o=e.getConfig(),u=o.pid,c=o.env,f=o.version,l=o.endpoint,d=o.beforeReport,v=o.user,p={app:{id:u,env:void 0===c?"prod":c,version:f,type:a.AppType.browser},user:(0,i.default)({id:(0,s.getUserID)()},void 0===v?{}:v),session:{id:(0,s.getSessionID)()},view:n,net:{model:(null===(r=navigator.connection)||void 0===r?void 0:r.effectiveType)||""},events:t};if(!("function"==typeof d&&!(p=d(p))))try{navigator.sendBeacon(l,JSON.stringify(p))}catch(e){}},t}(a.Reporter);t.default=c},101633:function(e,t,n){"use strict";var r=n("707177");t.__esModule=!0,t.default=t.ArmsRum=void 0;var i=r(n("100395")),o=r(n("817779")),a=n("332590"),s=r(n("23297")),u=r(n("652682")),c=r(n("709713")),f=r(n("783326")),l=r(n("224587")),d=r(n("520611")),v=r(n("250229")),p=r(n("306893")),h=r(n("68215")),m=r(n("80016")),g=n("962295"),y=t.ArmsRum=function(e){function t(){return e.apply(this,arguments)||this}(0,o.default)(t,e);var n=t.prototype;return n.init=function(e){this.client.useCollectors([new s.default,new c.default,new f.default,new u.default,new l.default,new d.default,new v.default]),this.client.useProcessors([new p.default,new h.default]),this.client.useReporter(new m.default),this.client.init(e)},n.getConfig=function(){return this.client.getContext().getConfig()},n.setConfig=function(){var e=this.client.getContext();if(2==arguments.length){var t,n=this.client.getContext(),r=n.getConfig();n.setConfig((0,i.default)({},r,((t={})[0>=arguments.length?void 0:arguments[0]]=1>=arguments.length?void 0:arguments[1],t)))}else e.setConfig(0>=arguments.length?void 0:arguments[0])},t}(a.Shell);t.default=new y(g.global.__rum)},949494:function(e,t){"use strict";t.__esModule=!0,t.formatNumber=function(e,t){if(void 0===t&&(t=3),!e)return e;var n=e.toString(),r=n.indexOf(".");return parseFloat(n=-1===r?n.substring(0):n.substring(0,t+r+1))},t.getCurrentTime=function(e){var t,n;return null!==(t=performance)&&void 0!==t&&t.timeOrigin&&null!==(n=performance)&&void 0!==n&&n.now?Math.round(performance.timeOrigin+(e||performance.now())):Date.now()},t.hackFunction=function(e,t,n){if("object"==typeof e&&"function"==typeof e[t]){var r=n(e[t]);e[t]=r}}},716770:function(e,t,n){"use strict";var r=n("962295");t.__esModule=!0,t.getClosestTargetAncestorElement=function(e,t){for(var n=e;n!==r.document.documentElement;){var i=n,o=i.localName,a=i.nodeName,s=i.parentElement;if(t.includes((o||a).toLocaleLowerCase()))return n;if(!s)break;n=s}return null},t.getElementXpath=function(e,t){void 0===t&&(t=!1);var n=e;if(n&&n.id&&!t)return'//*[@id="'+n.id+'"]';for(var r=[];n&&Node.ELEMENT_NODE===n.nodeType;){for(var i=0,o=!1,a=n.previousSibling;a;)a.nodeType!==Node.DOCUMENT_TYPE_NODE&&a.nodeName===n.nodeName&&i++,a=a.previousSibling;for(a=n.nextSibling;a;){if(a.nodeName===n.nodeName){o=!0;break}a=a.nextSibling}var s=n.prefix?n.prefix+":":"",u=i||o?"["+(i+1)+"]":"";r.push(s+n.localName+u),n=n.parentNode}return r.length?"/"+r.reverse().join("/"):""}},269947:function(e,t){"use strict";t.__esModule=!0,t.getErrorNameByMessage=function(e){void 0===e&&(e="");var t=e.split(":");return t&&t.length?t[0]:""}},962295:function(e,t){"use strict";t.__esModule=!0,t.location=t.history=t.global=t.document=void 0,t.global=window,t.document=window.document,t.location=window.location,t.history=window.history},554072:function(e,t,n){"use strict";t.__esModule=!0,t.ResourceStatus=void 0,t.calcResourceTimingData=function(e){var t=e.decodedBodySize,n=e.redirectStart,r=e.redirectEnd,o=e.domainLookupStart,a=e.domainLookupEnd,s=e.connectStart,u=e.secureConnectionStart,c=e.connectEnd,f=e.requestStart,l=e.responseStart,d=e.responseEnd,v=e.duration,p=(0,i.formatNumber)(r-n),h=(0,i.formatNumber)(a-o),m=(0,i.formatNumber)(c-s),g=(0,i.formatNumber)(l-f),y=(0,i.formatNumber)(d-l),_={duration:(0,i.formatNumber)(v),size:(0,i.formatNumber)(t),redirect_duration:isNaN(p)?void 0:p,dns_duration:isNaN(h)?void 0:h,connect_duration:isNaN(m)?void 0:m,first_byte_duration:isNaN(g)?void 0:g,download_duration:isNaN(y)?void 0:y,timing_data:JSON.stringify(e)};return u&&(_.ssl_duration=(0,i.formatNumber)(c-u)),_},t.getResourceStatusByCode=function(e){var t,n=[200,300];return e&&e>=200&&e<300?o.Success:o.Failed};var r,i=n("949494"),o=t.ResourceStatus=((r={})[r.Failed=0]="Failed",r[r.Success=1]="Success",r)},381388:function(e,t,n){"use strict";t.__esModule=!0,t.fixRelativeUrl=a,t.getCurrentURL=function(){return i.location?i.location.href:""},t.getPathByURL=o,t.getResourceName=function(e,t){var n;return(0,r.isFunction)(t)?t(e):o(e)};var r=n("332590"),i=n("962295");function o(e,t){void 0===t&&(t=!1);try{var n=new URL(a(e));if(t)return n.hash.replace("#","").replace(/\?.*$/,"")||"/";return n.pathname||"/"}catch(e){return"[unknown]"}}function a(e,t,n){return(void 0===t&&(t=i.location.protocol),void 0===n&&(n=i.location.host),/^https?:\/\//i.test(e))?e:/^\/\//i.test(e)?""+t+e:t+"//"+n+(/^\//i.test(e)?"":"/")+e}},347288:function(e,t,n){"use strict";t.__esModule=!0,t.getEventId=function(){return(0,r.generateGUID)()},t.getSessionID=function(){var e=u.getItem(o),t=new Date(u.getItem(a));return(!e||32>e.length||!t.valueOf()||t<new Date)&&(e=f()),e},t.getUUID=c,t.getUserID=function(){var e=u.getItem(s);return e||(e=c("user"),u.setItem(s,e)),e},t.getViewId=function(){return(0,r.generateGUID)()},t.setSessionID=f;var r=n("332590"),i=n("962295"),o="_arms_sid",a="_arms_sid_exp",s="_arms_uid",u=i.global.localStorage;function c(e){return void 0===e&&(e=""),e&&(e+="_"),""+e+(0,r.generateUUID)()}function f(){var e=(0,r.generateGUID)();return u.setItem(o,e),u.setItem(a,new Date(Date.now()+864e5).toString()),e}},496255:function(e,t){"use strict";t.__esModule=!0,t.getCurView=function(e){var t=e.getViews();if(t&&t.length)return t[t.length-1]}},332590:function(e,t,n){"use strict";var r=n("707177");t.__esModule=!0;var i={Client:!0,Context:!0,Reporter:!0,Shell:!0},o=r(n("133989"));t.Client=o.default;var a=r(n("465787"));t.Context=a.default;var s=r(n("771706"));t.Reporter=s.default;var u=r(n("719769"));t.Shell=u.default;var c=n("301373");Object.keys(c).forEach(function(e){if(!("default"===e||"__esModule"===e||Object.prototype.hasOwnProperty.call(i,e)))(!(e in t)||t[e]!==c[e])&&(t[e]=c[e])});var f=n("893726");Object.keys(f).forEach(function(e){if(!("default"===e||"__esModule"===e||Object.prototype.hasOwnProperty.call(i,e)))(!(e in t)||t[e]!==f[e])&&(t[e]=f[e])});var l=n("624039");Object.keys(l).forEach(function(e){if(!("default"===e||"__esModule"===e||Object.prototype.hasOwnProperty.call(i,e)))(!(e in t)||t[e]!==l[e])&&(t[e]=l[e])});var d=n("402937");Object.keys(d).forEach(function(e){if(!("default"===e||"__esModule"===e||Object.prototype.hasOwnProperty.call(i,e)))(!(e in t)||t[e]!==d[e])&&(t[e]=d[e])});var v=n("169133");Object.keys(v).forEach(function(e){if(!("default"===e||"__esModule"===e||Object.prototype.hasOwnProperty.call(i,e)))(!(e in t)||t[e]!==v[e])&&(t[e]=v[e])});var p=n("753125");Object.keys(p).forEach(function(e){if(!("default"===e||"__esModule"===e||Object.prototype.hasOwnProperty.call(i,e)))(!(e in t)||t[e]!==p[e])&&(t[e]=p[e])});var h=n("978659");Object.keys(h).forEach(function(e){if(!("default"===e||"__esModule"===e||Object.prototype.hasOwnProperty.call(i,e)))(!(e in t)||t[e]!==h[e])&&(t[e]=h[e])});var m=n("462074");Object.keys(m).forEach(function(e){if(!("default"===e||"__esModule"===e||Object.prototype.hasOwnProperty.call(i,e)))(!(e in t)||t[e]!==m[e])&&(t[e]=m[e])});var g=n("194712");Object.keys(g).forEach(function(e){if(!("default"===e||"__esModule"===e||Object.prototype.hasOwnProperty.call(i,e)))(!(e in t)||t[e]!==g[e])&&(t[e]=g[e])});var y=n("128812");Object.keys(y).forEach(function(e){if(!("default"===e||"__esModule"===e||Object.prototype.hasOwnProperty.call(i,e)))(!(e in t)||t[e]!==y[e])&&(t[e]=y[e])});var _=n("975991");Object.keys(_).forEach(function(e){if(!("default"===e||"__esModule"===e||Object.prototype.hasOwnProperty.call(i,e)))(!(e in t)||t[e]!==_[e])&&(t[e]=_[e])});var E=n("707461");Object.keys(E).forEach(function(e){if(!("default"===e||"__esModule"===e||Object.prototype.hasOwnProperty.call(i,e)))(!(e in t)||t[e]!==E[e])&&(t[e]=E[e])})},133989:function(e,t,n){"use strict";var r=n("707177");t.__esModule=!0,t.default=void 0;var i=n("301373"),o=n("47324"),a=r(n("465787"));function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var u=function(){function e(){var e=this;this.emitter=new o.EventEmitter,this.collectors=void 0,this.processors=void 0,this.reporter=void 0,this.ctx=void 0,this.sendEvent=function(t){e.emitter.emit(i.EventType.collect,t)}}var t=e.prototype;return t.init=function(e){var t=this;this.ctx=new a.default(e);var n=this.ctx,r=this.collectors,o=this.processors,u=this.reporter;this.emitter.on(i.EventType.collect,function(e){n.setRumEvent(e);for(var t,r=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(e,t)}}(e))){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(o);!(t=r()).done;){var i=t.value;if(!i.match&&(i.match=function(){return!0}),i.match(n)){var a=i.process(n);a&&n.setRumEvent(a)}}u.report(n)}),r.forEach(function(e){e.setup(n,t.sendEvent)})},t.setContext=function(e){this.ctx=e},t.getContext=function(){return this.ctx},t.useCollectors=function(e){this.collectors=e},t.useProcessors=function(e){this.processors=e},t.useReporter=function(e){this.reporter=e},e}();t.default=u},465787:function(e,t){"use strict";t.__esModule=!0,t.default=void 0;var n=function(){function e(e){this.config=e,this.rumEvent=void 0,this.views=[]}var t=e.prototype;return t.getConfig=function(){return this.config},t.setConfig=function(e){this.config=e},t.getViews=function(){return this.views},t.addView=function(e){this.views.push(e)},t.removeView=function(e){this.views=this.views.filter(function(t){return t.id!==e})},t.getRumEvent=function(){return this.rumEvent},t.setRumEvent=function(e){this.rumEvent=e},e}();t.default=n},771706:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=n("169133"),i=n("631489"),o=n("194712");t.default=function(){function e(){this.name="reporter",this.eventQueue=[],this.ctx=void 0,this.timer=void 0}var t=e.prototype;return t.getReportCfg=function(){var e=this.ctx.getConfig().reportConfig;return!(0,o.isObject)(e)&&(e={}),(!e.flushTime||e.flushTime<0||e.flushTime>1e4)&&(e.flushTime=3e3),(!e.maxEventCount||e.maxEventCount<1||e.maxEventCount>100)&&(e.maxEventCount=50),e},t.report=function(e){var t=this;this.ctx=e,this.init(e),clearTimeout(this.timer),this.pushToQueue();var n=this.getReportCfg();this.eventQueue.length>=n.maxEventCount?this.flushEventQueue():this.timer=setTimeout(function(){t.flushEventQueue()},n.flushTime)},t.pushToQueue=function(){var e=this.ctx,t=this.eventQueue,n=e.getRumEvent();if(n.event_type===r.RumEventType.EXCEPTION){var o=n.message,a=n.stack,s=(0,i.getErrorID)({message:o,stack:a}),u=this.eventQueue.find(function(e){if(e.event_type===r.RumEventType.EXCEPTION){var t=e.message,n=e.stack;return(0,i.getErrorID)({message:t,stack:n})===s}});if(u){u.times++;return}}if(n.event_type===r.RumEventType.ACTION){var c=n.target_name,f=this.eventQueue.find(function(e){if(e.event_type===r.RumEventType.ACTION)return c===e.target_name});if(f){f.times++;return}}t.push(n)},t.flushEventQueue=function(){var e=this.ctx,t=this.eventQueue;if(t.length){var n=e.getViews(),r=n[n.length-1];n.forEach(function(e){e.id===r.id&&t.filter(function(t){var n;return(null===(n=t.view)||void 0===n?void 0:n.id)===e.id}).forEach(function(e){delete e.view})}),this.request(e,t,r),this.eventQueue=[]}},t.init=function(e){},e}()},719769:function(e,t,n){"use strict";var r=n("707177");t.__esModule=!0,t.default=void 0;var i=r(n("100395")),o=n("169133"),a=n("332590");t.default=function(){function e(e){this.client=void 0,this.client=new a.Client,e&&this.init&&this.init(e)}var t=e.prototype;return t.sendEvent=function(e){this.client&&this.client.sendEvent(e)},t.getConfig=function(){if(this.client)return this.client.getContext().getConfig()},t.sendCustom=function(e){if(e.name&&e.type){var t=(0,i.default)({},e,{event_type:o.RumEventType.CUSTOM});this.sendEvent(t)}},e}()},301373:function(e,t){"use strict";var n;t.__esModule=!0,t.EventType=void 0,t.EventType=((n={}).collect="collect",n)},893726:function(e,t){"use strict";t.__esModule=!0},624039:function(e,t){"use strict";t.__esModule=!0},402937:function(e,t){"use strict";t.__esModule=!0},169133:function(e,t){"use strict";var n,r;t.__esModule=!0,t.RumEventType=t.AppType=void 0,t.RumEventType=((n={}).VIEW="view",n.RESOURCE="resource",n.EXCEPTION="exception",n.LONG_TASK="longtask",n.ACTION="action",n.CUSTOM="custom",n),t.AppType=((r={}).browser="browser",r.miniapp="miniapp",r)},753125:function(e,t){"use strict";t.__esModule=!0},978659:function(e,t){"use strict";t.__esModule=!0,t.generateGUID=function(){var e="";try{crypto&&crypto.randomUUID&&(e=crypto.randomUUID())}catch(e){}return!e&&(e="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)})),e},t.generateUUID=function(e){void 0===e&&(e=8);for(var t,n,r=Array(e),i=Date.now().toString(36).split("");e-- >0;)n=(t=36*Math.random()|0).toString(36),r[e]=t%3?n:n.toUpperCase();for(var o=0;o<8;o++)r.splice(3*o+2,0,i[o]);return r.join("")},t.interceptFunction=function(e,t,n){var r=e[t];e[t]=function(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];if(n.apply(this,t),r)return r.apply(this,t)}}},631489:function(e,t){"use strict";t.__esModule=!0,t.getErrorID=void 0,t.getErrorID=function(e){var t=e.message,n=e.stack;return(void 0===t?"":t)+(void 0===n?"":n)}},194712:function(e,t){"use strict";function n(e,t){return typeof e===t}function r(e,t){return Object.prototype.toString.call(e)==="[object "+t+"]"}t.__esModule=!0,t.isString=t.isRegExp=t.isObject=t.isNumber=t.isNull=t.isFunction=t.isBoolean=t.isArray=void 0,t.isToString=r,t.isTypeof=n,t.isUndefined=void 0,t.isFunction=function(e){return"function"==typeof e},t.isUndefined=function(e){return n(e,"undefined")},t.isString=function(e){return n(e,"string")},t.isArray=function(e){return r(e,"Array")},t.isRegExp=function(e){return r(e,"RegExp")},t.isBoolean=function(e){return n(e,"boolean")},t.isNumber=function(e){return n(e,"number")&&!isNaN(e)||n(e,"bigint")};var i=t.isNull=function(e){return n(e,"null")};t.isObject=function(e){return!i(e)&&n(e,"object")}},975991:function(e,t,n){"use strict";t.__esModule=!0,t.isMatchOption=function(e){return(0,r.isString)(e)||(0,r.isFunction)(e)||(0,r.isRegExp)(e)},t.matchList=o,t.urlMatch=function(e,t){void 0===t&&(t=[]);try{var n=[/https?:\/\/.*rum|retcode\.aliyuncs\.com/,/https?:\/\/.*log-global\.aliyuncs\.com/,/https?:\/\/.*\.mmstat\.com/].concat(t);return o(n,e)}catch(e){return!1}};var r=n("194712"),i=n("462074");function o(e,t,n){return void 0===n&&(n=!0),e.some(function(e){try{if("function"==typeof e)return e(t);if(e instanceof RegExp)return e.test(t);else if("string"==typeof e)return n?(0,i.startsWith)(t,e):e===t}catch(e){}return!1})}},128812:function(e,t){"use strict";t.__esModule=!0,t.performDraw=function(e){return 0!==e&&100*Math.random()<=e},t.round=function(e,t){return+e.toFixed(t)}},462074:function(e,t){"use strict";t.__esModule=!0,t.assign=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return n.forEach(function(t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}),e},t.endsWith=function(e,t){return e.slice(-t.length)===t},t.find=function(e,t){for(var n=0;n<e.length;n+=1){var r=e[n];if(t(r,n))return r}},t.startsWith=function(e,t){return e.slice(0,t.length)===t}},707461:function(e,t,n){"use strict";t.__esModule=!0,t.generateSpanId=function(){for(var e=Array(16),t=0;t<16;t++)e[t]=Math.floor(16*Math.random())+48,e[t]>=58&&(e[t]+=39);return String.fromCharCode.apply(null,e.slice(0,16))},t.generateTraceId=function(){var e=(0,o.generateGUID)().replace(/-/g,"");return"0"===e[0]&&(e="1"+e.substring(1)),"0"===e[16]&&(e=e.substring(0,16)+"1"+e.substring(17)),e},t.generateTraceIdForSW8=function(e){},t.isTraceOption=a,t.makeTracingHeaders=function(e,t,n,r,i,o){var a={},s=n?"1":"0";return r.forEach(function(n){switch(n){case"jaeger":a["uber-trace-id"]=e+":"+t+":0:"+s;break;case"b3":a.b3=e+"-"+t+"-"+s;break;case"b3multi":a["X-B3-TraceId"]=e,a["X-B3-SpanId"]=t,a["X-B3-Sampled"]=s;break;case"sw8":break;default:a.traceparent="00-"+e+"-"+t+"-0"+s,i&&(a.tracestate=i)}}),o&&(a.baggage=o),a},t.parseTracingOptions=function(e){if((0,i.isBoolean)(e)||!e)return{enable:!!e,sample:100,allowedUrls:[],tracestate:!0,baggage:!1};var t=e.enable,n=void 0===t||t,o=e.sample,s=void 0===o?100:o,u=e.allowedUrls,c=void 0===u?[]:u,f=e.tracestate,l=e.baggage,d=[];return(0,i.isArray)(c)&&c.length&&c.forEach(function(e){(0,r.isMatchOption)(e)?d.push({match:e,propagatorTypes:["tracecontext"]}):a(e)&&d.push(e)}),{enable:!(0,i.isBoolean)(n)||n,sample:(0,i.isNumber)(s)?s:100,allowedUrls:d,tracestate:void 0===f||f,baggage:void 0!==l&&l}};var r=n("975991"),i=n("194712"),o=n("978659");function a(e){return e&&(0,r.isMatchOption)(e.match)&&(0,i.isArray)(e.propagatorTypes)}},47324:function(e){"use strict";var t,n="object"==typeof Reflect?Reflect:null,r=n&&"function"==typeof n.apply?n.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};t=n&&"function"==typeof n.ownKeys?n.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var i=Number.isNaN||function(e){return e!=e};function o(){o.init.call(this)}e.exports=o,e.exports.once=function(e,t){return new Promise(function(n,r){function i(n){e.removeListener(t,o),r(n)}function o(){"function"==typeof e.removeListener&&e.removeListener("error",i),n([].slice.call(arguments))}h(e,t,o,{once:!0}),"error"!==t&&function(e,t,n){"function"==typeof e.on&&h(e,"error",t,n)}(e,i,{once:!0})})},o.EventEmitter=o,o.prototype._events=void 0,o.prototype._eventsCount=0,o.prototype._maxListeners=void 0;var a=10;function s(e){if("function"!=typeof e)throw TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function u(e){return void 0===e._maxListeners?o.defaultMaxListeners:e._maxListeners}function c(e,t,n,r){if(s(n),void 0===(a=e._events)?(a=e._events=Object.create(null),e._eventsCount=0):(void 0!==a.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),a=e._events),c=a[t]),void 0===c)c=a[t]=n,++e._eventsCount;else if("function"==typeof c?c=a[t]=r?[n,c]:[c,n]:r?c.unshift(n):c.push(n),(o=u(e))>0&&c.length>o&&!c.warned){c.warned=!0;var i,o,a,c,f=Error("Possible EventEmitter memory leak detected. "+c.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");f.name="MaxListenersExceededWarning",f.emitter=e,f.type=t,f.count=c.length,i=f,console&&console.warn&&console.warn(i)}return e}function f(){if(!this.fired)return(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0==arguments.length)?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function l(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},i=f.bind(r);return i.listener=n,r.wrapFn=i,i}function d(e,t,n){var r=e._events;if(void 0===r)return[];var i=r[t];return void 0===i?[]:"function"==typeof i?n?[i.listener||i]:[i]:n?function(e){for(var t=Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(i):p(i,i.length)}function v(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function p(e,t){for(var n=Array(t),r=0;r<t;++r)n[r]=e[r];return n}Object.defineProperty(o,"defaultMaxListeners",{enumerable:!0,get:function(){return a},set:function(e){if("number"!=typeof e||e<0||i(e))throw RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");a=e}}),o.init=function(){(void 0===this._events||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},o.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||i(e))throw RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},o.prototype.getMaxListeners=function(){return u(this)},o.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var i="error"===e,o=this._events;if(void 0!==o)i=i&&void 0===o.error;else if(!i)return!1;if(i){if(t.length>0&&(a=t[0]),a instanceof Error)throw a;var a,s=Error("Unhandled error."+(a?" ("+a.message+")":""));throw s.context=a,s}var u=o[e];if(void 0===u)return!1;if("function"==typeof u)r(u,this,t);else{for(var c=u.length,f=p(u,c),n=0;n<c;++n)r(f[n],this,t)}return!0},o.prototype.addListener=function(e,t){return c(this,e,t,!1)},o.prototype.on=o.prototype.addListener,o.prototype.prependListener=function(e,t){return c(this,e,t,!0)},o.prototype.once=function(e,t){return s(t),this.on(e,l(this,e,t)),this},o.prototype.prependOnceListener=function(e,t){return s(t),this.prependListener(e,l(this,e,t)),this},o.prototype.removeListener=function(e,t){var n,r,i,o,a;if(s(t),void 0===(r=this._events)||void 0===(n=r[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(i=-1,o=n.length-1;o>=0;o--)if(n[o]===t||n[o].listener===t){a=n[o].listener,i=o;break}if(i<0)return this;0===i?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,i),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,a||t)}return this},o.prototype.off=o.prototype.removeListener,o.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0==arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0==arguments.length){var i,o=Object.keys(n);for(r=0;r<o.length;++r)"removeListener"!==(i=o[r])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},o.prototype.listeners=function(e){return d(this,e,!0)},o.prototype.rawListeners=function(e){return d(this,e,!1)},o.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):v.call(e,t)},o.prototype.listenerCount=v,o.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]};function h(e,t,n,r){if("function"==typeof e.on)r.once?e.once(t,n):e.on(t,n);else if("function"==typeof e.addEventListener)e.addEventListener(t,function i(o){r.once&&e.removeEventListener(t,i),n(o)});else throw TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e)}},767032:function(e,t){var n,r;n=this,r=function(e){"use strict";var t,n,r,i,o,a=-1,s=function(e){addEventListener("pageshow",function(t){t.persisted&&(a=t.timeStamp,e(t))},!0)},u=function(){return window.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0]},c=function(){var e=u();return e&&e.activationStart||0},f=function(e,t){var n=u(),r="navigate";return a>=0?r="back-forward-cache":n&&(document.prerendering||c()>0?r="prerender":document.wasDiscarded?r="restore":n.type&&(r=n.type.replace(/_/g,"-"))),{name:e,value:void 0===t?-1:t,rating:"good",delta:0,entries:[],id:"v3-".concat(Date.now(),"-").concat(Math.floor(8999999999999*Math.random())+1e12),navigationType:r}},l=function(e,t,n){try{if(PerformanceObserver.supportedEntryTypes.includes(e)){var r=new PerformanceObserver(function(e){Promise.resolve().then(function(){t(e.getEntries())})});return r.observe(Object.assign({type:e,buffered:!0},n||{})),r}}catch(e){}},d=function(e,t,n,r){var i,o;return function(a){var s,u;t.value>=0&&(a||r)&&((o=t.value-(i||0))||void 0===i)&&(i=t.value,t.delta=o,t.rating=(s=t.value,s>(u=n)[1]?"poor":s>u[0]?"needs-improvement":"good"),e(t))}},v=function(e){requestAnimationFrame(function(){return requestAnimationFrame(function(){return e()})})},p=function(e){var t=function(t){"pagehide"!==t.type&&"hidden"!==document.visibilityState||e(t)};addEventListener("visibilitychange",t,!0),addEventListener("pagehide",t,!0)},h=function(e){var t=!1;return function(n){t||(e(n),t=!0)}},m=-1,g=function(){return"hidden"!==document.visibilityState||document.prerendering?1/0:0},y=function(e){"hidden"===document.visibilityState&&m>-1&&(m="visibilitychange"===e.type?e.timeStamp:0,E())},_=function(){addEventListener("visibilitychange",y,!0),addEventListener("prerenderingchange",y,!0)},E=function(){removeEventListener("visibilitychange",y,!0),removeEventListener("prerenderingchange",y,!0)},b=function(){return m<0&&(m=g(),_(),s(function(){setTimeout(function(){m=g(),_()},0)})),{get firstHiddenTime(){return m}}},T=function(e){document.prerendering?addEventListener("prerenderingchange",function(){return e()},!0):e()},w=[1800,3e3],C=function(e,t){t=t||{},T(function(){var n,r=b(),i=f("FCP"),o=l("paint",function(e){e.forEach(function(e){"first-contentful-paint"===e.name&&(o.disconnect(),e.startTime<r.firstHiddenTime&&(i.value=Math.max(e.startTime-c(),0),i.entries.push(e),n(!0)))})});o&&(n=d(e,i,w,t.reportAllChanges),s(function(r){n=d(e,i=f("FCP"),w,t.reportAllChanges),v(function(){i.value=performance.now()-r.timeStamp,n(!0)})}))})},x=[.1,.25],O=function(e,t){t=t||{},C(h(function(){var n,r=f("CLS",0),i=0,o=[],a=function(e){e.forEach(function(e){if(!e.hadRecentInput){var t=o[0],n=o[o.length-1];i&&e.startTime-n.startTime<1e3&&e.startTime-t.startTime<5e3?(i+=e.value,o.push(e)):(i=e.value,o=[e])}}),i>r.value&&(r.value=i,r.entries=o,n())},u=l("layout-shift",a);u&&(n=d(e,r,x,t.reportAllChanges),p(function(){a(u.takeRecords()),n(!0)}),s(function(){i=0,n=d(e,r=f("CLS",0),x,t.reportAllChanges),v(function(){return n()})}),setTimeout(n,0))}))},S={passive:!0,capture:!0},M=new Date,L=function(e,i){t||(t=i,n=e,r=new Date,I(removeEventListener),R())},R=function(){if(n>=0&&n<r-M){var e={entryType:"first-input",name:t.type,target:t.target,cancelable:t.cancelable,startTime:t.timeStamp,processingStart:t.timeStamp+n};i.forEach(function(t){t(e)}),i=[]}},N=function(e){if(e.cancelable){var t,n,r,i,o,a=(e.timeStamp>1e12?new Date:performance.now())-e.timeStamp;"pointerdown"==e.type?(t=a,n=e,r=function(){L(t,n),o()},i=function(){o()},o=function(){removeEventListener("pointerup",r,S),removeEventListener("pointercancel",i,S)},addEventListener("pointerup",r,S),addEventListener("pointercancel",i,S)):L(a,e)}},I=function(e){["mousedown","keydown","touchstart","pointerdown"].forEach(function(t){return e(t,N,S)})},A=[100,300],j=function(e,r){r=r||{},T(function(){var o,a=b(),u=f("FID"),c=function(e){e.startTime<a.firstHiddenTime&&(u.value=e.processingStart-e.startTime,u.entries.push(e),o(!0))},v=function(e){e.forEach(c)},m=l("first-input",v);o=d(e,u,A,r.reportAllChanges),m&&p(h(function(){v(m.takeRecords()),m.disconnect()})),m&&s(function(){o=d(e,u=f("FID"),A,r.reportAllChanges),i=[],n=-1,t=null,I(addEventListener),i.push(c),R()})})},k=0,P=1/0,D=0,F=function(e){e.forEach(function(e){e.interactionId&&(P=Math.min(P,e.interactionId),k=(D=Math.max(D,e.interactionId))?(D-P)/7+1:0)})},U=function(){return o?k:performance.interactionCount||0},B=function(){"interactionCount"in performance||o||(o=l("event",F,{type:"event",buffered:!0,durationThreshold:0}))},V=[200,500],W=0,X=function(){return U()-W},Q=[],H={},q=function(e){var t=Q[Q.length-1],n=H[e.interactionId];if(n||Q.length<10||e.duration>t.latency){if(n)n.entries.push(e),n.latency=Math.max(n.latency,e.duration);else{var r={id:e.interactionId,latency:e.duration,entries:[e]};H[r.id]=r,Q.push(r)}Q.sort(function(e,t){return t.latency-e.latency}),Q.splice(10).forEach(function(e){delete H[e.id]})}},G=function(e,t){t=t||{},T(function(){B();var n,r,i=f("INP"),o=function(e){e.forEach(function(e){e.interactionId&&q(e),"first-input"!==e.entryType||Q.some(function(t){return t.entries.some(function(t){return e.duration===t.duration&&e.startTime===t.startTime})})||q(e)});var t,n=(t=Math.min(Q.length-1,Math.floor(X()/50)),Q[t]);n&&n.latency!==i.value&&(i.value=n.latency,i.entries=n.entries,r())},a=l("event",o,{durationThreshold:null!==(n=t.durationThreshold)&&void 0!==n?n:40});r=d(e,i,V,t.reportAllChanges),a&&("PerformanceEventTiming"in window&&"interactionId"in PerformanceEventTiming.prototype&&a.observe({type:"first-input",buffered:!0}),p(function(){o(a.takeRecords()),i.value<0&&X()>0&&(i.value=0,i.entries=[]),r(!0)}),s(function(){Q=[],W=U(),r=d(e,i=f("INP"),V,t.reportAllChanges)}))})},J=[2500,4e3],K={},$=function(e,t){t=t||{},T(function(){var n,r=b(),i=f("LCP"),o=function(e){var t=e[e.length-1];t&&t.startTime<r.firstHiddenTime&&(i.value=Math.max(t.startTime-c(),0),i.entries=[t],n())},a=l("largest-contentful-paint",o);if(a){n=d(e,i,J,t.reportAllChanges);var u=h(function(){K[i.id]||(o(a.takeRecords()),a.disconnect(),K[i.id]=!0,n(!0))});["keydown","click"].forEach(function(e){addEventListener(e,function(){return setTimeout(u,0)},!0)}),p(u),s(function(r){n=d(e,i=f("LCP"),J,t.reportAllChanges),v(function(){i.value=performance.now()-r.timeStamp,K[i.id]=!0,n(!0)})})}})},z=[800,1800],Y=function e(t){document.prerendering?T(function(){return e(t)}):"complete"!==document.readyState?addEventListener("load",function(){return e(t)},!0):setTimeout(t,0)},Z=function(e,t){t=t||{};var n=f("TTFB"),r=d(e,n,z,t.reportAllChanges);Y(function(){var i=u();if(i){var o=i.responseStart;if(o<=0||o>performance.now())return;n.value=Math.max(o-c(),0),n.entries=[i],r(!0),s(function(){(r=d(e,n=f("TTFB",0),z,t.reportAllChanges))(!0)})}})};e.CLSThresholds=x,e.FCPThresholds=w,e.FIDThresholds=A,e.INPThresholds=V,e.LCPThresholds=J,e.TTFBThresholds=z,e.getCLS=O,e.getFCP=C,e.getFID=j,e.getINP=G,e.getLCP=$,e.getTTFB=Z,e.onCLS=O,e.onFCP=C,e.onFID=j,e.onINP=G,e.onLCP=$,e.onTTFB=Z},"object"==typeof t?r(t):"function"==typeof define&&define.amd?define(["exports"],r):r((n="undefined"!=typeof globalThis?globalThis:n||self).webVitals={})}}]);