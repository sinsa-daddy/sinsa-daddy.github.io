/*! For license information please see 409.4ced45bf.js.LICENSE.txt */
(globalThis.webpackChunk_sinsa_web=globalThis.webpackChunk_sinsa_web||[]).push([["409"],{522728:function(e,r,t){"use strict";e.exports={AdaptiveAurorianCard:"AdaptiveAurorianCard-d7ef3b",adaptiveAurorianCard:"AdaptiveAurorianCard-d7ef3b",BackgroundImage:"BackgroundImage-_43461",backgroundImage:"BackgroundImage-_43461",BreakThrough:"BreakThrough-bbea6b",breakThrough:"BreakThrough-bbea6b",Disabled:"Disabled-_21a59",disabled:"Disabled-_21a59",LargeSize:"LargeSize-_6952b",largeSize:"LargeSize-_6952b",MetaClass:"MetaClass-d72291",metaClass:"MetaClass-d72291",MetaContainer:"MetaContainer-a2721f",metaContainer:"MetaContainer-a2721f",MetaFirstAttribute:"MetaFirstAttribute-cfe989",metaFirstAttribute:"MetaFirstAttribute-cfe989",MetaSecondAttribute:"MetaSecondAttribute-_1cb80",metaSecondAttribute:"MetaSecondAttribute-_1cb80",MiniSize:"MiniSize-_8a459",miniSize:"MiniSize-_8a459",NameContainer:"NameContainer-ca1a21",nameContainer:"NameContainer-ca1a21",ReplaceableTag:"ReplaceableTag-_725fb",replaceableTag:"ReplaceableTag-_725fb"}},899916:function(e,r,t){"use strict";e.exports={RelativeTimeText:"RelativeTimeText-ab3533",relativeTimeText:"RelativeTimeText-ab3533"}},794331:function(e,r,t){"use strict";e.exports={AuroriansTeam:"AuroriansTeam-_29905",auroriansTeam:"AuroriansTeam-_29905"}},293221:function(e,r,t){"use strict";e.exports={Author:"Author-_4d4b8",author:"Author-_4d4b8",CopilotBlock:"CopilotBlock-_51402",copilotBlock:"CopilotBlock-_51402",Dot:"Dot-_3d0fb",dot:"Dot-_3d0fb",Header:"Header-_18b85",header:"Header-_18b85",PaddingContainer:"PaddingContainer-_620c9",paddingContainer:"PaddingContainer-_620c9",Score:"Score-_04302",score:"Score-_04302",Title:"Title-cf149e",title:"Title-cf149e"}},408748:function(e,r,t){"use strict";t.r(r),t.d(r,{AdaptiveAurorianCard:function(){return x}});var a=t("766791"),i=t("450348"),n=t.n(i),s=t("67348"),o=t("835079"),l=t("375748"),c=t("928958"),u=t("863266"),d=t("522728"),m=t("791520"),p=t("887921"),h=t("439538"),g=t("734513");let x=n().memo(e=>{let{aurorianId:r,breakthrough:t,remark:n,onIgnore:x,readOnly:T,mini:b}=e,[{auroriansMap:f}]=(0,s.useModel)(h.AuroriansModel),y=(0,i.useMemo)(()=>f[r],[f,r]),{containerRef:_}=(0,m.useLazyImage)(y?.aurorian_id),j=(0,c.useBreakpoint)(),k=(0,i.useMemo)(()=>{let e=10;switch(j){case"xs":e=10;break;case"sm":e=12;break;default:e=13}return{components:{Rate:{starBg:"white",starSize:e}}}},[j]),C=[{label:`\u{6392}\u{9664}${y?.cn_name}`,key:"ignore"},{label:`\u{4EC5}\u{6392}\u{9664}\u{6B64}\u{7A81}\u{7834}\u{6570}\u{7684}${y?.cn_name}`,key:"ignore-breakthrough"}];return(0,a.jsx)(l.Dropdown,{disabled:T,trigger:["click"],getPopupContainer:()=>document.body,menu:{items:C,onClick:e=>{let{key:r}=e;if(y?.aurorian_id)switch(r){case"ignore-breakthrough":x?.({type:"aurorian",aurorianId:y.aurorian_id,breakthrough:g.getNormalizeBreakthroughByRarity(t??0,y.rarity)});break;case"ignore":x?.({type:"aurorian",aurorianId:y.aurorian_id})}}},children:(0,a.jsxs)(u.m.div,{ref:_,className:(0,o.default)(d.AdaptiveAurorianCard,d.BackgroundImage,T&&d.Disabled,b?d.MiniSize:d.LargeSize),whileHover:T?void 0:{opacity:.6},whileTap:T?void 0:{opacity:.2},children:[y?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(l.Flex,{vertical:!0,className:d.NameContainer,children:[(0,a.jsx)("span",{children:y?.cn_name}),"number"==typeof t&&y?.rarity?(0,a.jsx)(l.ConfigProvider,{theme:k,children:(0,a.jsx)(l.Rate,{className:d.BreakThrough,disabled:!0,value:t,count:y.rarity})}):null]}),(0,a.jsxs)(l.Flex,{className:d.MetaContainer,children:[(0,a.jsx)("img",{className:d.MetaClass,alt:y.profession,src:p.ClassURLMapper[y.profession]}),(0,a.jsxs)(l.Flex,{align:"center",vertical:b,children:[(0,a.jsx)("img",{className:d.MetaFirstAttribute,alt:y.primary_element,src:p.ElementURLMapper[y.primary_element]}),y.secondary_element?(0,a.jsx)("img",{className:d.MetaSecondAttribute,alt:y.secondary_element,src:p.ElementURLMapper[y.secondary_element]}):null]})]})]}):null,n?.replace?.type==="any"&&n?.replace?.any==="All"?(0,a.jsx)(l.Tag,{className:d.ReplaceableTag,color:"#dc5950",children:"\u4EFB\u610F"}):null]})})})},216746:function(e,r,t){"use strict";t.r(r),t.d(r,{RelativeTimeText:function(){return u}});var a=t("766791"),i=t("375748"),n=t("561904"),s=t.n(n),o=t("450348"),l=t.n(o),c=t("899916");let u=l().memo(e=>{let{time:r}=e;return(0,a.jsx)(i.Tooltip,{title:s()(r).format("YYYY-MM-DD HH:mm:ss"),children:(0,a.jsx)("span",{className:c.RelativeTimeText,children:s()(r).fromNow()})})},(e,r)=>e.time.valueOf()===r.time.valueOf())},947720:function(e,r,t){"use strict";t.r(r),t.d(r,{AdaptiveAuroriansTeam:function(){return o}});var a=t("766791"),i=t("375748"),n=t("794331"),s=t("408748");let o=e=>{let{aurorianRequirements:r,onIgnore:t,readOnly:o}=e;return(0,a.jsx)(i.Flex,{className:n.AuroriansTeam,children:r.map(e=>{let{aurorian_id:r,breakthrough:i,remark:n}=e;return(0,a.jsx)(s.AdaptiveAurorianCard,{aurorianId:r,breakthrough:i,remark:n,onIgnore:t,readOnly:o},r)})})}},764059:function(e,r,t){"use strict";t.r(r),t.d(r,{CopilotBlock:function(){return T}});var a=t("766791"),i=t("835079"),n=t("375748"),s=t("450348"),o=t.n(s),l=t("132802"),c=t.n(l),u=t("928958"),d=t("134640"),m=t("947720"),p=t("293221"),h=t("216278"),g=t("216746"),x=t("870233");let T=o().memo(e=>{let{copilot:r,currentTerm:t,className:o,onIgnore:l,readOnly:T}=e,b=(0,u.useBreakpoint)(),f=(0,s.useMemo)(()=>"lg"===b||"xl"===b||"xxl"===b,[b]),y=(0,s.useMemo)(()=>Array.isArray(r.assets),[r.assets]),_=(0,s.useMemo)(()=>(0,x.trimTitle)(r.title),[r.title]);return(0,a.jsxs)("div",{className:(0,i.clsx)(p.CopilotBlock,o),children:[(0,a.jsx)(m.AdaptiveAuroriansTeam,{onIgnore:l,aurorianRequirements:r.aurorian_requirements,readOnly:T}),(0,a.jsxs)("div",{className:p.PaddingContainer,children:[(0,a.jsxs)(n.Flex,{className:p.Header,children:[(0,a.jsx)("span",{className:p.Score,children:c()(r.score).format("0,0")}),(0,a.jsxs)(n.Flex,{className:p.Author,align:"center",children:[(0,a.jsx)(n.Typography.Text,{strong:!0,children:r.author_name}),r.description&&!f?(0,a.jsx)(n.Typography.Text,{className:p.Dot,type:"secondary",children:"\xb7"}):null,r.description&&!f?(0,a.jsx)(n.Tooltip,{title:r.description,children:r.description?(0,a.jsx)(d.MessageOne,{size:18}):null}):null,(0,a.jsx)(n.Typography.Text,{className:p.Dot,type:"secondary",children:"\xb7"}),(0,a.jsx)(g.RelativeTimeText,{time:r.upload_time}),(0,a.jsx)(n.Typography.Text,{className:p.Dot,type:"secondary"}),T?null:(0,a.jsx)(n.Dropdown,{menu:{items:[{key:"ignore",label:(0,a.jsxs)("span",{children:[(0,a.jsx)(d.PreviewCloseOne,{})," \u6392\u9664\u6B64\u4F5C\u4E1A"]})}],onClick(e){"ignore"===e.key&&l?.({type:"copilot",copilotId:r.copilot_id})}},children:(0,a.jsx)(n.Button,{size:"small",icon:(0,a.jsx)(d.More,{})})})]})]}),(0,a.jsx)("div",{className:p.Title,children:(0,a.jsxs)(n.Typography.Link,{href:`https://www.bilibili.com/video/${r.href}`,target:"_blank",title:r.title,ellipsis:!0,children:[t?.term_id&&r.term_id!==t.term_id?(0,a.jsx)(n.Tooltip,{title:`\u{590D}\u{523B} ${r.term_id} \u{671F}\u{8352}\u{5178}`,children:(0,a.jsx)(n.Tag,{color:"red",children:"\u590D\u523B"})}):null,_]})}),r.description&&f?(0,a.jsx)(n.Typography.Paragraph,{type:"secondary",children:r.description}):null,y&&f?r.assets?.map((e,r)=>a.jsx(n.Popconfirm,{okText:"\u786E\u8BA4",title:"\u6B64\u8D44\u6E90\u4EC5\u4E3A\u4E34\u65F6\u5B58\u6863\u3002\u662F\u5426\u5F00\u59CB\u4E0B\u8F7D\uFF1F",onConfirm:()=>{let r=document.createElement("a");r.href=e.script33.link,r.click()},children:a.jsxs(n.Typography.Link,{children:[a.jsx(d.Paperclip,{})," ",h.AssetTypeTextMapper[e.type],"\u5B58\u6863"]})},`${e.type}${r}`)):null]})]})},(e,r)=>e.className===r.className&&e.copilot.copilot_id===r.copilot.copilot_id&&e.currentTerm.term_id===r.currentTerm.term_id)},718606:function(e,r,t){"use strict";t.r(r),t.d(r,{useTargetTermFromParams:function(){return c},TermChanger:function(){return u}});var a=t("766791"),i=t("67348"),n=t("375748"),s=t("551895"),o=t("450348"),l=t("966785");function c(){let e=(0,s.useParams)(),[{termsMap:r,latestTerm:t}]=(0,i.useModel)(l.TermsModel);return{targetTerm:(0,o.useMemo)(()=>{if(e.termId)return"latest"===e.termId?t:r[e.termId]},[e.termId,t?.term_id])}}let u=e=>{let{pathFn:r}=e,[t]=(0,i.useModel)(l.TermsModel),{targetTerm:o}=c(),u=(0,s.useNavigate)();return(0,a.jsx)(n.Select,{value:o?.term_id,options:t.termsOptions,placeholder:"\u8352\u5178\u671F\u6570",onChange:e=>{u(r(e===t.latestTerm?.term_id?"latest":e))}})}},18363:function(e,r,t){"use strict";t.r(r),t.d(r,{TermNotFound:function(){return c}});var a=t("766791"),i=t("67348"),n=t("375748"),s=t("551895"),o=t("966785"),l=t("605442");let c=()=>{let[{latestTerm:e}]=(0,i.useModel)(o.TermsModel);return(0,a.jsx)(n.Result,{status:"404",title:"\u6682\u65F6\u6CA1\u6709\u8FD9\u671F\u8352\u5178\u4F5C\u4E1A",subTitle:"\u68C0\u67E5\u94FE\u63A5\u662F\u5426\u6B63\u786E\u6216\u8FD4\u56DE\u6700\u8FD1\u8352\u5178\u4F5C\u4E1A",extra:e?(0,a.jsx)(s.Link,{to:l.RoutePath.Copilots("latest"),children:(0,a.jsx)(n.Button,{type:"primary",children:"\u8FD4\u56DE\u6700\u8FD1\u4F5C\u4E1A"})}):(0,a.jsx)(s.Link,{to:l.RoutePath.Home,children:(0,a.jsx)(n.Button,{type:"primary",children:"\u8FD4\u56DE\u9996\u9875"})})})}},791520:function(e,r,t){"use strict";t.r(r),t.d(r,{useLazyImage:function(){return i}});var a=t("450348");function i(e){let r=(0,a.useRef)(null);return(0,a.useEffect)(()=>{(async()=>{if(e){let t=`https://gitee.com/sinsa-daddy/statics/raw/master/avatars/${e}.webp`;r.current&&(r.current.style.backgroundImage=`url(${t})`)}})()},[e]),{containerRef:r}}},216278:function(e,r,t){"use strict";t.r(r),t.d(r,{AssetTypeTextMapper:function(){return a}});let a={script33:"\u4E09\u5341\u4E09\u53F7\u811A\u672C"}},870233:function(e,r,t){"use strict";function a(e){return e.replace("[\u767D\u591C\u6781\u5149]","").replace("\u3010\u767D\u591C\u6781\u5149\u3011","").replace("\u767D\u591C\u6781\u5149","").replace("\u8352\u5178","").replace("[hidden]","")}t.r(r),t.d(r,{trimTitle:function(){return a}})},734513:function(e,r,t){"use strict";t.r(r),t.d(r,{getNormalizeBreakthroughByRarity:function(){return i},withoutExclude:function(){return n}});var a=t("826424");function i(e,r){switch(r){case 6:return[0,0,3,3,3,6].at(e-1);case 5:return[0,2,2,2,5].at(e-1);case 4:return[0,0,0,4].at(e-1);case 3:return[0,0,3].at(e-1);case 2:return[0,2].at(e-1);case 1:return[1].at(e-1);default:return 0}}function n(e,r){return r?(0,a.produce)(e,e=>{for(let{excludeBreakthroughOnly:t,excludeBreakthrough:a,aurorianId:i}of r)t?"number"==typeof a&&a>=1&&(e[i].breakthrough=Math.max(a-1,0)):delete e[i]}):e}}}]);