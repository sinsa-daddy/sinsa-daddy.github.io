{"version":3,"file":"static/js/async/755.4ea522b7.js","sources":["webpack://@sinsa/web/./src/config/domain.ts?3e30*","webpack://@sinsa/web/./src/plugins/arms.ts?6d7d"],"sourcesContent":["export type DomainKey = 'cn' | 'i18n' | 'local' | 'backup' | 'unknown';\n\nexport const DOMAIN_ORIGIN: Record<DomainKey, string> = {\n  cn: 'sinsa.top',\n  i18n: 'sinsa.dad',\n  local: 'localhost:8080',\n  backup: 'sinsa-daddy.com',\n  unknown: '',\n};\n\nexport const DOMAIN_TEXT: Record<DomainKey, string> = {\n  cn: '国内站点',\n  i18n: '国际备用站点',\n  local: '本地开发站点',\n  backup: '备用站点',\n  unknown: '未知站点',\n};\n\nexport const DOMAIN_KEYS = Object.keys(DOMAIN_ORIGIN);\n\nexport const DOMAIN_VALUES = Object.values(DOMAIN_ORIGIN);\n\nexport function getCurrentDomainKey(): DomainKey {\n  const currentHost = window.location.host;\n\n  switch (currentHost) {\n    case DOMAIN_ORIGIN.cn:\n      return 'cn';\n    case DOMAIN_ORIGIN.i18n:\n      return 'i18n';\n    case DOMAIN_ORIGIN.backup:\n      return 'backup';\n    case DOMAIN_ORIGIN.local:\n      return 'local';\n    default:\n      return 'unknown';\n  }\n}\n","import ArmsRum from '@arms/rum-browser';\nimport { DOMAIN_VALUES } from '@/config/domain';\n\nconst url = new URL(window.location.href);\n\nexport function initArmsRum() {\n  ArmsRum.init({\n    pid: 'efvpghf1ny@b201b32018ef0b3',\n    endpoint: 'https://efvpghf1ny-default-cn.rum.aliyuncs.com',\n    beforeReport(bundle) {\n      if (bundle.app.env !== 'prod') {\n        return null;\n      }\n      return bundle;\n    },\n    version: `${__COMMIT_HASH__}${__COMMIT_TIME__}`,\n    // 设置环境信息，参考值：'prod' | 'gray' | 'pre' | 'daily' | 'local'\n    env: DOMAIN_VALUES.includes(url.hostname) ? 'prod' : 'local',\n    // 设置路由模式， 参考值：'history' | 'hash'\n    spaMode: 'history',\n    collectors: {\n      // 页面性能指标监听开关，默认开启\n      perf: true,\n      // WebVitals指标监听开关，默认开启\n      webVitals: true,\n      // Ajax监听开关，默认开启\n      api: true,\n      // 静态资源开关，默认开启\n      staticResource: true,\n      // JS错误监听开关，默认开启\n      jsError: true,\n      // 控制台错误监听开关，默认开启\n      consoleError: true,\n      // 用户行为监听开关，默认开启\n      action: true,\n    },\n    // 链路追踪配置开关，默认关闭\n    tracing: false,\n  });\n}\n\nexport enum RumArmsMyType {\n  QuerySolution = 'query_solution',\n}\n"],"names":["DOMAIN_ORIGIN","cn","i18n","local","backup","unknown","DOMAIN_TEXT","Object","keys","DOMAIN_VALUES","values","getCurrentDomainKey","window","location","host","url","URL","href","initArmsRum","pid","endpoint","beforeReport","bundle","app","env","version","hostname","spaMode","collectors","perf","webVitals","api","staticResource","jsError","consoleError","action","tracing","RumArmsMyType"],"mappings":";iRAEO,IAAMA,EAA2C,CACtDC,GAAI,YACJC,KAAM,YACNC,MAAO,iBACPC,OAAQ,kBACRC,QAAS,EACX,EAEaC,EAAyC,CACpDL,GAAI,2BACJC,KAAM,uCACNC,MAAO,uCACPC,OAAQ,2BACRC,QAAS,0BACX,EAE2BE,OAAOC,IAAI,CAACR,GAEhC,IAAMS,EAAgBF,OAAOG,MAAM,CAACV,GAEpC,SAASW,IAGd,OAFoBC,OAAOC,QAAQ,CAACC,IAAI,EAGtC,KAAKd,EAAcC,EAAE,CACnB,MAAO,IACT,MAAKD,EAAcE,IAAI,CACrB,MAAO,MACT,MAAKF,EAAcI,MAAM,CACvB,MAAO,QACT,MAAKJ,EAAcG,KAAK,CACtB,MAAO,OACT,SACE,MAAO,SACX,CACF,6JClCA,IAAMY,EAAM,IAAIC,IAAIJ,OAAOC,QAAQ,CAACI,IAAI,EAEjC,SAASC,IACd,cAAY,CAAC,CACXC,IAAK,6BACLC,SAAU,iDACVC,aAAAA,AAAaC,GACX,AAAIA,AAAmB,SAAnBA,EAAOC,GAAG,CAACC,GAAG,CACT,KAEFF,EAETG,QAAS,kCAETD,IAAK,EAAAf,aAAA,SAAsB,CAACM,EAAIW,QAAQ,EAAI,OAAS,QAErDC,QAAS,UACTC,WAAY,CAEVC,KAAM,GAENC,UAAW,GAEXC,IAAK,GAELC,eAAgB,GAEhBC,QAAS,GAETC,aAAc,GAEdC,OAAQ,EACV,EAEAC,QAAS,EACX,EACF,CAEYC,CAAAA,GAAAA,CAAAA,EAAA"}