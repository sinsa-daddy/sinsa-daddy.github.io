"use strict";(globalThis.webpackChunk_sinsa_web=globalThis.webpackChunk_sinsa_web||[]).push([[4583],{88048:(e,n,t)=>{t.d(n,{L0:()=>Z,_5:()=>S});t(15370);var o=t(87363),r=t(12314),a=t(37708),c=t(17944),i=t(9122),d=t(77371),s=t(44514),l=t(25922),p=t(75877),u=t(62928),f=t(87608),h=t.n(f),v=t(25268),g=o.createContext(null),k=function(e){for(var n=e.prefixCls,t=e.level,r=e.isStart,c=e.isEnd,i="".concat(n,"-indent-unit"),d=[],s=0;s<t;s+=1){var l;d.push(o.createElement("span",{key:s,className:h()(i,(l={},(0,a.Z)(l,"".concat(i,"-start"),r[s]),(0,a.Z)(l,"".concat(i,"-end"),c[s]),l))}))}return o.createElement("span",{"aria-hidden":"true",className:"".concat(n,"-indent")},d)};const x=o.memo(k);var y=t(64316),b=t(1258),m=["eventKey","className","style","dragOver","dragOverGapTop","dragOverGapBottom","isLeaf","isStart","isEnd","expanded","selected","checked","halfChecked","loading","domRef","active","data","onMouseMove","selectable"],D="open",C="close",E=function(e){(0,p.Z)(t,e);var n=(0,u.Z)(t);function t(){var e;(0,d.Z)(this,t);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=n.call.apply(n,[this].concat(a))).state={dragNodeHighlight:!1},e.selectHandle=void 0,e.cacheIndent=void 0,e.onSelectorClick=function(n){(0,e.props.context.onNodeClick)(n,(0,b.F)(e.props)),e.isSelectable()?e.onSelect(n):e.onCheck(n)},e.onSelectorDoubleClick=function(n){(0,e.props.context.onNodeDoubleClick)(n,(0,b.F)(e.props))},e.onSelect=function(n){e.isDisabled()||(0,e.props.context.onNodeSelect)(n,(0,b.F)(e.props))},e.onCheck=function(n){if(!e.isDisabled()){var t=e.props,o=t.disableCheckbox,r=t.checked,a=e.props.context.onNodeCheck;if(e.isCheckable()&&!o){var c=!r;a(n,(0,b.F)(e.props),c)}}},e.onMouseEnter=function(n){(0,e.props.context.onNodeMouseEnter)(n,(0,b.F)(e.props))},e.onMouseLeave=function(n){(0,e.props.context.onNodeMouseLeave)(n,(0,b.F)(e.props))},e.onContextMenu=function(n){(0,e.props.context.onNodeContextMenu)(n,(0,b.F)(e.props))},e.onDragStart=function(n){var t=e.props.context.onNodeDragStart;n.stopPropagation(),e.setState({dragNodeHighlight:!0}),t(n,(0,l.Z)(e));try{n.dataTransfer.setData("text/plain","")}catch(o){}},e.onDragEnter=function(n){var t=e.props.context.onNodeDragEnter;n.preventDefault(),n.stopPropagation(),t(n,(0,l.Z)(e))},e.onDragOver=function(n){var t=e.props.context.onNodeDragOver;n.preventDefault(),n.stopPropagation(),t(n,(0,l.Z)(e))},e.onDragLeave=function(n){var t=e.props.context.onNodeDragLeave;n.stopPropagation(),t(n,(0,l.Z)(e))},e.onDragEnd=function(n){var t=e.props.context.onNodeDragEnd;n.stopPropagation(),e.setState({dragNodeHighlight:!1}),t(n,(0,l.Z)(e))},e.onDrop=function(n){var t=e.props.context.onNodeDrop;n.preventDefault(),n.stopPropagation(),e.setState({dragNodeHighlight:!1}),t(n,(0,l.Z)(e))},e.onExpand=function(n){var t=e.props,o=t.loading,r=t.context.onNodeExpand;o||r(n,(0,b.F)(e.props))},e.setSelectHandle=function(n){e.selectHandle=n},e.getNodeState=function(){var n=e.props.expanded;return e.isLeaf()?null:n?D:C},e.hasChildren=function(){var n=e.props.eventKey,t=e.props.context.keyEntities;return!!(((0,y.Z)(t,n)||{}).children||[]).length},e.isLeaf=function(){var n=e.props,t=n.isLeaf,o=n.loaded,r=e.props.context.loadData,a=e.hasChildren();return!1!==t&&(t||!r&&!a||r&&o&&!a)},e.isDisabled=function(){var n=e.props.disabled;return!(!e.props.context.disabled&&!n)},e.isCheckable=function(){var n=e.props.checkable,t=e.props.context.checkable;return!(!t||!1===n)&&t},e.syncLoadData=function(n){var t=n.expanded,o=n.loading,r=n.loaded,a=e.props.context,c=a.loadData,i=a.onNodeLoad;o||c&&t&&!e.isLeaf()&&(e.hasChildren()||r||i((0,b.F)(e.props)))},e.isDraggable=function(){var n=e.props,t=n.data,o=n.context.draggable;return!(!o||o.nodeDraggable&&!o.nodeDraggable(t))},e.renderDragHandler=function(){var n=e.props.context,t=n.draggable,r=n.prefixCls;return(null==t?void 0:t.icon)?o.createElement("span",{className:"".concat(r,"-draggable-icon")},t.icon):null},e.renderSwitcherIconDom=function(n){var t=e.props.switcherIcon,o=e.props.context.switcherIcon,r=t||o;return"function"==typeof r?r((0,i.Z)((0,i.Z)({},e.props),{},{isLeaf:n})):r},e.renderSwitcher=function(){var n=e.props.expanded,t=e.props.context.prefixCls;if(e.isLeaf()){var r=e.renderSwitcherIconDom(!0);return!1!==r?o.createElement("span",{className:h()("".concat(t,"-switcher"),"".concat(t,"-switcher-noop"))},r):null}var a=h()("".concat(t,"-switcher"),"".concat(t,"-switcher_").concat(n?D:C)),c=e.renderSwitcherIconDom(!1);return!1!==c?o.createElement("span",{onClick:e.onExpand,className:a},c):null},e.renderCheckbox=function(){var n=e.props,t=n.checked,r=n.halfChecked,a=n.disableCheckbox,c=e.props.context.prefixCls,i=e.isDisabled(),d=e.isCheckable();if(!d)return null;var s="boolean"!=typeof d?d:null;return o.createElement("span",{className:h()("".concat(c,"-checkbox"),t&&"".concat(c,"-checkbox-checked"),!t&&r&&"".concat(c,"-checkbox-indeterminate"),(i||a)&&"".concat(c,"-checkbox-disabled")),onClick:e.onCheck},s)},e.renderIcon=function(){var n=e.props.loading,t=e.props.context.prefixCls;return o.createElement("span",{className:h()("".concat(t,"-iconEle"),"".concat(t,"-icon__").concat(e.getNodeState()||"docu"),n&&"".concat(t,"-icon_loading"))})},e.renderSelector=function(){var n,t,r=e.state.dragNodeHighlight,a=e.props,c=a.title,i=void 0===c?"---":c,d=a.selected,s=a.icon,l=a.loading,p=a.data,u=e.props.context,f=u.prefixCls,v=u.showIcon,g=u.icon,k=u.loadData,x=u.titleRender,y=e.isDisabled(),b="".concat(f,"-node-content-wrapper");if(v){var m=s||g;n=m?o.createElement("span",{className:h()("".concat(f,"-iconEle"),"".concat(f,"-icon__customize"))},"function"==typeof m?m(e.props):m):e.renderIcon()}else k&&l&&(n=e.renderIcon());t="function"==typeof i?i(p):x?x(p):i;var D=o.createElement("span",{className:"".concat(f,"-title")},t);return o.createElement("span",{ref:e.setSelectHandle,title:"string"==typeof i?i:"",className:h()("".concat(b),"".concat(b,"-").concat(e.getNodeState()||"normal"),!y&&(d||r)&&"".concat(f,"-node-selected")),onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave,onContextMenu:e.onContextMenu,onClick:e.onSelectorClick,onDoubleClick:e.onSelectorDoubleClick},n,D,e.renderDropIndicator())},e.renderDropIndicator=function(){var n=e.props,t=n.disabled,o=n.eventKey,r=e.props.context,a=r.draggable,c=r.dropLevelOffset,i=r.dropPosition,d=r.prefixCls,s=r.indent,l=r.dropIndicatorRender,p=r.dragOverNodeKey,u=r.direction,f=!t&&!!a&&p===o,h=null!=s?s:e.cacheIndent;return e.cacheIndent=s,f?l({dropPosition:i,dropLevelOffset:c,indent:h,prefixCls:d,direction:u}):null},e}return(0,s.Z)(t,[{key:"componentDidMount",value:function(){this.syncLoadData(this.props)}},{key:"componentDidUpdate",value:function(){this.syncLoadData(this.props)}},{key:"isSelectable",value:function(){var e=this.props.selectable,n=this.props.context.selectable;return"boolean"==typeof e?e:n}},{key:"render",value:function(){var e,n=this.props,t=n.eventKey,i=n.className,d=n.style,s=n.dragOver,l=n.dragOverGapTop,p=n.dragOverGapBottom,u=n.isLeaf,f=n.isStart,g=n.isEnd,k=n.expanded,D=n.selected,C=n.checked,E=n.halfChecked,N=n.loading,S=n.domRef,Z=n.active,w=(n.data,n.onMouseMove),L=n.selectable,O=(0,c.Z)(n,m),M=this.props.context,K=M.prefixCls,P=M.filterTreeNode,I=M.keyEntities,T=M.dropContainerKey,_=M.dropTargetKey,F=M.draggingNodeKey,G=this.isDisabled(),H=(0,v.Z)(O,{aria:!0,data:!0}),A=((0,y.Z)(I,t)||{}).level,j=g[g.length-1],B=this.isDraggable(),R=!G&&B,z=F===t,U=void 0!==L?{"aria-selected":!!L}:void 0;return o.createElement("div",(0,r.Z)({ref:S,className:h()(i,"".concat(K,"-treenode"),(e={},(0,a.Z)(e,"".concat(K,"-treenode-disabled"),G),(0,a.Z)(e,"".concat(K,"-treenode-switcher-").concat(k?"open":"close"),!u),(0,a.Z)(e,"".concat(K,"-treenode-checkbox-checked"),C),(0,a.Z)(e,"".concat(K,"-treenode-checkbox-indeterminate"),E),(0,a.Z)(e,"".concat(K,"-treenode-selected"),D),(0,a.Z)(e,"".concat(K,"-treenode-loading"),N),(0,a.Z)(e,"".concat(K,"-treenode-active"),Z),(0,a.Z)(e,"".concat(K,"-treenode-leaf-last"),j),(0,a.Z)(e,"".concat(K,"-treenode-draggable"),B),(0,a.Z)(e,"dragging",z),(0,a.Z)(e,"drop-target",_===t),(0,a.Z)(e,"drop-container",T===t),(0,a.Z)(e,"drag-over",!G&&s),(0,a.Z)(e,"drag-over-gap-top",!G&&l),(0,a.Z)(e,"drag-over-gap-bottom",!G&&p),(0,a.Z)(e,"filter-node",P&&P((0,b.F)(this.props))),e)),style:d,draggable:R,"aria-grabbed":z,onDragStart:R?this.onDragStart:void 0,onDragEnter:B?this.onDragEnter:void 0,onDragOver:B?this.onDragOver:void 0,onDragLeave:B?this.onDragLeave:void 0,onDrop:B?this.onDrop:void 0,onDragEnd:B?this.onDragEnd:void 0,onMouseMove:w},U,H),o.createElement(x,{prefixCls:K,level:A,isStart:f,isEnd:g}),this.renderDragHandler(),this.renderSwitcher(),this.renderCheckbox(),this.renderSelector())}}]),t}(o.Component),N=function(e){return o.createElement(g.Consumer,null,(function(n){return o.createElement(E,(0,r.Z)({},e,{context:n}))}))};N.displayName="TreeNode",N.isTreeNode=1;function S(e,n){if(!e)return[];var t=e.slice(),o=t.indexOf(n);return o>=0&&t.splice(o,1),t}function Z(e,n){var t=(e||[]).slice();return-1===t.indexOf(n)&&t.push(n),t}},20141:(e,n,t)=>{t.d(n,{S:()=>i});var o=t(15370),r=t(64316);function a(e,n){var t=new Set;return e.forEach((function(e){n.has(e)||t.add(e)})),t}function c(e){var n=e||{},t=n.disabled,o=n.disableCheckbox,r=n.checkable;return!(!t&&!o)||!1===r}function i(e,n,t,i){var d,s=[];d=i||c;var l,p=new Set(e.filter((function(e){var n=!!(0,r.Z)(t,e);return n||s.push(e),n}))),u=new Map,f=0;return Object.keys(t).forEach((function(e){var n=t[e],o=n.level,r=u.get(o);r||(r=new Set,u.set(o,r)),r.add(n),f=Math.max(f,o)})),(0,o.ZP)(!s.length,"Tree missing follow keys: ".concat(s.slice(0,100).map((function(e){return"'".concat(e,"'")})).join(", "))),l=!0===n?function(e,n,t,o){for(var r=new Set(e),c=new Set,i=0;i<=t;i+=1)(n.get(i)||new Set).forEach((function(e){var n=e.key,t=e.node,a=e.children,c=void 0===a?[]:a;r.has(n)&&!o(t)&&c.filter((function(e){return!o(e.node)})).forEach((function(e){r.add(e.key)}))}));for(var d=new Set,s=t;s>=0;s-=1)(n.get(s)||new Set).forEach((function(e){var n=e.parent,t=e.node;if(!o(t)&&e.parent&&!d.has(e.parent.key))if(o(e.parent.node))d.add(n.key);else{var a=!0,i=!1;(n.children||[]).filter((function(e){return!o(e.node)})).forEach((function(e){var n=e.key,t=r.has(n);a&&!t&&(a=!1),i||!t&&!c.has(n)||(i=!0)})),a&&r.add(n.key),i&&c.add(n.key),d.add(n.key)}}));return{checkedKeys:Array.from(r),halfCheckedKeys:Array.from(a(c,r))}}(p,u,f,d):function(e,n,t,o,r){for(var c=new Set(e),i=new Set(n),d=0;d<=o;d+=1)(t.get(d)||new Set).forEach((function(e){var n=e.key,t=e.node,o=e.children,a=void 0===o?[]:o;c.has(n)||i.has(n)||r(t)||a.filter((function(e){return!r(e.node)})).forEach((function(e){c.delete(e.key)}))}));i=new Set;for(var s=new Set,l=o;l>=0;l-=1)(t.get(l)||new Set).forEach((function(e){var n=e.parent,t=e.node;if(!r(t)&&e.parent&&!s.has(e.parent.key))if(r(e.parent.node))s.add(n.key);else{var o=!0,a=!1;(n.children||[]).filter((function(e){return!r(e.node)})).forEach((function(e){var n=e.key,t=c.has(n);o&&!t&&(o=!1),a||!t&&!i.has(n)||(a=!0)})),o||c.delete(n.key),a&&i.add(n.key),s.add(n.key)}}));return{checkedKeys:Array.from(c),halfCheckedKeys:Array.from(a(i,c))}}(p,n.halfCheckedKeys,u,f,d),l}},64316:(e,n,t)=>{function o(e,n){return e[n]}t.d(n,{Z:()=>o})},1258:(e,n,t)=>{t.d(n,{F:()=>p,I8:()=>l});var o=t(64156),r=t(31395),a=t(9122),c=(t(12895),t(15370));function i(e,n){return"".concat(e,"-").concat(n)}function d(e,n){return null!=e?e:n}function s(e){var n=e||{},t=n.title||"title";return{title:t,_title:n._title||[t],key:n.key||"key",children:n.children||"children"}}function l(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=n.initWrapper,a=n.processEntity,c=n.onProcessFinished,l=n.externalGetKey,p=n.childrenPropName,u=n.fieldNames,f=l||(arguments.length>2?arguments[2]:void 0),h={},v={},g={posEntities:h,keyEntities:v};return t&&(g=t(g)||g),function(e,n,t){var a,c=("object"===(0,o.Z)(t)?t:{externalGetKey:t})||{},l=c.childrenPropName,p=c.externalGetKey,u=s(c.fieldNames),f=u.key,h=u.children,v=l||h;p?"string"==typeof p?a=function(e){return e[p]}:"function"==typeof p&&(a=function(e){return p(e)}):a=function(e,n){return d(e[f],n)},function t(o,c,d,s){var l=o?o[v]:e,p=o?i(d.pos,c):"0",u=o?[].concat((0,r.Z)(s),[o]):[];if(o){var f=a(o,p),h={node:o,index:c,pos:p,key:f,parentPos:d.node?d.pos:null,level:d.level+1,nodes:u};n(h)}l&&l.forEach((function(e,n){t(e,n,{node:o,pos:p,level:d?d.level+1:-1},u)}))}(null)}(e,(function(e){var n=e.node,t=e.index,o=e.pos,r=e.key,c=e.parentPos,i=e.level,s={node:n,nodes:e.nodes,index:t,key:r,pos:o,level:i},l=d(r,o);h[o]=s,v[l]=s,s.parent=h[c],s.parent&&(s.parent.children=s.parent.children||[],s.parent.children.push(s)),a&&a(s,g)}),{externalGetKey:f,childrenPropName:p,fieldNames:u}),c&&c(g),g}function p(e){var n=e.data,t=e.expanded,o=e.selected,r=e.checked,i=e.loaded,d=e.loading,s=e.halfChecked,l=e.dragOver,p=e.dragOverGapTop,u=e.dragOverGapBottom,f=e.pos,h=e.active,v=e.eventKey,g=(0,a.Z)((0,a.Z)({},n),{},{expanded:t,selected:o,checked:r,loaded:i,loading:d,halfChecked:s,dragOver:l,dragOverGapTop:p,dragOverGapBottom:u,pos:f,active:h,key:v});return"props"in g||Object.defineProperty(g,"props",{get:function(){return(0,c.ZP)(!1,"Second param return from event is node data instead of TreeNode instance. Please read value directly instead of reading from `props`."),e}}),g}}}]);