{"version":3,"file":"static/js/async/409.1287a3a5.js","sources":["./src/components/AdaptiveAurorianCard/index.tsx","./src/components/RelativeTimeText/index.tsx","./src/components/SolutionCard/CopilotBlock/AdaptiveAuroriansTeam/index.tsx","./src/components/SolutionCard/CopilotBlock/index.tsx","./src/components/TermChanger.tsx","./src/components/TermNotFound.tsx","./src/components/AdaptiveAurorianCard/constants.ts","./src/components/AdaptiveAurorianCard/hooks/use-lazy-image.ts","./src/components/SolutionCard/CopilotBlock/constants.ts","./src/components/utils.ts","./src/views/SolutionView/utils/without-exclude.ts"],"sourcesContent":["import React, { useMemo } from 'react';\nimport { useModel } from '@modern-js/runtime/model';\nimport type { AurorianType } from '@sinsa/schema';\nimport clsx from 'clsx';\nimport type { MenuProps } from 'antd';\nimport { ConfigProvider, Flex, Rate, Tag, Dropdown } from 'antd';\nimport { useBreakpoint } from '@ant-design/pro-components';\nimport { m } from 'framer-motion';\nimport type { IgnoreMessage } from '../types';\nimport styles from './styles.module.less';\nimport { useLazyImage } from './hooks/use-lazy-image';\nimport { ClassURLMapper, ElementURLMapper, RarityMapper } from './constants';\nimport { AuroriansModel } from '@/models/aurorians';\nimport { getNormalizeBreakthroughByRarity } from '@/views/SolutionView/utils/without-exclude';\n\ninterface AdaptiveArurorianCardProps {\n  name: string;\n  breakthrough?: number;\n  isReplaceable?: boolean;\n  onIgnore?: (msg: IgnoreMessage) => void;\n  readOnly?: boolean;\n}\n\nexport const AdaptiveAurorianCard = React.memo<AdaptiveArurorianCardProps>(\n  ({ name, breakthrough, isReplaceable, onIgnore, readOnly }) => {\n    const [{ auroriansMap }] = useModel(AuroriansModel);\n    const aurorian = useMemo(\n      () => auroriansMap[name] as AurorianType | undefined,\n      [auroriansMap, name],\n    );\n    const { containerRef } = useLazyImage(aurorian?.aurorian_name);\n\n    const screen = useBreakpoint();\n    const rateTheme = useMemo(() => {\n      let starSize = 10;\n      switch (screen) {\n        case 'xs':\n          starSize = 10;\n          break;\n        case 'sm':\n          starSize = 12;\n          break;\n        default:\n          starSize = 13;\n          break;\n      }\n      return {\n        components: {\n          Rate: {\n            starBg: 'white',\n            starSize,\n          },\n        },\n      };\n    }, [screen]);\n\n    const items: MenuProps['items'] = [\n      {\n        label: `排除${aurorian?.aurorian_cn_name}`,\n        key: 'ignore',\n      },\n      {\n        label: `仅排除此突破数的${aurorian?.aurorian_cn_name}`,\n        key: 'ignore-breakthrough',\n      },\n    ];\n\n    return (\n      <Dropdown\n        disabled={readOnly}\n        trigger={['click']}\n        getPopupContainer={() => document.body}\n        menu={{\n          items,\n          onClick: ({ key }) => {\n            console.log('key', key);\n            if (!aurorian?.aurorian_name) {\n              return;\n            }\n            switch (key) {\n              case 'ignore-breakthrough':\n                onIgnore?.({\n                  type: 'aurorian',\n                  aurorianName: aurorian.aurorian_name,\n                  breakthrough: getNormalizeBreakthroughByRarity(\n                    breakthrough ?? 0,\n                    aurorian.rarity,\n                  ),\n                });\n                break;\n              case 'ignore':\n                onIgnore?.({\n                  type: 'aurorian',\n                  aurorianName: aurorian.aurorian_name,\n                });\n                break;\n              default:\n                break;\n            }\n          },\n        }}\n      >\n        <m.div\n          ref={containerRef}\n          className={clsx(\n            styles.AdaptiveAurorianCard,\n            styles.BackgroundImage,\n            readOnly && styles.Disabled,\n          )}\n          whileHover={readOnly ? undefined : { opacity: 0.6 }}\n          whileTap={readOnly ? undefined : { opacity: 0.2 }}\n        >\n          {aurorian ? (\n            <>\n              <Flex vertical className={styles.NameContainer}>\n                <span>{aurorian?.aurorian_cn_name}</span>\n                {typeof breakthrough === 'number' && aurorian?.rarity ? (\n                  <ConfigProvider theme={rateTheme}>\n                    <Rate\n                      className={styles.BreakThrough}\n                      disabled\n                      value={breakthrough}\n                      count={RarityMapper[aurorian.rarity]}\n                    />\n                  </ConfigProvider>\n                ) : null}\n              </Flex>\n              <Flex className={styles.MetaContainer}>\n                <img\n                  className={styles.MetaClass}\n                  alt={aurorian.class}\n                  src={ClassURLMapper[aurorian.class]}\n                />\n                <Flex align=\"center\">\n                  <img\n                    className={styles.MetaFirstAttribute}\n                    alt={aurorian.attribute}\n                    src={ElementURLMapper[aurorian.attribute]}\n                  />\n                  {aurorian.secondary_attribute ? (\n                    <img\n                      className={styles.MetaSecondAttribute}\n                      alt={aurorian.secondary_attribute}\n                      src={ElementURLMapper[aurorian.secondary_attribute]}\n                    />\n                  ) : null}\n                </Flex>\n              </Flex>\n            </>\n          ) : null}\n          {isReplaceable ? (\n            <Tag className={styles.ReplaceableTag} color={'#dc5950'}>\n              可替\n            </Tag>\n          ) : null}\n        </m.div>\n      </Dropdown>\n    );\n  },\n);\n","import { Tooltip } from 'antd';\nimport dayjs from 'dayjs';\nimport React from 'react';\nimport styles from './styles.module.less';\n\ninterface RelativeTimeTextProps {\n  time: Date;\n}\n\nexport const RelativeTimeText = React.memo<RelativeTimeTextProps>(\n  ({ time }) => {\n    return (\n      <Tooltip title={dayjs(time).format('YYYY-MM-DD HH:mm:ss')}>\n        <span className={styles.RelativeTimeText}>{dayjs(time).fromNow()}</span>\n      </Tooltip>\n    );\n  },\n  (prev, cur) => prev.time.valueOf() === cur.time.valueOf(),\n);\n","import type { CopilotType } from '@sinsa/schema';\nimport type React from 'react';\nimport { Flex } from 'antd';\nimport type { IgnoreMessage } from '../../../types';\nimport styles from './styles.module.less';\nimport { AdaptiveAurorianCard } from '@/components/AdaptiveAurorianCard';\n\ninterface AdaptiveAuroriansTeamProps {\n  aurorianSummaries: CopilotType['aurorian_summaries'];\n  onIgnore?: (msg: IgnoreMessage) => void;\n  readOnly?: boolean;\n}\n\nexport const AdaptiveAuroriansTeam: React.FC<AdaptiveAuroriansTeamProps> = ({\n  aurorianSummaries,\n  onIgnore,\n  readOnly,\n}) => {\n  return (\n    <Flex className={styles.AuroriansTeam}>\n      {aurorianSummaries.map(\n        ({ aurorian_name, breakthrough, is_replaceable }) => {\n          return (\n            <AdaptiveAurorianCard\n              key={aurorian_name}\n              name={aurorian_name}\n              breakthrough={breakthrough}\n              isReplaceable={is_replaceable}\n              onIgnore={onIgnore}\n              readOnly={readOnly}\n            />\n          );\n        },\n      )}\n    </Flex>\n  );\n};\n","import type { CopilotType, TermType } from '@sinsa/schema';\nimport { clsx } from 'clsx';\nimport {\n  Button,\n  Dropdown,\n  Flex,\n  Popconfirm,\n  Tag,\n  Tooltip,\n  Typography,\n} from 'antd';\nimport React, { useMemo } from 'react';\nimport numeral from 'numeral';\nimport { useBreakpoint } from '@ant-design/pro-components';\nimport { MessageOne, More, Paperclip, PreviewCloseOne } from '@icon-park/react';\nimport type { IgnoreMessage } from '../../types';\nimport { AdaptiveAuroriansTeam } from './AdaptiveAuroriansTeam';\nimport styles from './styles.module.less';\nimport { AssetTypeTextMapper } from './constants';\nimport { RelativeTimeText } from '@/components/RelativeTimeText';\nimport { trimTitle } from '@/components/utils';\n\ninterface CopilotBlockProps {\n  copilot: CopilotType;\n  currentTerm: TermType;\n  className?: string;\n  onIgnore?: (msg: IgnoreMessage) => void;\n  readOnly?: boolean;\n}\n\nexport const CopilotBlock = React.memo<CopilotBlockProps>(\n  ({ copilot, currentTerm, className, onIgnore, readOnly }) => {\n    const screen = useBreakpoint();\n    const isLarge = useMemo(\n      () => screen === 'lg' || screen === 'xl' || screen === 'xxl',\n      [screen],\n    );\n    const hasAsset = useMemo(() => {\n      return Boolean(copilot.asset_link && copilot.asset_type);\n    }, [copilot.asset_link, copilot.asset_type]);\n    const isHidden = useMemo(\n      () => copilot.title.includes('[hidden]'),\n      [copilot.title],\n    );\n    const displayTitle = useMemo(\n      () => trimTitle(copilot.title),\n      [copilot.title],\n    );\n    return (\n      <div className={clsx(styles.CopilotBlock, className)}>\n        <AdaptiveAuroriansTeam\n          onIgnore={onIgnore}\n          aurorianSummaries={copilot.aurorian_summaries}\n          readOnly={readOnly}\n        />\n        <div className={styles.PaddingContainer}>\n          <Flex className={styles.Header}>\n            <span className={styles.Score}>\n              {numeral(copilot.score).format('0,0')}\n            </span>\n            <Flex className={styles.Author} align=\"center\">\n              <Typography.Text strong>{copilot.author}</Typography.Text>\n              {copilot.description && !isLarge ? (\n                <Typography.Text className={styles.Dot} type=\"secondary\">\n                  ·\n                </Typography.Text>\n              ) : null}\n              {copilot.description && !isLarge ? (\n                <Tooltip title={copilot.description}>\n                  {copilot.description ? <MessageOne size={18} /> : null}\n                </Tooltip>\n              ) : null}\n              <Typography.Text className={styles.Dot} type=\"secondary\">\n                ·\n              </Typography.Text>\n              <RelativeTimeText time={copilot.upload_time} />\n              <Typography.Text className={styles.Dot} type=\"secondary\" />\n              {!readOnly ? (\n                <Dropdown\n                  menu={{\n                    items: [\n                      {\n                        key: 'ignore',\n                        label: (\n                          <span>\n                            <PreviewCloseOne /> 排除此作业\n                          </span>\n                        ),\n                      },\n                    ],\n                    onClick(info) {\n                      if (info.key === 'ignore') {\n                        onIgnore?.({\n                          type: 'copilot',\n                          bv: copilot.bv,\n                        });\n                      }\n                    },\n                  }}\n                >\n                  <Button size=\"small\" icon={<More />} />\n                </Dropdown>\n              ) : null}\n            </Flex>\n          </Flex>\n          <div className={styles.Title}>\n            <Typography.Link\n              disabled={isHidden}\n              href={`https://www.bilibili.com/video/${copilot.bv}`}\n              target=\"_blank\"\n              title={copilot.title}\n              ellipsis={true}\n            >\n              {currentTerm?.term &&\n              copilot.rerun_terms?.includes(currentTerm.term) ? (\n                <Tooltip title={`复刻第 ${copilot.term} 期荒典作业`}>\n                  <Tag color=\"red\">复刻</Tag>\n                </Tooltip>\n              ) : null}\n              {displayTitle}\n            </Typography.Link>\n          </div>\n          {copilot.description && isLarge ? (\n            <Typography.Paragraph type=\"secondary\">\n              {copilot.description}\n            </Typography.Paragraph>\n          ) : null}\n          {hasAsset && isLarge ? (\n            <Popconfirm\n              okText=\"确认\"\n              title=\"此资源仅为临时存档。是否开始下载？\"\n              onConfirm={() => {\n                const el = document.createElement('a');\n                el.href = copilot.asset_link!;\n                el.click();\n              }}\n            >\n              <Typography.Link>\n                <Paperclip /> {AssetTypeTextMapper[copilot.asset_type!]}\n                存档\n              </Typography.Link>\n            </Popconfirm>\n          ) : null}\n        </div>\n      </div>\n    );\n  },\n  (prev, next) =>\n    prev.className === next.className &&\n    prev.copilot.bv === next.copilot.bv &&\n    prev.currentTerm.term === next.currentTerm.term,\n);\n","import { useModel } from '@modern-js/runtime/model';\nimport { Select } from 'antd';\nimport { useNavigate, useParams } from '@modern-js/runtime/router';\nimport { useMemo } from 'react';\nimport { TermsModel } from '@/models/terms';\nimport type { RoutePath } from '@/views/GlobalLayout/constants';\n\nexport function useTargetTermFromParams() {\n  const params = useParams<{ term: `${number}` | 'latest' }>();\n  const [{ termsMap, latestTerm }] = useModel(TermsModel);\n  const targetTerm = useMemo(() => {\n    if (!params.term) {\n      return undefined;\n    }\n    return params.term === 'latest' ? latestTerm : termsMap[params.term];\n  }, [params.term, latestTerm?.term]);\n\n  return {\n    targetTerm,\n  };\n}\n\nexport const TermChanger: React.FC<{\n  pathFn: typeof RoutePath.Copilots | typeof RoutePath.Solutions;\n}> = ({ pathFn }) => {\n  const [terms] = useModel(TermsModel);\n  const { targetTerm } = useTargetTermFromParams();\n  const navigate = useNavigate();\n\n  return (\n    <Select\n      value={targetTerm?.term}\n      options={terms.termsOptions}\n      placeholder=\"荒典期数\"\n      onChange={(nextTerm: number) => {\n        navigate(\n          pathFn(nextTerm === terms.latestTerm?.term ? 'latest' : nextTerm),\n        );\n      }}\n    />\n  );\n};\n","import { useModel } from '@modern-js/runtime/model';\nimport { Button, Result } from 'antd';\nimport { Link } from '@modern-js/runtime/router';\nimport { TermsModel } from '@/models/terms';\nimport { RoutePath } from '@/views/GlobalLayout/constants';\n\nexport const TermNotFound: React.FC = () => {\n  const [{ latestTerm: currentTerm }] = useModel(TermsModel);\n\n  return (\n    <Result\n      status=\"404\"\n      title=\"暂时没有这期荒典作业\"\n      subTitle=\"检查链接是否正确或返回最近荒典作业\"\n      extra={\n        currentTerm ? (\n          <Link to={RoutePath.Copilots(currentTerm.term)}>\n            <Button type=\"primary\">返回最近作业</Button>\n          </Link>\n        ) : (\n          <Link to={RoutePath.Home}>\n            <Button type=\"primary\">返回首页</Button>\n          </Link>\n        )\n      }\n    />\n  );\n};\n","import {\n  AurorianAttributeType,\n  AurorianClassType,\n  AurorianRarityType,\n} from '@sinsa/schema';\nimport E1 from '@/assets/elements/1.webp';\nimport E2 from '@/assets/elements/2.webp';\nimport E3 from '@/assets/elements/3.webp';\nimport E4 from '@/assets/elements/4.webp';\nimport C1 from '@/assets/classes/2001.webp';\nimport C2 from '@/assets/classes/2002.webp';\nimport C3 from '@/assets/classes/2003.webp';\nimport C4 from '@/assets/classes/2004.webp';\n\nexport const RarityMapper = {\n  [AurorianRarityType.Star6]: 6,\n  [AurorianRarityType.Star5]: 5,\n  [AurorianRarityType.Star4]: 4,\n  [AurorianRarityType.Star3]: 3,\n  [AurorianRarityType.Star2]: 2,\n  [AurorianRarityType.Star1]: 1,\n};\n\nexport const ElementURLMapper = {\n  [AurorianAttributeType.Water]: E1,\n  [AurorianAttributeType.Fire]: E2,\n  [AurorianAttributeType.Forest]: E3,\n  [AurorianAttributeType.Thunder]: E4,\n};\n\nexport const ElementTextMapper = {\n  [AurorianAttributeType.Water]: '水',\n  [AurorianAttributeType.Fire]: '火',\n  [AurorianAttributeType.Forest]: '森',\n  [AurorianAttributeType.Thunder]: '雷',\n};\n\nexport const ClassURLMapper = {\n  [AurorianClassType.Converter]: C1,\n  [AurorianClassType.Sniper]: C2,\n  [AurorianClassType.Detonator]: C3,\n  [AurorianClassType.Supporter]: C4,\n};\n","import { useEffect, useRef } from 'react';\n\nexport function useLazyImage(aurorian_name?: string) {\n  const containerRef = useRef<HTMLDivElement>(null);\n  useEffect(() => {\n    const loadImage = async () => {\n      if (aurorian_name) {\n        const module = await import(`@/assets/skins/${aurorian_name}.webp`);\n        if (typeof module?.default === 'string') {\n          if (containerRef.current) {\n            containerRef.current.style.backgroundImage = `url(${module.default})`;\n          }\n        }\n      }\n    };\n    loadImage();\n  }, [aurorian_name]);\n\n  return {\n    containerRef,\n  };\n}\n","import { AssetType } from '@sinsa/schema';\n\nexport const AssetTypeTextMapper: Record<AssetType, string> = {\n  [AssetType.No33Scripts]: '三十三号脚本',\n};\n","export function trimTitle(title: string): string {\n  return title\n    .replace('[白夜极光]', '')\n    .replace('【白夜极光】', '')\n    .replace('白夜极光', '')\n    .replace('荒典', '')\n    .replace('[hidden]', '');\n}\n","import type { AurorianType, MyBoxType } from '@sinsa/schema';\nimport { AurorianRarityType } from '@sinsa/schema';\nimport { produce } from 'immer';\nimport type { QueryParamsType } from '../schemas/query-params';\n\nexport function getNormalizeBreakthroughByRarity(\n  currentBreakthrough: number,\n  rarity: AurorianRarityType,\n) {\n  switch (rarity) {\n    case AurorianRarityType.Star6:\n      return [0, 0, 3, 3, 3, 6].at(currentBreakthrough - 1)!;\n    case AurorianRarityType.Star5:\n      return [0, 2, 2, 2, 5].at(currentBreakthrough - 1)!;\n    case AurorianRarityType.Star4:\n      return [0, 0, 0, 4].at(currentBreakthrough - 1)!;\n    case AurorianRarityType.Star3:\n      return [0, 0, 3].at(currentBreakthrough - 1)!;\n    case AurorianRarityType.Star2:\n      return [0, 2].at(currentBreakthrough - 1)!;\n    case AurorianRarityType.Star1:\n      return [1].at(currentBreakthrough - 1)!;\n    default:\n      return 0;\n  }\n}\n\nexport function withoutExclude(\n  summaries: MyBoxType['aurorian_summaries'],\n  exclude: QueryParamsType['exclude'],\n  _: Record<AurorianType['aurorian_name'], AurorianType>,\n) {\n  if (!exclude) {\n    return summaries;\n  }\n  return produce(summaries, draft => {\n    for (const {\n      excludeBreakthroughOnly,\n      excludeBreakthrough,\n      aurorianName,\n    } of exclude) {\n      // 如果是仅仅排除突破\n      if (excludeBreakthroughOnly) {\n        // 如果排除突破的要求 >= 1\n        if (\n          typeof excludeBreakthrough === 'number' &&\n          excludeBreakthrough >= 1\n        ) {\n          // const targetAurorian = auroriansMap[aurorianName];\n          // 那么说明 Box 里的该光灵的突破一定比排除突破小 1\n          draft[aurorianName].breakthrough = Math.max(\n            excludeBreakthrough - 1,\n            0,\n          );\n        }\n      } else {\n        // 否则排除该光灵\n        delete draft[aurorianName];\n      }\n    }\n  });\n}\n"],"names":["AdaptiveAurorianCard","name","breakthrough","isReplaceable","onIgnore","readOnly","auroriansMap","useModel","AuroriansModel","aurorian","useMemo","containerRef","useLazyImage","aurorian_name","screen","useBreakpoint","rateTheme","starSize","components","Rate","starBg","items","label","aurorian_cn_name","key","Dropdown","disabled","trigger","getPopupContainer","document","body","menu","onClick","console","log","type","aurorianName","getNormalizeBreakthroughByRarity","rarity","m","ref","className","whileHover","undefined","opacity","whileTap","Flex","vertical","ConfigProvider","theme","value","count","RarityMapper","alt","class","src","ClassURLMapper","align","attribute","ElementURLMapper","secondary_attribute","Tag","color","RelativeTimeText","time","Tooltip","title","format","fromNow","prev","cur","valueOf","AdaptiveAuroriansTeam","aurorianSummaries","map","is_replaceable","CopilotBlock","copilot","currentTerm","isLarge","hasAsset","Boolean","asset_link","asset_type","isHidden","includes","displayTitle","trimTitle","clsx","aurorian_summaries","score","Typography","strong","author","description","MessageOne","size","upload_time","PreviewCloseOne","info","bv","Button","icon","More","href","target","ellipsis","term","rerun_terms","Popconfirm","okText","onConfirm","el","createElement","click","Paperclip","AssetTypeTextMapper","next","useTargetTermFromParams","params","useParams","termsMap","latestTerm","TermsModel","targetTerm","TermChanger","pathFn","terms","navigate","useNavigate","Select","options","termsOptions","placeholder","onChange","nextTerm","TermNotFound","Result","status","subTitle","extra","Link","to","RoutePath","AurorianRarityType","AurorianAttributeType","AurorianClassType","useRef","useEffect","loadImage","module","default","current","style","backgroundImage","AssetType","replace","currentBreakthrough","at","withoutExclude","summaries","exclude","_","produce","draft","excludeBreakthroughOnly","excludeBreakthrough","Math","max"],"mappings":"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"}