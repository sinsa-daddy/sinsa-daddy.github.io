{"version":3,"file":"static/js/async/copilots/(term)/page.fba98528.js","sources":["../../node_modules/.pnpm/clsx@2.0.0/node_modules/clsx/dist/clsx.mjs","./src/components/AurorianCard/index.tsx","./src/components/AuroriansTeam/index.tsx","./src/components/CopilotsTable/columns.tsx","./src/components/CopilotsTable/index.tsx","./src/components/RelativeTimeText/index.tsx","./src/components/TermChanger.tsx","./src/components/TermNotFound.tsx","./src/routes/copilots/[term]/page.tsx"],"sourcesContent":["function r(e){var t,f,n=\"\";if(\"string\"==typeof e||\"number\"==typeof e)n+=e;else if(\"object\"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(f=r(e[t]))&&(n&&(n+=\" \"),n+=f);else for(t in e)e[t]&&(n&&(n+=\" \"),n+=t);return n}export function clsx(){for(var e,t,f=0,n=\"\";f<arguments.length;)(e=arguments[f++])&&(t=r(e))&&(n&&(n+=\" \"),n+=t);return n}export default clsx;","import React, { useEffect, useMemo, useRef } from 'react';\nimport { useModel } from '@modern-js/runtime/model';\nimport { type AurorianType } from '@sinsa/schema';\nimport { Badge, ConfigProvider, Rate } from 'antd';\nimport { clsx } from 'clsx';\nimport styles from './styles.module.less';\nimport { ClassURLMapper, ElementURLMapper, RarityMapper } from './constants';\nimport { AuroriansModel } from '@/models/aurorians';\n\ninterface AurorianCardProps {\n  name: string;\n  breakthrough?: number;\n  isReplaceable?: boolean;\n  sameSize?: boolean;\n}\n\nexport const AurorianCard = React.memo<AurorianCardProps>(\n  ({ name, breakthrough, isReplaceable, sameSize }) => {\n    const [{ auroriansMap }] = useModel(AuroriansModel);\n    const aurorian = useMemo(\n      () => auroriansMap[name] as AurorianType | undefined,\n      [auroriansMap, name],\n    );\n\n    const cardRef = useRef<HTMLDivElement>(null);\n\n    useEffect(() => {\n      if (aurorian?.aurorian_name) {\n        import(`@/assets/skins/${aurorian.aurorian_name}.webp`)\n          .then(esm => {\n            if (typeof esm?.default === 'string') {\n              if (cardRef.current) {\n                cardRef.current.style.backgroundImage = `url(${esm.default})`;\n              }\n            }\n          })\n          .catch(() => {\n            // ignore\n          });\n      }\n    }, [aurorian?.aurorian_name]);\n\n    return (\n      <Badge.Ribbon\n        style={{\n          fontSize: '12px',\n          display: isReplaceable ? 'block' : 'none',\n          zIndex: 10000,\n        }}\n        text={isReplaceable ? '可替' : undefined}\n      >\n        <div\n          className={clsx(styles.AurorianCard, sameSize && styles.SameSize)}\n          ref={cardRef}\n        >\n          {aurorian?.class && aurorian?.attribute ? (\n            <div\n              className={clsx(\n                styles.MetaContainer,\n                sameSize && styles.SameSizeMeta,\n              )}\n            >\n              <img\n                className={styles.MetaClass}\n                alt={aurorian.class}\n                src={ClassURLMapper[aurorian.class]}\n              />\n              <div className={styles.MetaAttributeContainer}>\n                <img\n                  className={styles.MetaFirstAttribute}\n                  alt={aurorian.attribute}\n                  src={ElementURLMapper[aurorian.attribute]}\n                />\n                {aurorian.secondary_attribute ? (\n                  <img\n                    className={styles.MetaSecondAttribute}\n                    alt={aurorian.secondary_attribute}\n                    src={ElementURLMapper[aurorian.secondary_attribute]}\n                  />\n                ) : null}\n              </div>\n            </div>\n          ) : null}\n          <div className={styles.NameContainer}>\n            <div title={aurorian?.aurorian_name}>\n              {aurorian?.aurorian_cn_name}\n            </div>\n\n            {typeof breakthrough === 'number' && aurorian?.rarity ? (\n              <ConfigProvider\n                theme={{\n                  components: {\n                    Rate: {\n                      starBg: 'white',\n                      starSize: 8,\n                    },\n                  },\n                }}\n              >\n                <Rate\n                  className={styles.BreakThrough}\n                  disabled\n                  value={breakthrough}\n                  count={RarityMapper[aurorian.rarity]}\n                />\n              </ConfigProvider>\n            ) : null}\n          </div>\n        </div>\n      </Badge.Ribbon>\n    );\n  },\n);\n","import type { CopilotType } from '@sinsa/schema';\nimport type React from 'react';\nimport { AurorianCard } from '../AurorianCard';\nimport styles from './styles.module.less';\n\ninterface AuroriansTeamProps {\n  aurorianSummaries: CopilotType['aurorian_summaries'];\n}\n\nexport const AuroriansTeam: React.FC<AuroriansTeamProps> = ({\n  aurorianSummaries,\n}) => {\n  return (\n    <div className={styles.AuroriansTeam}>\n      {aurorianSummaries.map(\n        ({ aurorian_name, breakthrough, is_replaceable }) => {\n          return (\n            <AurorianCard\n              key={aurorian_name}\n              name={aurorian_name}\n              breakthrough={breakthrough}\n              isReplaceable={is_replaceable}\n            />\n          );\n        },\n      )}\n    </div>\n  );\n};\n","import type { ProColumns } from '@ant-design/pro-components';\nimport type { CopilotType, TermType } from '@sinsa/schema';\nimport { Tag, Tooltip, Typography } from 'antd';\nimport { MessageOne } from '@icon-park/react';\nimport { AuroriansTeam } from '../AuroriansTeam';\nimport { RelativeTimeText } from '../RelativeTimeText';\nimport styles from './styles.module.less';\n\nexport interface TableParams {\n  title?: CopilotType['title'];\n  author?: CopilotType['author'];\n  term?: number;\n  dataSource?: CopilotType[];\n  score?: [number, undefined] | [number, number] | [undefined, number];\n  bv?: string;\n}\n\nexport interface GetColumnsContext {\n  currentTerm?: TermType;\n  showScoreSorter?: boolean;\n}\n\nexport function getCopilotsColumns({\n  currentTerm,\n  showScoreSorter,\n}: GetColumnsContext): ProColumns<CopilotType>[] {\n  return [\n    {\n      title: '光灵配置',\n      dataIndex: 'aurorian_summaries',\n      hideInSearch: true,\n      render(_, entity) {\n        return <AuroriansTeam aurorianSummaries={entity.aurorian_summaries} />;\n      },\n      width: 80 * 5 + 24,\n    },\n    {\n      title: '分数',\n      dataIndex: 'score',\n      valueType: 'digit',\n      hideInSearch: true,\n      width: 100,\n      sorter: showScoreSorter,\n      align: 'right',\n    },\n    {\n      title: '作者',\n      dataIndex: 'author',\n      valueType: 'select',\n      hideInSearch: true,\n      ellipsis: true,\n      width: 160,\n      renderText(dom, entity) {\n        return (\n          <div className={styles.AuthorContainer}>\n            <span>{dom}</span>\n            <Tooltip title={entity.description}>\n              {entity.description ? <MessageOne /> : null}\n            </Tooltip>\n          </div>\n        );\n      },\n    },\n    {\n      title: '标题',\n      dataIndex: 'title',\n      ellipsis: true,\n      render(_, entity) {\n        return (\n          <Typography.Link\n            href={`https://www.bilibili.com/video/${entity.bv}`}\n            target=\"_blank\"\n            title={entity.title}\n          >\n            {currentTerm?.term &&\n            entity.rerun_terms?.includes(currentTerm.term) ? (\n              <Tooltip title={`复刻第 ${entity.term} 期荒典作业`}>\n                <Tag color=\"red\">复刻</Tag>\n              </Tooltip>\n            ) : null}\n            {entity.title}\n          </Typography.Link>\n        );\n      },\n    },\n    {\n      title: '上传时间',\n      dataIndex: 'upload_time',\n      valueType: 'dateTime',\n      width: 160,\n      hideInSearch: true,\n      render(_, entity) {\n        return <RelativeTimeText time={entity.upload_time} />;\n      },\n    },\n    {\n      title: 'BV 号',\n      dataIndex: 'bv',\n      hideInTable: true,\n      fieldProps: { placeholder: 'BVXXXXXXXXXX' },\n    },\n  ];\n}\n","import { useCallback, useMemo, useRef } from 'react';\nimport type { ActionType } from '@ant-design/pro-components';\nimport { ProTable } from '@ant-design/pro-components';\nimport type { CopilotType, TermType } from '@sinsa/schema';\nimport type { SortOrder } from 'antd/es/table/interface';\nimport { Card } from 'antd';\nimport { type TableParams, getCopilotsColumns } from './columns';\n\ninterface CopilotsTableProps {\n  dataSource: CopilotType[];\n  currentTerm?: TermType;\n}\n\nexport function copilotRowKey(c: CopilotType) {\n  return c.bv;\n}\n\nconst TABLE_CONST_PROPS = {\n  pagination: {\n    pageSize: 5,\n    size: 'default',\n    position: ['bottomCenter'] as any,\n    showTotal(total: number): string {\n      return `总共 ${total} 条作业`;\n    },\n  },\n  scroll: { x: 'max-content', scrollToFirstRowOnChange: true },\n} as const;\n\nexport const CopilotsTable: React.FC<CopilotsTableProps> = ({\n  dataSource,\n  currentTerm: term,\n}) => {\n  const actionRef = useRef<ActionType>();\n\n  const deps = useMemo(\n    (): TableParams => ({\n      term: term?.term,\n      dataSource: dataSource?.filter(c => !c.title?.includes('[hidden]')),\n    }),\n    [term?.term, dataSource],\n  );\n\n  const request = useCallback(\n    async (params: TableParams, sort: Record<string, SortOrder>) => {\n      const base =\n        params.dataSource?.filter(item => {\n          let ok = true;\n\n          if (params.title) {\n            ok = item.title.includes(params.title);\n          }\n          // min\n          if (typeof params.score?.[0] === 'number') {\n            ok = params.score[0] <= item.score;\n          }\n\n          // max\n          if (typeof params.score?.[1] === 'number') {\n            ok = item.score <= params.score[1];\n          }\n\n          // bv\n          if (typeof params.bv === 'string' && params.bv.startsWith('BV')) {\n            ok = item.bv === params.bv;\n          }\n          return ok;\n        }) ?? [];\n      return {\n        data: sort.score\n          ? base.sort((a, b) =>\n              sort.score === 'ascend' ? a.score - b.score : b.score - a.score,\n            )\n          : base,\n        success: true,\n      };\n    },\n    [],\n  );\n\n  const columns = useMemo(\n    () => getCopilotsColumns({ currentTerm: term, showScoreSorter: true }),\n    [term?.term],\n  );\n\n  return (\n    <Card>\n      <ProTable<CopilotType, TableParams>\n        rowKey={copilotRowKey}\n        actionRef={actionRef}\n        columns={columns}\n        params={deps}\n        request={request}\n        search={false}\n        toolBarRender={false}\n        ghost\n        {...TABLE_CONST_PROPS}\n      />\n    </Card>\n  );\n};\n","import { Tooltip } from 'antd';\nimport dayjs from 'dayjs';\nimport React from 'react';\nimport styles from './styles.module.less';\n\ninterface RelativeTimeTextProps {\n  time: Date;\n}\n\nexport const RelativeTimeText = React.memo<RelativeTimeTextProps>(\n  ({ time }) => {\n    return (\n      <Tooltip title={dayjs(time).format('YYYY-MM-DD HH:mm:ss')}>\n        <span className={styles.RelativeTimeText}>{dayjs(time).fromNow()}</span>\n      </Tooltip>\n    );\n  },\n  (prev, cur) => prev.time.valueOf() === cur.time.valueOf(),\n);\n","import { useModel } from '@modern-js/runtime/model';\nimport { Select } from 'antd';\nimport { useNavigate, useParams } from '@modern-js/runtime/router';\nimport { TermsModel } from '@/models/terms';\nimport type { RoutePath } from '@/views/GlobalLayout/constants';\n\nexport const TermChanger: React.FC<{\n  pathFn: typeof RoutePath.Copilots | typeof RoutePath.Solutions;\n}> = ({ pathFn }) => {\n  const params = useParams<{ term: `${number}` }>();\n  const [terms] = useModel(TermsModel);\n  const navigate = useNavigate();\n\n  return (\n    <Select\n      value={params.term && Number.parseInt(params.term, 10)}\n      options={terms.termsOptions}\n      placeholder=\"荒典期数\"\n      onChange={(nextTerm: number) => {\n        navigate(pathFn(nextTerm));\n      }}\n    />\n  );\n};\n","import { useModel } from '@modern-js/runtime/model';\nimport { Button, Result } from 'antd';\nimport { Link } from '@modern-js/runtime/router';\nimport { TermsModel } from '@/models/terms';\nimport { RoutePath } from '@/views/GlobalLayout/constants';\n\nexport const TermNotFound: React.FC = () => {\n  const [{ latestTerm: currentTerm }] = useModel(TermsModel);\n\n  return (\n    <Result\n      status=\"404\"\n      title=\"暂时没有这期荒典作业\"\n      subTitle=\"检查链接是否正确或返回最近荒典作业\"\n      extra={\n        currentTerm ? (\n          <Link to={RoutePath.Copilots(currentTerm.term)}>\n            <Button type=\"primary\">返回最近作业</Button>\n          </Link>\n        ) : (\n          <Link to={RoutePath.Home}>\n            <Button type=\"primary\">返回首页</Button>\n          </Link>\n        )\n      }\n    />\n  );\n};\n","import { useParams } from '@modern-js/runtime/router';\nimport { useRequest } from 'ahooks';\nimport { PageContainer } from '@ant-design/pro-components';\nimport { useMemo } from 'react';\nimport { useModel } from '@modern-js/runtime/model';\nimport { TermNotFound } from '@/components/TermNotFound';\nimport { TermChanger } from '@/components/TermChanger';\nimport { CopilotsTable } from '@/components/CopilotsTable';\nimport { TermsModel } from '@/models/terms';\nimport { getCopilots } from '@/services/http';\nimport { RoutePath } from '@/views/GlobalLayout/constants';\n\nconst CopilotsPage: React.FC = () => {\n  const params = useParams<{ term: `${number}` }>();\n  const [{ termsMap }] = useModel(TermsModel);\n  const currentTerm = useMemo(\n    () => params.term && termsMap[params.term],\n    [params.term],\n  );\n\n  const { data, error, loading } = useRequest(\n    () =>\n      currentTerm?.term\n        ? getCopilots(currentTerm.term)\n        : (Promise.resolve({}) as ReturnType<typeof getCopilots>),\n    { ready: Boolean(currentTerm?.term), refreshDeps: [currentTerm?.term] },\n  );\n\n  const copilots = useMemo(() => Object.values(data ?? []), [data]);\n\n  return (\n    <PageContainer\n      content={<TermChanger pathFn={RoutePath.Copilots} />}\n      title=\"作业全览\"\n      loading={loading}\n    >\n      {error ? (\n        <TermNotFound />\n      ) : (\n        <CopilotsTable currentTerm={currentTerm} dataSource={copilots} />\n      )}\n    </PageContainer>\n  );\n};\n\nexport default CopilotsPage;\n"],"names":["clsx","e","t","f","n","arguments","length","r","Array","isArray","AurorianCard","name","breakthrough","isReplaceable","sameSize","auroriansMap","useModel","AuroriansModel","aurorian","useMemo","cardRef","useRef","useEffect","aurorian_name","then","esm","default","current","style","backgroundImage","catch","Badge","fontSize","display","zIndex","text","undefined","className","ref","class","attribute","alt","src","ClassURLMapper","ElementURLMapper","secondary_attribute","title","aurorian_cn_name","rarity","ConfigProvider","theme","components","Rate","starBg","starSize","disabled","value","count","RarityMapper","AuroriansTeam","aurorianSummaries","map","is_replaceable","getCopilotsColumns","currentTerm","showScoreSorter","dataIndex","hideInSearch","render","_","entity","aurorian_summaries","width","valueType","sorter","align","ellipsis","renderText","dom","Tooltip","description","MessageOne","Typography","href","bv","target","term","rerun_terms","includes","Tag","color","RelativeTimeText","time","upload_time","hideInTable","fieldProps","placeholder","copilotRowKey","c","TABLE_CONST_PROPS","pagination","pageSize","size","position","showTotal","total","scroll","x","scrollToFirstRowOnChange","CopilotsTable","dataSource","actionRef","deps","filter","request","useCallback","params","sort","base","item","ok","score","startsWith","data","a","b","success","columns","Card","ProTable","rowKey","search","toolBarRender","ghost","format","fromNow","prev","cur","valueOf","TermChanger","pathFn","useParams","terms","TermsModel","navigate","useNavigate","Select","Number","parseInt","options","termsOptions","onChange","nextTerm","TermNotFound","latestTerm","Result","status","subTitle","extra","Link","to","RoutePath","Button","type","termsMap","error","loading","useRequest","getCopilots","Promise","resolve","ready","Boolean","refreshDeps","copilots","Object","values","PageContainer","content"],"mappings":"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"}