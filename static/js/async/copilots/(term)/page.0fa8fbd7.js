/*! For license information please see page.0fa8fbd7.js.LICENSE.txt */
(self.webpackChunk_sinsa_web=self.webpackChunk_sinsa_web||[]).push([["8473"],{20586:function(e,t,r){"use strict";e.exports={AurorianCard:"AurorianCard-d42393",aurorianCard:"AurorianCard-d42393",BlackContainer:"BlackContainer-e8c720",blackContainer:"BlackContainer-e8c720",BreakThrough:"BreakThrough-ce2a97",breakThrough:"BreakThrough-ce2a97",MetaAttributeContainer:"MetaAttributeContainer-_81be2",metaAttributeContainer:"MetaAttributeContainer-_81be2",MetaClass:"MetaClass-_18f93",metaClass:"MetaClass-_18f93",MetaContainer:"MetaContainer-_9d666",metaContainer:"MetaContainer-_9d666",MetaFirstAttribute:"MetaFirstAttribute-_39683",metaFirstAttribute:"MetaFirstAttribute-_39683",MetaSecondAttribute:"MetaSecondAttribute-b69352",metaSecondAttribute:"MetaSecondAttribute-b69352",NameContainer:"NameContainer-a93283",nameContainer:"NameContainer-a93283",Skin:"Skin-_6e8ba",skin:"Skin-_6e8ba"}},3569:function(e,t,r){"use strict";e.exports={AuroriansTeam:"AuroriansTeam-_162da",auroriansTeam:"AuroriansTeam-_162da"}},37084:function(e,t,r){"use strict";r.r(t),r.d(t,{AurorianCard:function(){return d}});var a=r("66791"),n=r("11100"),o=r.n(n),i=r("67348"),l=r("94470"),s=r("20586"),u=r("75122"),c=r("39538");let d=o().memo(e=>{let{name:t,breakthrough:o,isReplaceable:d}=e,[{auroriansMap:m}]=(0,i.useModel)(c.AuroriansModel),p=(0,n.useMemo)(()=>m[t],[m,t]),b=(0,n.useRef)(null);return(0,n.useEffect)(()=>{(null==p?void 0:p.aurorian_name)&&r("32662")("@/assets/skins/".concat(p.aurorian_name,".webp").replace("@/assets/skins/","./")).then(e=>{"string"==typeof(null==e?void 0:e.default)&&b.current&&(b.current.style.backgroundImage="url(".concat(e.default,")"),console.log(b.current,b.current.style,"url(".concat(e.default,")")))}).catch(()=>{})},[null==p?void 0:p.aurorian_name]),(0,a.jsx)(l.Badge.Ribbon,{style:{fontSize:"12px",display:d?"block":"none",zIndex:1e4},text:d?"\u53EF\u66FF":void 0,children:(0,a.jsxs)("div",{className:s.AurorianCard,ref:b,children:[(null==p?void 0:p.class)&&(null==p?void 0:p.attribute)?(0,a.jsxs)("div",{className:s.MetaContainer,children:[(0,a.jsx)("img",{className:s.MetaClass,alt:p.class,src:u.ClassURLMapper[p.class]}),(0,a.jsxs)("div",{className:s.MetaAttributeContainer,children:[(0,a.jsx)("img",{className:s.MetaFirstAttribute,alt:p.attribute,src:u.ElementURLMapper[p.attribute]}),p.secondary_attribute?(0,a.jsx)("img",{className:s.MetaSecondAttribute,alt:p.secondary_attribute,src:u.ElementURLMapper[p.secondary_attribute]}):null]})]}):null,(0,a.jsxs)("div",{className:s.NameContainer,children:[(0,a.jsx)("div",{title:null==p?void 0:p.aurorian_name,children:null==p?void 0:p.aurorian_cn_name}),(null==p?void 0:p.rarity)?(0,a.jsx)(l.ConfigProvider,{theme:{components:{Rate:{starBg:"white",starSize:10}}},children:(0,a.jsx)(l.Rate,{className:s.BreakThrough,disabled:!0,value:o,count:u.RarityMapper[p.rarity]})}):null]})]})})})},92079:function(e,t,r){"use strict";r.r(t),r.d(t,{AuroriansTeam:function(){return i}});var a=r("66791");r("11100");var n=r("37084"),o=r("3569");let i=e=>{let{aurorianSummaries:t}=e;return(0,a.jsx)("div",{className:o.AuroriansTeam,children:t.map(e=>{let{aurorian_name:t,breakthrough:r,is_replaceable:o}=e;return(0,a.jsx)(n.AurorianCard,{name:t,breakthrough:r,isReplaceable:o},t)})})}},84157:function(e,t,r){"use strict";r.r(t),r.d(t,{copilotsColumns:function(){return i}});var a=r("66791"),n=r("94470"),o=r("92079");let i=[{title:"\u5149\u7075\u914D\u7F6E",dataIndex:"aurorian_summaries",hideInSearch:!0,render:(e,t)=>(0,a.jsx)(o.AuroriansTeam,{aurorianSummaries:t.aurorian_summaries}),width:448},{title:"\u7ED3\u7B97\u5206\u6570",dataIndex:"score",valueType:"digit",width:130,hideInSearch:!0},{title:"\u4F5C\u8005",dataIndex:"author",valueType:"select",hideInSearch:!0,ellipsis:!0,width:150},{title:"\u6807\u9898",dataIndex:"title",ellipsis:!0,render:(e,t)=>(0,a.jsx)(n.Typography.Link,{href:"https://b23.tv/".concat(t.bv),target:"_blank",title:t.title,children:t.title})},{title:"\u4E0A\u4F20\u65F6\u95F4",dataIndex:"upload_time",valueType:"dateTime",width:160}]},64204:function(e,t,r){"use strict";r.r(t),r.d(t,{copilotRowKey:function(){return l},CopilotsTable:function(){return s}});var a=r("66791"),n=r("11100"),o=r("44746"),i=r("84157");function l(e){return e.bv}let s=e=>{let{dataSource:t,term:r}=e,s=(0,n.useRef)(),u=(0,n.useMemo)(()=>({term:r}),[r]),c=(0,n.useCallback)(async e=>({data:t.filter(t=>{let r=!0;return e.title&&(r=t.title.includes(e.title)),r}),success:!0}),[]);return(0,a.jsx)(o.ProTable,{toolbar:{title:"\u6536\u5F55\u4F5C\u4E1A"},rowKey:l,actionRef:s,columns:i.copilotsColumns,params:u,request:c,pagination:{pageSize:5,size:"default",position:["bottomCenter"]}})}},71240:function(e,t,r){"use strict";r.r(t),r.d(t,{SolutionScenarioCard:function(){return u}});var a=r("66791"),n=r("44746"),o=r("11100"),i=r("38975"),l=r("64204"),s=r("84157");let u=e=>{let{solution:t,title:r}=e,u=(0,o.useCallback)(async()=>({data:(0,i.produce)(t.copilots,e=>{e.sort((e,t)=>Number(t.score-e.score))}),success:!0}),[]);return(0,a.jsx)(n.ProTable,{toolbar:{title:r,settings:[]},rowKey:l.copilotRowKey,columns:s.copilotsColumns,request:u,search:!1,pagination:!1,size:"small"})}},31128:function(e,t,r){"use strict";r.r(t),r.d(t,{CopilotHeader:function(){return u}});var a=r("66791"),n=r("67348"),o=r("94470"),i=r("51895"),l=r("9596"),s=r("28445");let u=()=>{let e=(0,i.useParams)(),[t]=(0,n.useModel)(l.TermsModel),r=(0,i.useNavigate)();return(0,a.jsx)(o.Select,{value:e.term&&Number.parseInt(e.term,10),options:t.termsOptions,placeholder:"\u8352\u5178\u671F\u6570",onChange:e=>{r(s.RoutePath.Copilots(e))}})}},17266:function(e,t,r){"use strict";r.r(t),r.d(t,{CopilotSolution:function(){return p}});var a=r("66791"),n=r("91118"),o=r("94470"),i=r("11100"),l=r("67348"),s=r("32802"),u=r.n(s),c=r("51436"),d=r("39538"),m=r("71240");let p=e=>{let{dataSource:t}=e,[{WHOLE_BOX:r}]=(0,l.useModel)(d.AuroriansModel),[s,p]=(0,i.useState)();return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(o.Typography.Title,{level:3,children:"\u5BFB\u627E\u961F\u4F0D\u65B9\u6848"}),(0,a.jsxs)(n.QueryFilter,{defaultCollapsed:!0,onFinish:async e=>{p((0,c.calculateAllScenariosAndScores)({copilots:t,availableBox:r.aurorian_summaries},e.k,{disalbeAlternative:e.disalbeAlternative}))},searchText:"\u5BFB\u627E\u961F\u4F0D\u65B9\u6848",initialValues:{k:3,box:"whole"},layout:"vertical",children:[(0,a.jsx)(n.ProFormRadio.Group,{name:"k",label:"\u961F\u4F0D\u6570\u91CF",rules:[{required:!0}],options:[{label:"\u4E24\u652F\u961F\u4F0D",value:2},{label:"\u4E09\u652F\u961F\u4F0D",value:3},{label:"\u56DB\u652F\u961F\u4F0D",value:4}],allowClear:!1,radioType:"button"}),(0,a.jsx)(n.ProFormRadio.Group,{name:"box",label:"Box \u5339\u914D",options:[{label:"\u5168\u56FE\u9274\u6EE1\u7A81\u7834 Box",value:"whole"},{label:"\u6211\u7684\u81EA\u5B9A\u4E49 Box",value:"my-box",disabled:!0}],allowClear:!1,radioType:"button",rules:[{required:!0}]}),(0,a.jsx)(n.ProFormSwitch,{name:"disalbeAlternative",label:"\u4E0D\u8003\u8651\u53EF\u66FF\u81EA\u7531\u4F4D"})]}),(null==s?void 0:s.scenarios.length)?(0,a.jsxs)(o.Typography.Paragraph,{children:["\u5DF2\u4E3A\u60A8\u627E\u5230 ",null==s?void 0:s.scenarios.length," ","\u4E2A\u961F\u4F0D\u65B9\u6848\uFF0C\u603B\u5206\u6570\u7531\u9AD8\u81F3\u4F4E\u6392\u5217"]}):null,(0,a.jsx)(o.List,{dataSource:null==s?void 0:s.scenarios,pagination:{align:"center"},rowKey:e=>e.copilots.map(e=>e.bv).join(""),renderItem:e=>(0,a.jsx)("div",{style:{marginBottom:"1rem"},children:(0,a.jsx)(m.SolutionScenarioCard,{solution:e,title:"\u65B9\u6848: ".concat(u()(e.totalScore).format("0,0")," \u5206")})},e.copilots.map(e=>e.bv).join(""))})]})}},1860:function(e,t,r){"use strict";r.r(t),r.d(t,{TermNotFound:function(){return u}});var a=r("66791"),n=r("67348"),o=r("94470"),i=r("51895"),l=r("9596"),s=r("28445");let u=()=>{let[{firstTerm:e}]=(0,n.useModel)(l.TermsModel);return(0,a.jsx)(o.Result,{status:"404",title:"\u8352\u5178\u4F5C\u4E1A\u4E0D\u89C1\u4E86",subTitle:"\u68C0\u67E5\u94FE\u63A5\u662F\u5426\u6B63\u786E\u6216\u8FD4\u56DE\u6700\u8FD1\u8352\u5178\u4F5C\u4E1A",extra:e?(0,a.jsx)(i.Link,{to:s.RoutePath.Copilots(e.term),children:(0,a.jsx)(o.Button,{type:"primary",children:"\u8FD4\u56DE\u6700\u8FD1\u4F5C\u4E1A"})}):(0,a.jsx)(i.Link,{to:s.RoutePath.Home,children:(0,a.jsx)(o.Button,{type:"primary",children:"\u8FD4\u56DE\u9996\u9875"})})})}},94114:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return p}});var a=r("66791"),n=r("51895"),o=r("36404"),i=r("98022"),l=r("11100"),s=r("5086"),u=r("1860"),c=r("31128"),d=r("17266"),m=r("64204"),p=()=>{let e=(0,n.useParams)(),{data:t,error:r,isLoading:p}=(0,o.default)("/api/copilots/".concat(e.term,".json"),s.fetcher),b=(0,l.useMemo)(()=>Object.values(null!=t?t:[]),[t]);return r?(0,a.jsx)(u.TermNotFound,{}):(0,a.jsxs)(i.PageContainer,{content:(0,a.jsx)(c.CopilotHeader,{}),title:"\u8352\u5178\u4F5C\u4E1A",loading:p,children:[(0,a.jsx)(m.CopilotsTable,{term:e.term,dataSource:b}),(0,a.jsx)(d.CopilotSolution,{dataSource:b})]})}},51436:function(e,t,r){"use strict";r.r(t),r.d(t,{calculateAllScenariosAndScores:function(){return i}});var a=r("38975"),n=r("91006"),o=r("47621");function i(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,{disalbeAlternative:r}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i={scenarios:[]};return!function a(l,s,u,c){if(0===c||l===e.copilots.length){u.length>=t&&i.scenarios.push({copilots:[...u],totalScore:u.reduce((e,t)=>e+BigInt(t.score),BigInt(0))});return}let d=e.copilots[l];(0,o.canUseCopilot)(s,d,{disalbeAlternative:r})&&a(l+1,(0,n.boxWithoutAuroriansInCopilot)(s,d,{disalbeAlternative:r}),[...u,d],c-1),a(l+1,s,u,c)}(0,e.availableBox,[],t),i.scenarios=(0,a.produce)(i.scenarios,e=>{e.sort((e,t)=>Number(t.totalScore-e.totalScore))}),i}},91006:function(e,t,r){"use strict";r.r(t),r.d(t,{boxWithoutAuroriansInCopilot:function(){return n}});var a=r("38975");function n(e,t,r){let{disalbeAlternative:n}=r;return(0,a.produce)(e,e=>{for(let r of t.aurorian_summaries)(n||!r.is_replaceable)&&delete e[r.aurorian_name]})}},47621:function(e,t,r){"use strict";function a(e,t,r){let{disalbeAlternative:a}=r;for(let r of t.aurorian_summaries){if(!a&&r.is_replaceable)continue;let t=e[r.aurorian_name];if(!t||t.breakthrough<r.breakthrough)return!1}return!0}r.r(t),r.d(t,{canUseCopilot:function(){return a}})},5086:function(e,t,r){"use strict";function a(e){return fetch(e).then(e=>e.json())}r.r(t),r.d(t,{fetcher:function(){return a}})}}]);